{"version":3,"sources":["../../../../../src/js/app.js","../../../../../src/js/functions.js","../../../../../src/js/alerts.js","../../../../../src/js/templates.js","../../../../../src/js/controllers/BotController.js","../../../../../src/js/controllers/BrowseController.js","../../../../../src/js/controllers/CategoryController.js","../../../../../src/js/controllers/HelpController.js","../../../../../src/js/controllers/HomeController.js","../../../../../src/js/controllers/NotificationsController.js","../../../../../src/js/controllers/SettingsController.js","../../../../../src/js/controllers/StickerController.js","../../../../../src/js/controllers/StickersController.js","../../../../../src/js/controllers/TaskController.js","../../../../../src/js/controllers/auth/ForgotController.js","../../../../../src/js/controllers/auth/LoginController.js","../../../../../src/js/controllers/auth/ResetController.js","../../../../../src/js/controllers/auth/SignupController.js","../../../../../src/js/controllers/modals/PostFormController.js","../../../../../src/js/controllers/modals/StickerFormController.js","../../../../../src/js/controllers/modals/SubmissionFormController.js","../../../../../src/js/controllers/modals/TaskFormController.js","../../../../../src/js/controllers/partials/CommentFormController.js","../../../../../src/js/controllers/partials/EventsController.js","../../../../../src/js/controllers/partials/HeaderController.js","../../../../../src/js/controllers/partials/PostsController.js","../../../../../src/js/controllers/user/UserPlannerController.js","../../../../../src/js/controllers/user/UserProfileController.js","../../../../../src/js/controllers/user/UserStickersController.js","../../../../../src/js/directives/ckeditor.js","../../../../../src/js/directives/dropzone.js","../../../../../src/js/directives/masonry.js","../../../../../src/js/directives/st-comments.js","../../../../../src/js/directives/st-notifications.js","../../../../../src/js/directives/st-progress.js","../../../../../src/js/directives/st-rating.js","../../../../../src/js/directives/st-sticker.js","../../../../../src/js/directives/st-tabs.js","../../../../../src/js/directives/st-users.js","../../../../../src/js/filters/markdown.js","../../../../../src/js/filters/plural.js","../../../../../src/js/filters/range.js","../../../../../src/js/filters/suppress-zero.js","../../../../../src/js/filters/titlecase.js","../../../../../src/js/libraries/ArrayPrototype.js","../../../../../src/js/libraries/StringPrototype.js","../../../../../src/js/resources/CategoryResource.js","../../../../../src/js/resources/CommentResource.js","../../../../../src/js/resources/EventLogResource.js","../../../../../src/js/resources/PostResource.js","../../../../../src/js/resources/SessionResource.js","../../../../../src/js/resources/StickerResource.js","../../../../../src/js/resources/SubmissionResource.js","../../../../../src/js/resources/TaskResource.js","../../../../../src/js/resources/ToDoResource.js","../../../../../src/js/resources/UserNotificationsResource.js","../../../../../src/js/resources/UserResource.js","../../../../../src/js/services/AuthService.js","../../../../../src/js/services/NotificationService.js","../../../../../src/js/services/ProgressService.js"],"names":["preventDefault","$event","stopPropagation","setBg","$element","url","setTimeout","removeClass","iOS","css","$","backstretch","addClass","clearBg","closeNav","alertSuccess","message","Messenger","post","type","showCloseButton","hideAfter","alertError","test","navigator","userAgent","window","MSStream","app","angular","module","config","$httpProvider","$locationProvider","$stateProvider","$urlRouterProvider","localStorageServiceProvider","html5Mode","setPrefix","setStorageType","setStorageCookie","state","templateUrl","controller","params","loginFormData","response","otherwise","run","$rootScope","$state","AuthService","UserNotificationsResource","NotificationService","moment","FastClick","attach","document","body","locale","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","Dropzone","autoDiscover","dropzoneConfig","options","autoProcessQueue","uploadMultiple","addRemoveLinks","eventHandlers","sending","file","xhr","formData","success","pageTitle","headerTitle","checkSession","currentUser","getUser","$on","event","args","user","onLogin","token","ev","to","toParams","from","searchOpen","attr","name","scrollTop","documentElement","costs","times","ratings","notificationsPreview","notificationsOpen","notifications","bodyClick","on","e","target","closest","length","hasClass","$templateCache","put","extraClasses","theme","$scope","TaskResource","skipMessages","goMessages","skipMessage","goMessage","task","loading","cost","time","findTask","query","console","log","bgUrl","shuffle","$watch","CategoryResource","categories","$stateParams","category","hasSubcategories","hasStickers","get","slug","subcategories","stickers","$filter","PostResource","StickerResource","ModalService","debounce","ToDoResource","EventLogResource","splashImages","splashImage","eventLog","searchData","value","searchResults","searchLoading","debouncedSearch","search","q","results","i","result","isOnToDoList","sticker","searchFocus","scrollTo","closeSearch","searchBlur","newSticker","showModal","inputs","then","modal","close","go","toggleToDo","data","taskId","id","stickerId","people","username","save","showPostTasks","posts","init","UserResource","$timeout","hasNewImage","dropzone","acceptedFiles","maxFiles","getSessionToken","clickable","thumbnailWidth","files","removeFile","$apply","JSON","parse","hasOwnProperty","imageId","image","finishSubmit","errorMessage","$$phase","about","profile","submit","processQueue","update","removeAllFiles","messages","errors","generatingAvatar","generateAvatar","ProgressService","progress","taskPadding","getProgress","loadDoers","earners","getEarners","Math","max","tasks","getDoers","doers","likeEarner","earner","likeClicked","pivot","liked","likeCount","parseInt","earntId","unlikeEarner","likeDoer","doer","toDoId","unlikeDoer","addTask","SubmissionResource","CommentResource","onTaskLoad","postsOrder","getTaskPosts","taskSlug","postType","comments","postSlug","title","getPostsComments","postId","goToTask","setPostsOrder","order","showSubmissionForm","unshift","showPostForm","submissionFormData","text","addSubmission","commentFormVisible","showCommentForm","replyToComment","commentFormData","replyTo","prepend","hideCommentForm","clear","comment","addComment","saveReply","commentId","replies","replyCount","forgotFormData","email","forgot","password","login","sortLoginErrors","general","resetFormData","confirmPassword","reset","signupFormData","signup","setPostType","saveTaskPost","getList","categoryId","submitting","getImageIds","ids","getFilesWithStatus","push","submissionType","toLowerCase","hasFirstStage","stage","nextEnabled","imageIds","private","rating","toStage","nextStage","setPrivate","val","submission","submissionTypes","icon","label","$parent","likeEvent","unlikeEvent","logout","back","history","toggleNotifications","likePost","unlikePost","goToPost","submissions","showPostUser","showPostApproval","possessiveName","getPosts","todo","getStickers","factory","define","amd","$defer","loaded","$q","checkLoaded","CKEDITOR","status","localPlugins","plugins","addExternal","resolve","defer","isUndefined","Error","disableAutoInline","definition","minHeight","removeContents","tabInfo","getContents","elements","remove","add","setup","protocol","address","this","setValue","commit","getValue","directive","restrict","require","scope","link","element","attrs","ctrls","ngModel","form","EMPTY_HTML","isTextarea","tagName","isReady","onLoad","contentsCss","assetVersion","extraPlugins","disableObjectResizing","linkShowAdvancedTab","linkShowTargetTab","selectMultiple","imageUploadUrl","removePlugins","resize_enabled","height","width","toolbar","items","disableNativeSpellChecker","uiColor","ckeditor","extend","instance","replace","inline","configLoaderDef","bind","removeAllListeners","setModelData","setPristine","getData","toMarkdown","$viewValue","$setViewValue","$setPristine","onUpdateModelData","item","pop","setData","$broadcast","$render","promise","forEach","handler","elem","container","itemSelector","fromJson","masonry","Masonry","debounceTimeout","cancel","reloadItems","layout","find","removeBrick","appendBricks","ele","appended","master","imagesLoaded","ready","likeComment","unlikeComment","loadCommentReplies","getCommentReplies","deleteComment","index","confirm","splice","template","toggle","notification","goTo","destination","model","values","t","getInitials","string","match","join","children","design","imageUrl","html","Sticker","initials","onChange","like","filter","word","count","range","input","smallWords","charAt","substr","toUpperCase","Array","prototype","j","temp","floor","random","String","capitalizeFirstLetter","slice","$resource","apiUrl","sessionToken","cache","transformResponse","isArray","method","getLikes","events","session","submissionId","delete","getSubmissions","service","localStorageService","SessionResource","self","onLogout","reject","newSession","newSessionToken","set","socket","connected","getNotifications","initSocket","setUser","io","socketUrl","addNewNotification","emit","$digest","completed","completedIds","pending","pendingIds","rejected","rejectedIds","remaining","percent","taskIds","indexOf","required","requiredTasks","ceil","min"],"mappings":"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","file":"stickable.min.js","sourcesContent":["\"use strict\";\n\nvar app = angular.module('stickable', [\n    'ui.router',\n    'ngResource',\n    'ngSanitize',\n    'LocalStorageModule',\n    'angularModalService',\n    'ngAnimate',\n    'angularMoment',\n    'ngCkeditor',\n    'markdown',\n    'masonry',\n    //'angucomplete-alt',\n    'rt.debounce'\n]);\n\napp.config(function ($httpProvider,\n                     $locationProvider,\n                     $stateProvider,\n                     $urlRouterProvider,\n                     localStorageServiceProvider) {\n\n    $locationProvider.html5Mode(true);\n\n    localStorageServiceProvider\n        .setPrefix('stickable')\n        .setStorageType('localStorage')\n        .setStorageCookie(0, '/');\n\n    /**\n     * States\n     */\n    $stateProvider\n        .state('home', {\n            url: \"/\",\n            templateUrl: \"views/pages/home.html\",\n            controller: 'HomeController'\n        })\n\n        .state('help', {\n            url: \"/help\",\n            templateUrl: \"views/pages/help.html\",\n            controller: 'HelpController'\n        })\n\n        .state('design', {\n            url: \"/design\",\n            templateUrl: \"views/pages/design.html\",\n        })\n\n        .state('browse', {\n            url: \"/browse\",\n            templateUrl: \"views/pages/browse.html\",\n            controller: 'BrowseController'\n        })\n\n        .state('stickers', {\n            url: \"/stickers\",\n            templateUrl: \"views/pages/stickers.html\",\n            controller: 'StickersController'\n        })\n\n        .state('bot', {\n            url: \"/bot\",\n            templateUrl: \"views/pages/bot.html\",\n            controller: 'BotController'\n        })\n\n        .state('signup', {\n            url: \"/signup\",\n            templateUrl: \"views/pages/auth/signup.html\",\n            controller: 'SignupController'\n        })\n\n        .state('login', {\n            url: \"/login\",\n            templateUrl: \"views/pages/auth/login.html\",\n            controller: 'LoginController',\n            params: {\n                loginFormData: null,\n                response: null\n            },\n        })\n\n        .state('forgot', {\n            url: \"/forgot\",\n            templateUrl: \"views/pages/auth/forgot.html\",\n            controller: 'ForgotController'\n        })\n\n        .state('reset', {\n            url: \"/reset/{token:string}\",\n            templateUrl: \"views/pages/auth/reset.html\",\n            controller: 'ResetController'\n        })\n\n        .state('settings', {\n            url: \"/settings\",\n            templateUrl: \"views/pages/settings/index.html\",\n            controller: 'SettingsController'\n        })\n\n        .state('notifications', {\n            url: \"/notifications\",\n            templateUrl: \"views/pages/notifications/index.html\",\n            controller: 'NotificationsController'\n        })\n\n        .state('user', {\n            url: \"/user/{username:string}\",\n            templateUrl: \"views/pages/user/view.html\",\n            controller: 'UserProfileController'\n        })\n\n        .state('user-planner', {\n            url: \"/user/{username:string}/planner\",\n            templateUrl: \"views/pages/user/planner.html\",\n            controller: 'UserPlannerController'\n        })\n\n        .state('user-stickers', {\n            url: \"/user/{username:string}/stickers\",\n            templateUrl: \"views/pages/user/stickers.html\",\n            controller: 'UserStickersController'\n        })\n\n        .state('user-submissions', {\n            url: \"/user/{username:string}/submissions\",\n            templateUrl: \"views/pages/user/submissions.html\",\n            controller: 'UserSubmissionsController'\n        })\n\n        .state('category', {\n            url: \"/category/{slug:string}\",\n            templateUrl: \"views/pages/category/view.html\",\n            controller: 'CategoryController'\n        })\n\n        .state('sticker', {\n            url: \"/sticker/{slug:string}\",\n            templateUrl: \"views/pages/sticker/view.html\",\n            controller: 'StickerController'\n        })\n\n        .state('task', {\n            url: \"/task/{slug:string}\",\n            templateUrl: \"views/pages/task/view.html\",\n            controller: 'TaskController'\n        })\n\n        .state('post', {\n            url: \"/task/{slug:string}/{postSlug:string}\",\n            templateUrl: \"views/pages/task/view.html\",\n            controller: 'TaskController'\n        });\n\n    // For any unmatched url, redirect to /\n    $urlRouterProvider.otherwise('/');\n\n});\n\napp.run(function ($rootScope, $state, AuthService, UserNotificationsResource, NotificationService, moment) {\n\n    $rootScope.iOS = iOS;\n\n    FastClick.attach(document.body);\n\n    moment.locale('en', {\n        relativeTime: {\n            future: \"in %s\",\n            past: \"%s\",\n            s: \"1s\",\n            m: \"1m\",\n            mm: \"%dm\",\n            h: \"1h\",\n            hh: \"%dh\",\n            d: \"1d\",\n            dd: \"%dd\",\n            M: \"1mo\",\n            MM: \"%dmo\",\n            y: \"1y\",\n            yy: \"%dy\"\n        }\n    });\n\n    marked.setOptions({\n        renderer: new marked.Renderer(),\n        gfm: true,\n        tables: false,\n        breaks: true,\n        pedantic: false,\n        sanitize: true,\n        smartLists: true,\n        smartypants: false\n    });\n\n    Dropzone.autoDiscover = false;\n\n    $rootScope.dropzoneConfig = {\n        options: {\n            autoProcessQueue: false,\n            uploadMultiple: true,\n            addRemoveLinks: true,\n            url: '/api/images'\n        },\n        'eventHandlers': {\n            'sending': function (file, xhr, formData) {\n            },\n            'success': function (file, response) {\n            }\n        }\n    };\n\n    $rootScope.$state = $state;\n\n    // Content for page's <title>\n    $rootScope.pageTitle = '';\n\n    // Title shown in header on mobile. Blank = show logo\n    $rootScope.headerTitle = '';\n\n    AuthService.checkSession();\n    $rootScope.currentUser = AuthService.getUser();\n\n    $rootScope.$on('login', function (event, args) {\n        $rootScope.currentUser = args.user;\n        NotificationService.onLogin(args.user, args.token);\n    });\n\n    $rootScope.$on('logout', function () {\n        $rootScope.currentUser = false;\n    });\n\n    $rootScope.$on('$stateChangeStart', function (ev, to, toParams, from) {\n        $rootScope.searchOpen = false;\n        $rootScope.headerTitle = '';\n        $rootScope.pageTitle = '';\n        clearBg();\n    });\n\n    $rootScope.$on('$stateChangeSuccess', function (ev, to, toParams, from) {\n        $('body').removeClass('navbar-visible').attr('data-previous', from.name);\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n    });\n\n    $rootScope.costs = ['Free', '< $10', '$10 - $50', '$50 - $200', '> $200'];\n    $rootScope.times = ['< 15 mins', '< 1 hr', '1 - 4 hrs', '1 day', '> 1 day'];\n    $rootScope.ratings = ['Sucked', 'Meh', 'Good', 'Great', 'Life Changing'];\n\n    $rootScope.notificationsPreview = 0;\n    $rootScope.notificationsOpen = false;\n    $rootScope.notifications = [];\n\n    $rootScope.bodyClick = function ($event) {\n        $rootScope.notificationsOpen = false;\n    };\n\n});\n\n//var previousScrollY = 0;\n\n$(document).on('click', 'body:not(.navbar-visible) .navbar-toggle', function (e) {\n    e.preventDefault();\n    //previousScrollY = window.scrollY;\n    //window.scrollTo(0,0);\n    $('body').addClass('navbar-visible');\n});\n\n$(document).on('click', 'body.navbar-visible .navbar-toggle', function (e) {\n    e.preventDefault();\n    closeNav();\n});\n\n$(document).on('click', 'body.navbar-visible', function (e) {\n    if ($(e.target).closest('#sidenav').length > 0) {\n        // Ignore clicks on the nav itself\n\n    } else if (\n        !$(e.target).closest('button').hasClass('navbar-toggle')\n        && !$(e.target).hasClass('navbar-toggle')\n    ) {\n        e.preventDefault();\n        closeNav();\n    }\n});\n\nfunction closeNav() {\n    //window.scrollTo(0, previousScrollY);\n    $('body').removeClass('navbar-visible');\n}\n","function preventDefault($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n}\n\nvar iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\nfunction setBg($element, url) {\n    setTimeout(function () {\n        if (url) {\n            $element.removeClass('dark-bg');\n            if (iOS) {\n                $element.css('background-image', 'url(' + url + ')');\n            } else {\n                $.backstretch(url);\n            }\n        } else {\n            $element.addClass('dark-bg');\n        }\n    }, 1);\n}\n\nfunction clearBg() {\n    $('.splash').backstretch('destroy');\n    // FIXME: This tries to load 'destroy' as an image\n    $.backstretch('destroy');\n}\n","Messenger.options = {\n    extraClasses: 'messenger-fixed messenger-on-top messenger-on-center',\n    theme: 'flat',\n    //messageDefaults: {\n    //    //hideAfter: 5\n    //}\n};\n\nfunction alertSuccess(message) {\n    Messenger().post({\n        message: message,\n        type: 'success',\n        showCloseButton: true,\n        hideAfter: 3\n    });\n}\n\nfunction alertError(message) {\n    Messenger().post({\n        message: message,\n        type: 'error',\n        showCloseButton: true,\n        hideAfter: 3\n    });\n}\n","angular.module('stickable').run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('views/directives/st-notifications.html',\n    \"<ul class=\\\"dropdown-menu notifications-dropdown notification-list\\\">\\n\" +\n    \"    <li ng-if=\\\"notifications.length < 1\\\" class=\\\"no-notifications\\\">\\n\" +\n    \"        No unread notifications\\n\" +\n    \"    </li>\\n\" +\n    \"    <li\\n\" +\n    \"            ng-if=\\\"notifications.length > 0\\\"\\n\" +\n    \"            ng-repeat=\\\"(index, notification) in notifications\\\"\\n\" +\n    \"            ng-class=\\\"{'new-notification': notification.new}\\\"\\n\" +\n    \"            >\\n\" +\n    \"        <a href=\\\"#\\\" ng-click=\\\"goTo($event, index)\\\" class=\\\"media\\\">\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"media-left\\\" ng-if=\\\"notification.image\\\">\\n\" +\n    \"                <span>\\n\" +\n    \"                    <img ng-src=\\\"{{notification.image}}\\\" />\\n\" +\n    \"                </span>\\n\" +\n    \"            </span>\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"media-body media-middle\\\">\\n\" +\n    \"                <i class=\\\"fa\\\" ng-class=\\\"'fa-'+notification.icon\\\"></i>\\n\" +\n    \"                <span ng-bind-html=\\\"notification.text | markdown\\\"></span>\\n\" +\n    \"            </span>\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"media-right media-middle\\\" ng-click=\\\"clear($event, index)\\\">\\n\" +\n    \"                <span class=\\\"time\\\" am-time-ago=\\\"notification.createdAt\\\"></span>\\n\" +\n    \"                <i class=\\\"btn-clear fa fa-times-circle-o\\\"></i>\\n\" +\n    \"            </span>\\n\" +\n    \"\\n\" +\n    \"        </a>\\n\" +\n    \"    </li>\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/directives/st-progress.html',\n    \"<span class=\\\"progress\\\">\\n\" +\n    \"  <span\\n\" +\n    \"        class=\\\"progress-bar progress-bar-success\\\"\\n\" +\n    \"        ng-style=\\\"{'width': progress.percent+'%'}\\\">\\n\" +\n    \"      {{progress.completed}} completed\\n\" +\n    \"  </span>\\n\" +\n    \"  <span\\n\" +\n    \"        class=\\\"progress-bar progress-bar-white\\\"\\n\" +\n    \"        ng-style=\\\"{'width': (100-progress.percent)+'%'}\\\">\\n\" +\n    \"      {{progress.remaining}} needed\\n\" +\n    \"  </span>\\n\" +\n    \"</span>\\n\"\n  );\n\n\n  $templateCache.put('views/directives/st-tabs.html',\n    \"<ul class=\\\"tabs tabs-{{ values.length }}\\\">\\n\" +\n    \"\\n\" +\n    \"    <li ng-repeat=\\\"value in values\\\" ng-class=\\\"{'tab-current': model === value.value}\\\">\\n\" +\n    \"        <a href=\\\"#\\\" ng-click=\\\"onChange($event, value.value)\\\">\\n\" +\n    \"            <i class=\\\"fa fa-fw fa-{{ value.icon }}\\\"></i> {{ value.label }}\\n\" +\n    \"        </a>\\n\" +\n    \"    </li>\\n\" +\n    \"\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/directives/st-users.html',\n    \"<div class=\\\"user-list\\\">\\n\" +\n    \"    <div class=\\\"user\\\" ng-repeat=\\\"user in data.users\\\" ng-class=\\\"{'liked': !!user.pivot.liked, 'like-clicked': !!user.likeClicked}\\\">\\n\" +\n    \"\\n\" +\n    \"        <a href=\\\"/user/{{ user.username }}\\\">\\n\" +\n    \"            <span class=\\\"pic\\\" ng-style=\\\"{'background-image':user.imageThumbUrl?'url('+user.imageThumbUrl+')' : ''}\\\">\\n\" +\n    \"                <span>\\n\" +\n    \"                    {{ user.username }}\\n\" +\n    \"                    <small>\\n\" +\n    \"                        <i class=\\\"fa fa-clock-o\\\"></i> <span am-time-ago=\\\"user.pivot.createdAt\\\"></span>\\n\" +\n    \"                    </small>\\n\" +\n    \"                </span>\\n\" +\n    \"            </span>\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <a class=\\\"like-btn like-thumb\\\" ng-click=\\\"like($event, user)\\\" href=\\\"#\\\">\\n\" +\n    \"            <span><strong ng-bind=\\\"user.pivot.likeCount  | suppressZero\\\"></strong> <i class=\\\"fa fa-thumbs-up\\\"></i></span>\\n\" +\n    \"        </a>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/modals/post-form.html',\n    \"<div class=\\\"modal\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2>Add A Post</h2>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"alert alert-info\\\"><i class=\\\"fa fa-info-circle\\\"></i> This is for asking questions or giving tips about the <strong>{{ task.name }}</strong> task. If you want to show that you've completed the task, close this popup and click <em>I've done it</em> instead.</div>\\n\" +\n    \"\\n\" +\n    \"                <!--<div class=\\\"form-group\\\">\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"tabs tabs-2\\\">\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postType === 'tip' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostType($event, 'tip')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-info-circle\\\"></i> Tip\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postType === 'question' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostType($event, 'question')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-question-circle\\\"></i> Question\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"\\n\" +\n    \"                </div>-->\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <label for=\\\"post-title\\\">Title</label>\\n\" +\n    \"                    <input type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control\\\"\\n\" +\n    \"                           ng-model=\\\"formData.title\\\"\\n\" +\n    \"                           id=\\\"post-title\\\"\\n\" +\n    \"                           placeholder=\\\"Give your post a title.\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <label for=\\\"post-text\\\">Post</label>\\n\" +\n    \"                    <textarea class=\\\"form-control\\\" id=\\\"post-text\\\" ng-model=\\\"formData.text\\\" placeholder=\\\"Write your tip, question, or other post here.\\\"></textarea>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"\\n\" +\n    \"                <button ng-click=\\\"close()\\\"\\n\" +\n    \"                        type=\\\"button\\\"\\n\" +\n    \"                        class=\\\"btn btn-danger btn-labeled pull-left hidden-xs hidden-sm\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-trash\\\"></i></span>\\n\" +\n    \"                    Cancel\\n\" +\n    \"                </button>\\n\" +\n    \"\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/modals/sticker-form.html',\n    \"<div class=\\\"modal sticker-form-modal\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2 class=\\\"text-center\\\">Create A Sticker</h2>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"alert alert-info\\\">\\n\" +\n    \"                    <p><i class=\\\"fa fa-trophy\\\"></i> A <strong>sticker</strong> is the overall goal you want to achieve. On the next page you will be able to add individual <strong>tasks</strong> that are necessary to earn this sticker.</p>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\"  ng-class=\\\"{'has-error': errors.name}\\\">\\n\" +\n    \"                    <label for=\\\"sticker-name\\\"><i class=\\\"fa fa-trophy\\\"></i> Name The Goal</label>\\n\" +\n    \"                    <span ng-if=\\\"!errors.name\\\" class=\\\"help-block\\\">Keep it simple and specific, like <em>Stop Smoking</em> or <em>Visit Beijing</em>.</span>\\n\" +\n    \"                    <span ng-if=\\\"errors.name\\\" class=\\\"help-block\\\">{{ errors.name.join(' ') }}</span>\\n\" +\n    \"                    <input type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control\\\"\\n\" +\n    \"                           ng-model=\\\"formData.name\\\"\\n\" +\n    \"                           id=\\\"sticker-name\\\"\\n\" +\n    \"                           placeholder=\\\"Give your sticker a name.\\\"\\n\" +\n    \"                           required\\n\" +\n    \"                            />\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\"  ng-class=\\\"{'has-error': errors.categoryId}\\\">\\n\" +\n    \"                    <label for=\\\"sticker-category\\\"><i class=\\\"fa fa-folder\\\"></i> Category</label>\\n\" +\n    \"                    <span ng-if=\\\"errors.categoryId\\\" class=\\\"help-block\\\">{{ errors.categoryId.join(' ') }}</span>\\n\" +\n    \"                    <select\\n\" +\n    \"                           class=\\\"form-control\\\"\\n\" +\n    \"                           ng-model=\\\"formData.categoryId\\\"\\n\" +\n    \"                           id=\\\"sticker-category\\\"\\n\" +\n    \"                           required\\n\" +\n    \"                           >\\n\" +\n    \"                        <option ng-repeat=\\\"(id, name) in categories\\\" value=\\\"{{id}}\\\" ng-bind-html=\\\"name\\\"></option>\\n\" +\n    \"                    </select>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/modals/submission-form.html',\n    \"<div class=\\\"modal submission-form-modal modal-paged\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 1\\\" class=\\\"submission-stage\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2>{{ task.submission }}</h2>\\n\" +\n    \"\\n\" +\n    \"                    <div ng-include=\\\"'views/partials/submission-forms/' + task.submissionType.toLowerCase() + '.html'\\\"></div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 2\\\" class=\\\"submission-stage\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2>{{ (hasFirstStage ? 'Post Your Submission' : task.submission) }}</h2>\\n\" +\n    \"\\n\" +\n    \"                    <!--<div class=\\\"form-group\\\">\\n\" +\n    \"\\n\" +\n    \"                        <ul class=\\\"tabs tabs-2\\\">\\n\" +\n    \"                            <li ng-class=\\\"{'tab-current': formData.private === 0 }\\\">\\n\" +\n    \"                                <a href=\\\"#\\\" ng-click=\\\"setPrivate($event, 0)\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-fw fa-file-text-o\\\"></i> Post About It\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"\\n\" +\n    \"                            <li ng-class=\\\"{'tab-current': formData.private === 1 }\\\">\\n\" +\n    \"                                <a href=\\\"#\\\" ng-click=\\\"setPrivate($event, 1)\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-fw fa-lock\\\"></i> Keep It Private\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                    </div>-->\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"form-group\\\" ng-show=\\\"formData.private === 0\\\" ng-class=\\\"{'has-error': errors.title}\\\">\\n\" +\n    \"                        <label for=\\\"post-title\\\">Title</label>\\n\" +\n    \"                        <span ng-if=\\\"errors.title\\\" class=\\\"help-block\\\">{{ errors.title.join(' ') }}</span>\\n\" +\n    \"                        <input type=\\\"text\\\"\\n\" +\n    \"                               class=\\\"form-control\\\"\\n\" +\n    \"                               ng-model=\\\"formData.title\\\"\\n\" +\n    \"                               id=\\\"post-title\\\"\\n\" +\n    \"                               placeholder=\\\"Give your post a title.\\\"/>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"form-group\\\" ng-show=\\\"formData.private === 0\\\" ng-class=\\\"{'has-error': errors.text}\\\">\\n\" +\n    \"                        <label for=\\\"post-text\\\">Content</label>\\n\" +\n    \"                        <span ng-if=\\\"errors.text\\\" class=\\\"help-block\\\">{{ errors.text.join(' ') }}</span>\\n\" +\n    \"                        <textarea class=\\\"form-control\\\" id=\\\"post-text\\\" ng-model=\\\"formData.text\\\" placeholder=\\\"Write your post.\\\"></textarea>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"modal-help submission-post-help\\\" ng-show=\\\"formData.private === 0 && submissionType === 'image'\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-star\\\"></i> Tell the story of how you completed this task. Did you find it interesting? Can you share some tips to help others?\\n\" +\n    \"                        <br/><i class=\\\"fa fa-info-circle\\\"></i> Your photo(s) from the previous page and story you enter below will appear on the page for the task. Other members can like and comment on your post.\\n\" +\n    \"                    </p>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"modal-help\\\" ng-show=\\\"formData.private === 1\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-info-circle\\\"></i> Your submission will still count towards earning the sticker, but nobody else will see it or be able to like or comment on it.\\n\" +\n    \"                        <br/>\\n\" +\n    \"                        <span class=\\\"red\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-exclamation-triangle\\\"></i> Stickable works best when you post about the task and share stories and advice for others attempting to complete this. Consider writing a post even if it's only a few lines.</span>\\n\" +\n    \"                    </p>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 3\\\" class=\\\"submission-stage\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2>Rate The Task</h2>\\n\" +\n    \"\\n\" +\n    \"                    <label>How much did it cost?</label>\\n\" +\n    \"                    <st-rating class=\\\"rating-price\\\" model=\\\"formData.cost\\\" values=\\\"costs\\\"></st-rating>\\n\" +\n    \"\\n\" +\n    \"                    <label>How long did it take?</label>\\n\" +\n    \"                    <st-rating class=\\\"rating-time\\\" model=\\\"formData.time\\\" values=\\\"times\\\"></st-rating>\\n\" +\n    \"\\n\" +\n    \"                    <label>How much did you enjoy it?</label>\\n\" +\n    \"                    <st-rating class=\\\"rating-star\\\" model=\\\"formData.rating\\\" values=\\\"ratings\\\"></st-rating>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"modal-help\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-info-circle\\\"></i> Providing this feedback helps us suggest tasks you'll enjoy that fit your time and budget.\\n\" +\n    \"                    </p>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"\\n\" +\n    \"                <ul class=\\\"dots modal-dots\\\">\\n\" +\n    \"                    <li ng-if=\\\"hasFirstStage\\\" ng-class=\\\"{'active': stage === 1}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(1)\\\"></a></li>\\n\" +\n    \"                    <li ng-class=\\\"{'active': stage === 2}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(2)\\\"></a></li>\\n\" +\n    \"                    <li ng-class=\\\"{'active': stage === 3}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(3)\\\"></a></li>\\n\" +\n    \"                </ul>\\n\" +\n    \"\\n\" +\n    \"                <a class=\\\"btn btn-labeled btn-block-sm\\\" ng-class=\\\"{'disabled': !nextEnabled}\\\" ng-click=\\\"nextStage()\\\" ng-hide=\\\"stage === 3\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-arrow-right\\\"></i></span>\\n\" +\n    \"                    Continue\\n\" +\n    \"                </a>\\n\" +\n    \"\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled btn-block-sm\\\" ng-show=\\\"stage === 3\\\" ng-class=\\\"{'btn-loading': submitting}\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/modals/task-form.html',\n    \"<div class=\\\"modal task-form-modal\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2 class=\\\"text-center\\\">Create A Task</h2>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"alert alert-info\\\">\\n\" +\n    \"                    <p><i class=\\\"fa fa-check-square-o\\\"></i> A task is one measurable thing out of many that need doing to earn a sticker.</p>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': errors.name}\\\">\\n\" +\n    \"                    <label for=\\\"task-title\\\"><i class=\\\"fa fa-check-square-o\\\"></i> What Needs Doing?</label>\\n\" +\n    \"                    <span ng-if=\\\"errors.name\\\" class=\\\"help-block\\\">{{ errors.name.join(' ') }}</span>\\n\" +\n    \"                    <input type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control\\\"\\n\" +\n    \"                           ng-model=\\\"formData.name\\\"\\n\" +\n    \"                           id=\\\"task-title\\\"\\n\" +\n    \"                           placeholder=\\\"e.g. Visit Place Name, or make A Thing.\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': errors.submission}\\\">\\n\" +\n    \"                    <label for=\\\"task-submission\\\"><i class=\\\"fa fa-cloud-upload\\\"></i> How Do You Show You've Done It?</label>\\n\" +\n    \"                    <span ng-if=\\\"errors.submission\\\" class=\\\"help-block\\\">{{ errors.submission.join(' ') }}</span>\\n\" +\n    \"\\n\" +\n    \"                    <st-tabs class=\\\"clear\\\" model=\\\"formData.submissionType\\\" values=\\\"submissionTypes\\\"></st-tabs>\\n\" +\n    \"\\n\" +\n    \"                    <textarea\\n\" +\n    \"                            class=\\\"form-control\\\"\\n\" +\n    \"                            id=\\\"task-submission\\\"\\n\" +\n    \"                            ng-model=\\\"formData.submission\\\"\\n\" +\n    \"                            placeholder=\\\"e.g. Take a photo at Place Name or of The Thing\\\"\\n\" +\n    \"                            style=\\\"min-height:100px\\\">\\n\" +\n    \"\\n\" +\n    \"                    </textarea>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/forgot.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Forgotten Details</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': forgotFormData.errors.email}\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Enter Your E-Mail Address <i class=\\\"fa fa-envelope\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <span ng-if=\\\"forgotFormData.errors.email\\\" class=\\\"help-block\\\">{{ forgotFormData.errors.email.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"email\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"email\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"forgotFormData.email\\\"/>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <div class=\\\"col-md-6 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-class=\\\"{'btn-loading': forgotFormData.loading}\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-envelope\\\"></i>\\n\" +\n    \"                                    Send Password Reset Link\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"alert alert-success\\\" ng-if=\\\"success\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-envelope\\\"></i> Your details have been sent to <strong>{{\\n\" +\n    \"                            forgotFormData.email }}</strong>.\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/login.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Login</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"login()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': loginFormData.errors.username}\\\">\\n\" +\n    \"\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Username <i class=\\\"fa fa-user\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <span ng-if=\\\"!loginFormData.errors.username\\\" class=\\\"help-block\\\">Up to 30 characters and can only contain letters, numbers, hyphens, or underscores.</span>\\n\" +\n    \"                                <span ng-if=\\\"loginFormData.errors.username\\\" class=\\\"help-block\\\">{{ loginFormData.errors.username.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"username\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"username\\\"\\n\" +\n    \"                                       value=\\\"\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"loginFormData.username\\\"\\n\" +\n    \"                                        />\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': loginFormData.errors.password}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Password <i class=\\\"fa fa-key\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <span ng-if=\\\"!loginFormData.errors.password\\\" class=\\\"help-block\\\">Minimum 5 characters.</span>\\n\" +\n    \"                                <span ng-if=\\\"loginFormData.errors.password\\\" class=\\\"help-block\\\">{{ loginFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"loginFormData.password\\\"\\n\" +\n    \"                                        />\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\">\\n\" +\n    \"                            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-labeled\\\" ng-class=\\\"{'btn-loading': loginFormData.loading}\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-key fa-fw\\\"></i></span>\\n\" +\n    \"                                    Login\\n\" +\n    \"                                </button>\\n\" +\n    \"\\n\" +\n    \"                                <a href=\\\"/forgot\\\" class=\\\"btn btn-labeled\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-question fa-fw\\\"></i></span>\\n\" +\n    \"                                    Forgot Details\\n\" +\n    \"                                </a>\\n\" +\n    \"\\n\" +\n    \"                                <a href=\\\"/signup\\\" class=\\\"btn btn-labeled\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-user fa-fw\\\"></i></span>\\n\" +\n    \"                                    Create Account\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/reset.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Create A New Password</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <input type=\\\"hidden\\\" name=\\\"token\\\" ng-model=\\\"resetFormData.token\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\"\\n\" +\n    \"                             ng-class=\\\"{'has-error': resetFormData.errors.password}\\\"\\n\" +\n    \"                             ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label for=\\\"password\\\" class=\\\"col-md-4 control-label\\\">Password</label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       id=\\\"password\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       ng-model=\\\"resetFormData.password\\\"\\n\" +\n    \"                                       required>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"resetFormData.errors.password\\\" class=\\\"help-block\\\">{{ resetFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\"\\n\" +\n    \"                             ng-class=\\\"{'has-error': resetFormData.errors.confirmPassword}\\\"\\n\" +\n    \"                             ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label for=\\\"confim-password\\\" class=\\\"col-md-4 control-label\\\">Confirm Password</label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       id=\\\"confim-password\\\"\\n\" +\n    \"                                       name=\\\"confim-password\\\"\\n\" +\n    \"                                       ng-model=\\\"resetFormData.confirmPassword\\\"\\n\" +\n    \"                                       required>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"resetFormData.errors.confirmPassword\\\" class=\\\"help-block\\\">{{ resetFormData.errors.confirmPassword.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <div class=\\\"col-md-6 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-class=\\\"{'btn-loading': forgotFormData.loading}\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-unlock-alt\\\"></i>\\n\" +\n    \"                                    Change Password\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"alert alert-success\\\" ng-if=\\\"success\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-check\\\"></i>\\n\" +\n    \"                            Password changed. You can now <a class=\\\"btn\\\" href=\\\"/login\\\">Login</a> with the new password.\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/signup.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Create An Account</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"signup()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.username}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Username <i class=\\\"fa fa-user\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <span ng-if=\\\"!signupFormData.errors.username\\\" class=\\\"help-block\\\">Up to 30 characters and can only contain letters, numbers, hyphens, or underscores.</span>\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.username\\\" class=\\\"help-block\\\">{{ signupFormData.errors.username.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"text\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"username\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.username\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       placeholder=\\\"\\\" />\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.email}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">E-Mail Address <i class=\\\"fa fa-envelope\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.email\\\" class=\\\"help-block\\\">{{ signupFormData.errors.email.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"email\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"email\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.email\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                        placeholder=\\\"\\\"\\n\" +\n    \"                                        />\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.password}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Password <i class=\\\"fa fa-key\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <span ng-if=\\\"!signupFormData.errors.password\\\" class=\\\"help-block\\\">Minimum 5 characters.</span>\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.password\\\" class=\\\"help-block\\\">{{ signupFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.password\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                        placeholder=\\\"\\\"\\n\" +\n    \"                                        />\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\">\\n\" +\n    \"                            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-labeled\\\" ng-class=\\\"{'btn-loading': signupFormData.loading}\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-user fa-fw\\\"></i></span>\\n\" +\n    \"                                    Signup\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\"\n  );\n\n\n  $templateCache.put('views/pages/bot.html',\n    \"<div class=\\\"content dark-page\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <h2>Hi, I'm Stickerbot</h2>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"white\\\">I'll help you find something to do and stickers to work towards from your budget and available time.</p>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"col-md-8\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center trans-box results\\\" ng-if=\\\"!loading && task\\\">\\n\" +\n    \"\\n\" +\n    \"                <p>Why Don't You...</p>\\n\" +\n    \"\\n\" +\n    \"                <a class=\\\"task\\\" href=\\\"/task/{{ task.slug }}\\\"><h2>{{ task.name }}</h2></a>\\n\" +\n    \"\\n\" +\n    \"                <p>and earn the sticker...</p>\\n\" +\n    \"\\n\" +\n    \"                <a href=\\\"/sticker/{{ task.sticker.slug }}\\\">\\n\" +\n    \"                    <st-sticker sticker=\\\"task.sticker\\\"></st-sticker> <h2>{{ task.sticker.name }}</h2>\\n\" +\n    \"                </a>\\n\" +\n    \"\\n\" +\n    \"                <p>\\n\" +\n    \"                    <a class=\\\"btn btn-danger btn-labeled\\\" ng-click=\\\"findTask()\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-random\\\"></i></span>\\n\" +\n    \"                        {{ skipMessage }}\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    &nbsp;\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-success btn-labeled\\\" href=\\\"/task/{{task.slug}}\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-arrow-right\\\"></i></span>\\n\" +\n    \"                        {{ goMessage }}\\n\" +\n    \"                    </a>\\n\" +\n    \"                </p>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center trans-box\\\" ng-if=\\\"loading\\\">\\n\" +\n    \"                <i class=\\\"fa fa-spinner fa-spin\\\"></i>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center trans-box\\\" ng-if=\\\"!loading && !task\\\">\\n\" +\n    \"                <p>I couldn't find any tasks that meet your criteria. Try being less picky.</p>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"ratings\\\">\\n\" +\n    \"\\n\" +\n    \"                <h3>How long do you have?</h3>\\n\" +\n    \"                <ul\\n\" +\n    \"                        class=\\\"rating rating-time\\\"\\n\" +\n    \"                        model=\\\"formData.time\\\"\\n\" +\n    \"                        values=\\\"times\\\"></ul>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                <h3>How much can you spend?</h3>\\n\" +\n    \"                <ul\\n\" +\n    \"                        class=\\\"rating rating-price\\\"\\n\" +\n    \"                        model=\\\"formData.cost\\\"\\n\" +\n    \"                        values=\\\"costs\\\"></ul>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"col-md-4\\\">\\n\" +\n    \"\\n\" +\n    \"            <img src=\\\"/assets/img/bot-white.png\\\"/>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/browse.html',\n    \"<div class=\\\"container-md\\\">\\n\" +\n    \"    <ul class=\\\"category-list row\\\">\\n\" +\n    \"        <li class=\\\"col-sm-4 col-xs-6\\\" ng-repeat=\\\"category in categories\\\">\\n\" +\n    \"            <a href=\\\"/category/{{ category.slug }}\\\" ng-style=\\\"{'background-image':'url('+category.thumbUrl+')'}\\\">\\n\" +\n    \"                <span>{{ category.name }}</span>\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/category/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h2 ng-if=\\\"category.parentCategory\\\"><a href=\\\"/category/{{ category.parentCategory.slug }}\\\"><i class=\\\"fa fa-folder\\\"></i> {{ category.parentCategory.name }}</a></h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-folder-open\\\"></i> {{ category.name }}</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"hasSubcategories\\\" class=\\\"alert alert-info\\\">\\n\" +\n    \"        <p><i class=\\\"fa fa-folder-open\\\"></i> These are the subcategories in <strong>{{category.name}}</strong>. Pick one of these more specific subcategories to find stickers.</p>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <ul ng-if=\\\"hasSubcategories\\\" class=\\\"category-list row\\\">\\n\" +\n    \"        <li class=\\\"col-sm-3 col-xs-6\\\" ng-repeat=\\\"subcategory in category.subcategories\\\">\\n\" +\n    \"            <a href=\\\"/category/{{ subcategory.slug }}\\\" ng-style=\\\"{'background-image':'url('+subcategory.thumbUrl+')'}\\\">\\n\" +\n    \"                <span>{{ subcategory.name }}</span>\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"hasStickers\\\" class=\\\"alert alert-info\\\">\\n\" +\n    \"        <p><i class=\\\"fa fa-trophy\\\"></i> These are <strong>{{category.name}}</strong> stickers. Pick one of them to see how you can earn it.</p>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <ul ng-if=\\\"hasStickers\\\" class=\\\"sticker-list row\\\">\\n\" +\n    \"\\n\" +\n    \"        <li class=\\\"col-md-3\\\" ng-repeat=\\\"sticker in category.stickers\\\">\\n\" +\n    \"            <a href=\\\"/sticker/{{ sticker.slug }}\\\">\\n\" +\n    \"                <st-sticker sticker=\\\"sticker\\\"></st-sticker>\\n\" +\n    \"\\n\" +\n    \"                <h3>{{ sticker.name }}</h3>\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"category && !hasSubcategories && !hasStickers\\\">\\n\" +\n    \"        <div class=\\\"alert alert-danger\\\">\\n\" +\n    \"            <p><i class=\\\"fa fa-frown-o\\\"></i> There's no stickers or subcategories of <strong>{{category.name}}</strong> yet. Something will be here soon!</p>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/design.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>Design Elements</h1>\\n\" +\n    \"\\n\" +\n    \"    <hr/>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h2><i class=\\\"fa fa-circle\\\"></i> H2 Title</h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-circle\\\"></i> H1 Title</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h3><i class=\\\"fa fa-circle\\\"></i> H3 Title</h3>\\n\" +\n    \"        <h2><i class=\\\"fa fa-circle\\\"></i> H2 Title</h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-circle\\\"></i> H1 Title</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    <h1>This is an h1 heading</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2>This is an h2 heading</h2>\\n\" +\n    \"\\n\" +\n    \"    <h3>This is an h3 heading</h3>\\n\" +\n    \"    <h4>This is an h4 heading</h4>\\n\" +\n    \"    <h5>This is an h5 heading</h5>\\n\" +\n    \"\\n\" +\n    \"    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam metus felis, egestas a sem et, lobortis venenatis\\n\" +\n    \"        libero. Nunc vitae justo eget lectus scelerisque faucibus vel ac felis. Sed iaculis leo vitae pulvinar\\n\" +\n    \"        dignissim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Praesent at\\n\" +\n    \"        enim egestas, convallis erat at, pellentesque arcu. Nunc rutrum sem vitae orci mollis feugiat. Aenean ante\\n\" +\n    \"        ipsum, aliquam vel imperdiet id, pulvinar vel lectus. Sed sagittis elit non ipsum porta, in luctus tellus\\n\" +\n    \"        efficitur. Nunc turpis metus, volutpat sit amet ante eu, sollicitudin vulputate lacus. Duis sit amet sem a nunc\\n\" +\n    \"        euismod posuere at vel justo. Integer condimentum sollicitudin lacus, sed sollicitudin dui efficitur eget.\\n\" +\n    \"        Suspendisse at vehicula risus. Donec nec dui in arcu consequat tincidunt. Nullam gravida eros elit, vitae\\n\" +\n    \"        venenatis risus mattis vel. Donec ut sollicitudin nibh, vel scelerisque sem.</p>\\n\" +\n    \"\\n\" +\n    \"    <h2>Button Examples</h2>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"text-center\\\">\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn\\\">Blue buttons go to another page</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-primary\\\">Purple buttons do an action right now</a>\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"text-center\\\">\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-danger\\\">Red buttons remove something</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-success\\\">Red butons add something</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-warning\\\">Orange buttons do something mediumish</a>\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"text-center\\\">\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue btn-lg\\\">btn-lg</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue\\\">btn</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue btn-sm\\\">btn-sm</a>\\n\" +\n    \"    </p>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/help.html',\n    \"<div class=\\\"content dark-page\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>How Stickable Works</h1>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"how-it-works\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-4\\\">\\n\" +\n    \"                <i class=\\\"fa fa-5x fa-list-ol\\\"></i>\\n\" +\n    \"                <h3>1. Complete Tasks</h3>\\n\" +\n    \"                <p>Submit photos to show you completed them.</p>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-4\\\">\\n\" +\n    \"                <i class=\\\"fa fa-5x fa-trophy\\\"></i>\\n\" +\n    \"                <h3>2. Earn Stickers</h3>\\n\" +\n    \"                <p>Once you've done the tasks for a sticker, you've got it!</p>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-4\\\">\\n\" +\n    \"                <i class=\\\"fa fa-5x fa-certificate\\\"></i>\\n\" +\n    \"                <h3>3. Receive Stickers</h3>\\n\" +\n    \"                <p>Earn 5 stickers and we'll send you actual stickers you can stick.</p>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/home.html',\n    \"<div class=\\\"splash home-splash\\\">\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"        <div class=\\\"row\\\">\\n\" +\n    \"            <div class=\\\"col-sm-3\\\">\\n\" +\n    \"                <img src=\\\"/assets/img/stickable.svg\\\" alt=\\\"Stickable\\\" id=\\\"home-splash-logo\\\"/>\\n\" +\n    \"            </div>\\n\" +\n    \"            <div class=\\\"col-sm-9 white\\\">\\n\" +\n    \"                <h2>Discover new hobbies. Get help from our community. Earn stickers for achieving your goals.</h2>\\n\" +\n    \"                <a class=\\\"btn no-block btn-labeled\\\" href=\\\"/help\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-fw fa-info\\\"></i></span>\\n\" +\n    \"                    Learn More\\n\" +\n    \"                </a>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"content\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"black-bg dark-page\\\">\\n\" +\n    \"        <div class=\\\"container home-task-search\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center\\\">\\n\" +\n    \"                <h2>Start Building Your To Do List</h2>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                        <p>Type something you want to achieve.</p>\\n\" +\n    \"\\n\" +\n    \"                        <a ng-if=\\\"searchOpen\\\" href=\\\"#\\\" ng-click=\\\"closeSearch()\\\" class=\\\"close-search-btn\\\"><i class=\\\"fa fa-times\\\"></i></a>\\n\" +\n    \"\\n\" +\n    \"                        <input\\n\" +\n    \"                                type=\\\"text\\\"\\n\" +\n    \"                                class=\\\"form-control input-lg\\\"\\n\" +\n    \"                                ng-keyup=\\\"search()\\\"\\n\" +\n    \"                                ng-focus=\\\"searchFocus($event)\\\"\\n\" +\n    \"                                ng-blur=\\\"searchBlur()\\\"\\n\" +\n    \"                                ng-model=\\\"searchData.value\\\"\\n\" +\n    \"                                placeholder=\\\"I want to...\\\"\\n\" +\n    \"                                />\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                    <!--<div class=\\\"col-md-4 hidden-sm hidden-xs\\\">\\n\" +\n    \"\\n\" +\n    \"                        <p>Can't think of something?</p>\\n\" +\n    \"\\n\" +\n    \"                        <a class=\\\"btn btn-primary btn-block btn-lg btn-labeled\\\" href=\\\"/bot\\\">\\n\" +\n    \"                            <span class=\\\"btn-label\\\"><i class=\\\"fa fa-fw fa-search\\\"></i></span>\\n\" +\n    \"                            Try The Idea Robot\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </div>-->\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"white-bg search-results\\\" ng-show=\\\"searchData.value\\\">\\n\" +\n    \"        <div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"            <h2 class=\\\"visible-lg visible-md text-center\\\" ng-if=\\\"searchData.value\\\">\\n\" +\n    \"                &quot;{{ searchData.value }}&quot; Stickers\\n\" +\n    \"            </h2>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center search-results-loading\\\" ng-if=\\\"searchLoading\\\">\\n\" +\n    \"                <i class=\\\"fa fa-spinner fa-spin\\\"></i>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"text-center search-results-none\\\"\\n\" +\n    \"                 ng-show=\\\"searchData.value && !searchLoading && searchResults.length < 1\\\">\\n\" +\n    \"                No existing stickers found\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <ul>\\n\" +\n    \"                <li\\n\" +\n    \"                        ng-repeat=\\\"result in searchResults\\\"\\n\" +\n    \"                        class=\\\"result\\\"\\n\" +\n    \"                        ng-class=\\\"{'sticker-result': result.type === 'sticker', 'task-result': result.type === 'task'}\\\"\\n\" +\n    \"                        >\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"media\\\" ng-href=\\\"{{ (result.type === 'task' ? '/task/'+result.task.slug : '/sticker/'+result.sticker.slug) }}\\\">\\n\" +\n    \"\\n\" +\n    \"                        <span class=\\\"media-left media-middle\\\">\\n\" +\n    \"                            <st-sticker sticker=\\\"result.sticker\\\"></st-sticker>\\n\" +\n    \"                        </span>\\n\" +\n    \"\\n\" +\n    \"                        <span class=\\\"media-body media-middle result-text\\\">\\n\" +\n    \"\\n\" +\n    \"                            <span ng-if=\\\"result.type === 'task'\\\">\\n\" +\n    \"                                {{ result.task.name }}\\n\" +\n    \"                                <small>A task for the <strong>{{ result.sticker.name }}</strong> sticker</small>\\n\" +\n    \"                            </span>\\n\" +\n    \"\\n\" +\n    \"                            <span ng-if=\\\"result.type === 'sticker'\\\">\\n\" +\n    \"                                {{ result.sticker.name }}\\n\" +\n    \"                            </span>\\n\" +\n    \"\\n\" +\n    \"                            <small class=\\\"hidden-xs hidden-sm\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-user\\\"></i> <ng-pluralize count=\\\"result.people\\\"\\n\" +\n    \"                                when=\\\"{'0': 'Nobody yet', 'one': '1 person', 'other': '{} people'}\\\"></ng-pluralize>\\n\" +\n    \"                            </small>\\n\" +\n    \"\\n\" +\n    \"                        </span>\\n\" +\n    \"\\n\" +\n    \"                        <span class=\\\"media-right media-middle\\\">\\n\" +\n    \"\\n\" +\n    \"                            <small class=\\\"hidden-lg hidden-md\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-user\\\"></i> {{ result.people }}\\n\" +\n    \"                            </small>\\n\" +\n    \"\\n\" +\n    \"                            <span class=\\\"btn btn-sm todo-btn\\\"\\n\" +\n    \"                               ng-click=\\\"toggleToDo($event, result)\\\"\\n\" +\n    \"                               ng-class=\\\"{'btn-success': result.isOnToDoList, 'btn-primary': !result.isOnToDoList}\\\"\\n\" +\n    \"                               >\\n\" +\n    \"                                <i class=\\\"fa fa-fw\\\" ng-class=\\\"{'fa-check': result.isOnToDoList, 'fa-plus-circle': !result.isOnToDoList}\\\"></i>\\n\" +\n    \"                                To Do\\n\" +\n    \"                            </span>\\n\" +\n    \"\\n\" +\n    \"                        </span>\\n\" +\n    \"\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                </li>\\n\" +\n    \"\\n\" +\n    \"                <li class=\\\"result\\\" ng-if=\\\"searchData.value\\\">\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"media\\\" href=\\\"#\\\" ng-click=\\\"newSticker(searchData.value)\\\">\\n\" +\n    \"\\n\" +\n    \"                        <span class=\\\"media-left media-middle\\\">\\n\" +\n    \"                            <span class=\\\"sticker-create-icon\\\"><i class=\\\"fa fa-plus\\\"></i></span>\\n\" +\n    \"                        </span>\\n\" +\n    \"\\n\" +\n    \"                        <span class=\\\"media-body media-middle result-text\\\">\\n\" +\n    \"                            Create a new sticker called <strong>{{ searchData.value | titlecase }}</strong>\\n\" +\n    \"                        </span>\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                </li>\\n\" +\n    \"            </ul>\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"home-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"white-bg\\\">\\n\" +\n    \"            <div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"col-md-8\\\">\\n\" +\n    \"                        <h2>Featured Posts</h2>\\n\" +\n    \"                        <ng-include src=\\\"'views/partials/post-list.html'\\\"\\n\" +\n    \"                                    ng-controller=\\\"PostsController\\\"></ng-include>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"col-md-4\\\">\\n\" +\n    \"                        <h2>Sticker Of The Week</h2>\\n\" +\n    \"                        <a class=\\\"featured-sticker\\\" href=\\\"/sticker/example-sticker\\\">\\n\" +\n    \"                            <span>\\n\" +\n    \"                                Example Sticker\\n\" +\n    \"                            </span>\\n\" +\n    \"                        </a>\\n\" +\n    \"\\n\" +\n    \"                        <h2>The Latest</h2>\\n\" +\n    \"                        <ul class=\\\"latest-actions\\\" ng-controller=\\\"EventsController\\\">\\n\" +\n    \"                            <li\\n\" +\n    \"                                    ng-repeat=\\\"event in eventLog\\\"\\n\" +\n    \"                                    class=\\\"event media\\\"\\n\" +\n    \"                                    ng-class=\\\"{'liked': !!event.liked, 'like-clicked': !!event.likeClicked}\\\"\\n\" +\n    \"                                    >\\n\" +\n    \"                                <span class=\\\"media-left\\\">\\n\" +\n    \"                                    <img ng-if=\\\"event.user.imageThumbUrl\\\" ng-src=\\\"{{event.user.imageThumbUrl}}\\\" class=\\\"user-image\\\" />\\n\" +\n    \"                                </span>\\n\" +\n    \"\\n\" +\n    \"                                <span class=\\\"media-body\\\">\\n\" +\n    \"                                    <ng-include src=\\\"'views/partials/event-text.html'\\\"></ng-include>\\n\" +\n    \"                                </span>\\n\" +\n    \"\\n\" +\n    \"                                <span class=\\\"media-right media-middle\\\">\\n\" +\n    \"\\n\" +\n    \"                                    <a class=\\\"like-btn\\\" ng-click=\\\"likeEvent($event, event)\\\" href=\\\"#\\\" ng-if=\\\"event.action === 'like'\\\">\\n\" +\n    \"                                        <span>{{ event.likeCount | suppressZero }} <i class=\\\"fa fa-heart-o\\\"></i></span>\\n\" +\n    \"                                    </a>\\n\" +\n    \"\\n\" +\n    \"                                </span>\\n\" +\n    \"                            </li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/notifications/index.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"        <notifications></notifications>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/settings/index.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>Settings</h1>\\n\" +\n    \"\\n\" +\n    \"    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': formData.errors.picture}\\\">\\n\" +\n    \"            <label class=\\\"col-md-3 control-label\\\">Picture <i class=\\\"fa fa-picture-o\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-9\\\">\\n\" +\n    \"\\n\" +\n    \"                <a href=\\\"{{user.imageUrl}}\\\" target=\\\"_blank\\\"><img ng-src=\\\"{{user.imageThumbUrl}}\\\" class=\\\"dz-image user-image user-current-image\\\" ng-hide=\\\"hasNewImage\\\" /></a>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"dropzone needsclick\\\" id=\\\"settings-image\\\">\\n\" +\n    \"                    <div class=\\\"fallback\\\">\\n\" +\n    \"                        <input name=\\\"file\\\" type=\\\"file\\\" multiple />\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-labeled dropzone-btn needsclick\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-camera\\\"></i></span>\\n\" +\n    \"                        Select A New Picture\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-primary btn-labeled\\\" ng-click=\\\"generateAvatar($event)\\\" ng-class=\\\"{'btn-loading': generatingAvatar}\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-image\\\"></i></span>\\n\" +\n    \"                        Generate A Random Picture\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"dz-message\\\"></div>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': formData.errors.about}\\\">\\n\" +\n    \"            <label class=\\\"col-md-3 control-label\\\">About Me <i class=\\\"fa fa-file-text\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-9\\\">\\n\" +\n    \"                <textarea class=\\\"form-control\\\" name=\\\"about\\\" ng-model=\\\"formData.about\\\"></textarea>\\n\" +\n    \"                <span ng-if=\\\"formData.errors.about\\\" class=\\\"help-block\\\">{{ formData.errors.about.join(' ') }}</span>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <div class=\\\"col-md-9 col-md-offset-3\\\">\\n\" +\n    \"                <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Save Changes\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/sticker/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"splash sticker-splash\\\">\\n\" +\n    \"        <div class=\\\"container\\\">\\n\" +\n    \"            <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6 text-shadow\\\">\\n\" +\n    \"\\n\" +\n    \"                    <st-sticker sticker=\\\"sticker\\\"></st-sticker>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"titlecrumbs sticker-title\\\">\\n\" +\n    \"                        <h3><a href=\\\"/category/{{ sticker.category.slug }}\\\"><i class=\\\"fa fa-folder\\\"></i> {{\\n\" +\n    \"                            sticker.category.name }} Category</a></h3>\\n\" +\n    \"\\n\" +\n    \"                        <h1>{{ sticker.name }}</h1>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"alert alert-success clear text-center\\\" ng-if=\\\"sticker.hasCompleted\\\">\\n\" +\n    \"                        <p><i class=\\\"fa fa-trophy\\\"></i> Congratulations, you've earnt this sticker!</p>\\n\" +\n    \"\\n\" +\n    \"                        <p><a class=\\\"btn btn-success\\\" href=\\\"/user/{{currentUser.username}}/stickers\\\">See it in your\\n\" +\n    \"                            Sticker Book</a></p>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"padded-box\\\">\\n\" +\n    \"                        <p class=\\\"sticker-desc\\\" ng-bind-html=\\\"sticker.description | markdown\\\"></p>\\n\" +\n    \"\\n\" +\n    \"                        <h4 ng-if=\\\"sticker.time || sticker.cost || sticker.rating\\\" class=\\\"white\\\">Average Task\\n\" +\n    \"                            Ratings</h4>\\n\" +\n    \"                        <ul class=\\\"task-ratings white\\\">\\n\" +\n    \"                            <li ng-if=\\\"sticker.time\\\"><strong>Time Needed</strong> <i class=\\\"fa fa-fw fa-clock-o\\\"\\n\" +\n    \"                                                                                     ng-repeat=\\\"n in [] | range:sticker.time\\\"></i>\\n\" +\n    \"                                <small>{{ times[(sticker.time - 1)] }}</small>\\n\" +\n    \"                            </li>\\n\" +\n    \"                            <li ng-if=\\\"sticker.cost\\\"><strong>Cost</strong> <i class=\\\"fa fa-fw fa-usd\\\"\\n\" +\n    \"                                                                              ng-repeat=\\\"n in [] | range:sticker.cost\\\"></i>\\n\" +\n    \"                                <small>{{ costs[(sticker.cost - 1)] }}</small>\\n\" +\n    \"                            </li>\\n\" +\n    \"                            <li ng-if=\\\"sticker.rating\\\"><strong>Rating</strong> <i class=\\\"fa fa-fw fa-star\\\"\\n\" +\n    \"                                                                                  ng-repeat=\\\"n in [] | range:sticker.rating\\\"></i>\\n\" +\n    \"                                <small>{{ ratings[(sticker.rating - 1)] }}</small>\\n\" +\n    \"                            </li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"sticker-info\\\">\\n\" +\n    \"                        <li ng-if=\\\"sticker.creator\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-user\\\"></i> Sticker designed by\\n\" +\n    \"                            <a href=\\\"/user/{{ sticker.creator.url }}\\\">{{ sticker.creator.username }}</a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"task-list\\\">\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"header\\\">\\n\" +\n    \"                            <h3>\\n\" +\n    \"                                Complete {{ (sticker.requiredTasks ? sticker.requiredTasks : 'all') }}\\n\" +\n    \"                                of these tasks to earn the sticker:</h3>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"ng-hide\\\" ng-show=\\\"sticker.isOnToDoList && sticker.tasks.length > 0\\\">\\n\" +\n    \"                            <span>\\n\" +\n    \"                                <st-progress progress=\\\"progress\\\"></st-progress>\\n\" +\n    \"                            </span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"ng-hide text-center\\\" ng-show=\\\" sticker.tasks.length < 1\\\">\\n\" +\n    \"                            <span>No tasks here yet.</span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li ng-repeat=\\\"task in sticker.tasks\\\" class=\\\"task\\\" ng-class=\\\"{\\n\" +\n    \"                            'completed': task.hasCompleted,\\n\" +\n    \"                            }\\\">\\n\" +\n    \"                            <a href=\\\"/task/{{ task.slug }}\\\">\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"progress && progress.pendingIds.indexOf(task.id) !== -1\\\"\\n\" +\n    \"                                      class=\\\"label label-warning\\\">Submitted</span>\\n\" +\n    \"                                <span ng-if=\\\"progress && progress.rejectedIds.indexOf(task.id) !== -1\\\"\\n\" +\n    \"                                      class=\\\"label label-danger\\\">Rejected</span>\\n\" +\n    \"                                <span ng-if=\\\"task.hasCompleted\\\" class=\\\"label label-success\\\">Completed</span>\\n\" +\n    \"\\n\" +\n    \"                                <i class=\\\"fa\\\"\\n\" +\n    \"                                   ng-class=\\\"{'fa-circle': !task.hasCompleted, 'fa-check-circle': task.hasCompleted}\\\"></i>{{\\n\" +\n    \"                                task.name }}\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"text-right\\\">\\n\" +\n    \"                            <span>\\n\" +\n    \"                                <a\\n\" +\n    \"                                        class=\\\"btn btn-labeled no-block\\\"\\n\" +\n    \"                                        ng-class=\\\"{\\n\" +\n    \"                                            'btn-block': sticker.tasks.length < 1,\\n\" +\n    \"                                        }\\\"\\n\" +\n    \"                                        ng-click=\\\"addTask($event)\\\" href=\\\"#\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                                    Add {{ (sticker.tasks.length < 1 ? 'A' : 'Another') }} Task\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                        <li ng-hide=\\\"sticker.isOnToDoList\\\" class=\\\"text-center\\\">\\n\" +\n    \"                            <span>\\n\" +\n    \"                                <h3>Want this sticker?</h3>\\n\" +\n    \"                                <a class=\\\"btn btn-primary btn-block btn-labeled todo-btn\\\" ng-click=\\\"toggleToDo()\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                                    Add To Your To Do List\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"hidden-sm hidden-xs\\\" ng-repeat=\\\"n in [] | range:taskPadding\\\"></li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"white-bg\\\">\\n\" +\n    \"        <div class=\\\"container\\\">\\n\" +\n    \"            <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2 ng-if=\\\"earners.users.length > 0\\\"><i class=\\\"fa fa-trophy\\\"></i> Who's Got It</h2>\\n\" +\n    \"\\n\" +\n    \"                    <st-users ng-if=\\\"earners.users.length > 0\\\" data=\\\"earners\\\" like=\\\"likeEarner\\\"></st-users>\\n\" +\n    \"\\n\" +\n    \"                    <div style=\\\"margin-bottom:30px;\\\"></div>\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-labeled pull-right no-block todo-btn\\\"\\n\" +\n    \"                           href=\\\"#\\\"\\n\" +\n    \"                           ng-click=\\\"toggleToDo()\\\"\\n\" +\n    \"                           ng-class=\\\"{'btn-success': sticker.isOnToDoList, 'btn-primary': !sticker.isOnToDoList}\\\"\\n\" +\n    \"                           >\\n\" +\n    \"                            <span class=\\\"btn-label\\\"><i class=\\\"fa fa-fw\\\" ng-class=\\\"{'fa-check': sticker.isOnToDoList, 'fa-plus-circle': !sticker.isOnToDoList}\\\"></i></span>\\n\" +\n    \"                            To Do\\n\" +\n    \"                        </a>\\n\" +\n    \"\\n\" +\n    \"                    <h2 style=\\\"margin-top:0;\\\"><i class=\\\"fa fa-users\\\"></i> Working On It</h2>\\n\" +\n    \"\\n\" +\n    \"                    <st-users data=\\\"doers\\\" like=\\\"likeDoer\\\"></st-users>\\n\" +\n    \"\\n\" +\n    \"                    <div ng-if=\\\"doers.users.length < 1\\\" class=\\\"text-center text-muted\\\">\\n\" +\n    \"                        Nobody has this on their to do list yet.\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2><i class=\\\"fa fa-folder-open\\\"></i> Similar Stickers</h2>\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"small-sticker-list\\\">\\n\" +\n    \"                        <li\\n\" +\n    \"                                ng-repeat=\\\"catSticker in sticker.category.stickers\\\"\\n\" +\n    \"                                ng-if=\\\"catSticker.id != sticker.id\\\">\\n\" +\n    \"                            <a href=\\\"/sticker/{{ catSticker.slug }}\\\">\\n\" +\n    \"                                <st-sticker sticker=\\\"catSticker\\\"></st-sticker>\\n\" +\n    \"                                <br/>{{ catSticker.name }}\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/stickers.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"        <div class=\\\"alert alert-info\\\">\\n\" +\n    \"            This will be a list of stickers sorted by most popular.\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/task/submit.html',\n    \"@extends('layouts.main')\\n\" +\n    \"\\n\" +\n    \"@section('breadcrumbs')\\n\" +\n    \"{!! Breadcrumbs::render('task', $task) !!}\\n\" +\n    \"@stop\\n\" +\n    \"\\n\" +\n    \"@section('content')\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>{{ $task->name }}</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2>Add Your Submission</h2>\\n\" +\n    \"\\n\" +\n    \"    <p><strong>To complete this task you must:</strong><br/>\\n\" +\n    \"        {{ $task->submission }}\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"    <form class=\\\"form-horizontal well\\\" method=\\\"post\\\" action=\\\"submit\\\">\\n\" +\n    \"        {!! csrf_field() !!}\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group <?=($errors->get('picture') ? 'has-error' : '')?>\\\">\\n\" +\n    \"            <label class=\\\"col-md-4 control-label\\\">Picture <i class=\\\"fa fa-picture\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                <input type=\\\"hidden\\\"\\n\" +\n    \"                       class=\\\"form-control\\\"\\n\" +\n    \"                       name=\\\"picture\\\"\\n\" +\n    \"                       value=\\\"{{ old('picture') ? old('picture') : '' }}\\\"\\n\" +\n    \"                       required/>\\n\" +\n    \"                <?php\\n\" +\n    \"                foreach ($errors->get('picture') as $error) {\\n\" +\n    \"                echo '<span class=\\\"help-block\\\">' . $error . '</span>';\\n\" +\n    \"                }\\n\" +\n    \"                ?>\\n\" +\n    \"                <a href=\\\"#\\\" class=\\\"btn\\\" id=\\\"task-submit-upload-picture-btn\\\"><i class=\\\"fa fa-camera\\\"></i> Upload a\\n\" +\n    \"                    picture</a>\\n\" +\n    \"\\n\" +\n    \"                <img src=\\\"{{ old('picture') ? old('picture') : '' }}\\\" id=\\\"task-submit-picture\\\"/>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Submit</button>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"@endsection\\n\"\n  );\n\n\n  $templateCache.put('views/pages/task/view.html',\n    \"<div class=\\\"content dark-page\\\">\\n\" +\n    \"    <div class=\\\"container task-page\\\" ng-if=\\\"task\\\" ng-class=\\\"{'post-page': !!post}\\\">\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"titlecrumbs task-title\\\" ng-if=\\\"!post\\\">\\n\" +\n    \"            <h2 class=\\\"sticker-name\\\" ng-if=\\\"task.sticker\\\">\\n\" +\n    \"                <a href=\\\"/sticker/{{ task.sticker.slug }}\\\">\\n\" +\n    \"                    <st-sticker sticker=\\\"task.sticker\\\"></st-sticker>\\n\" +\n    \"                    {{task.sticker.name }}\\n\" +\n    \"                </a>\\n\" +\n    \"            </h2>\\n\" +\n    \"\\n\" +\n    \"            <h1 class=\\\"task-name\\\">\\n\" +\n    \"                <i class=\\\"fa fa-check-square\\\"></i> {{ task.name }}\\n\" +\n    \"            </h1>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"row clear\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"content-col\\\" ng-class=\\\"{'col-md-6': !post, 'col-md-8': !!post}\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"titlecrumbs post-title\\\" ng-if=\\\"post\\\">\\n\" +\n    \"                    <h3 class=\\\"sticker-name\\\">\\n\" +\n    \"                        <a href=\\\"/sticker/{{ task.sticker.slug }}\\\">\\n\" +\n    \"                            <st-sticker sticker=\\\"task.sticker\\\"></st-sticker>\\n\" +\n    \"                            {{ task.sticker.name }}\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </h3>\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"task-name\\\">\\n\" +\n    \"                        <a href=\\\"/task/{{task.slug}}\\\" ng-click=\\\"goToTask($event, task)\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-check-square\\\"></i> {{ task.name }}\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </h2>\\n\" +\n    \"\\n\" +\n    \"                    <h1 class=\\\"post-name\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-file-text-o\\\"></i> {{ post.title }}\\n\" +\n    \"                    </h1>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-if=\\\"post\\\" class=\\\"clear\\\">\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"post single-post\\\"\\n\" +\n    \"                         ng-controller=\\\"PostsController\\\"\\n\" +\n    \"                         ng-class=\\\"{'liked': !!post.liked, 'like-clicked': !!post.likeClicked}\\\">\\n\" +\n    \"\\n\" +\n    \"                        <a class=\\\"like-btn\\\" ng-click=\\\"likePost($event, post)\\\" href=\\\"#\\\">\\n\" +\n    \"                            <span>{{ post.likeCount | suppressZero }} <i class=\\\"fa fa-heart-o\\\"></i></span>\\n\" +\n    \"                        </a>\\n\" +\n    \"\\n\" +\n    \"                        <ul class=\\\"post-info\\\">\\n\" +\n    \"                            <li>\\n\" +\n    \"                                <a href=\\\"/user/{{post.user.username}}\\\">\\n\" +\n    \"                                    <img ng-if=\\\"post.user.image\\\" ng-src=\\\"{{post.user.imageThumbUrl}}\\\" class=\\\"user-image\\\" />\\n\" +\n    \"                                    <i ng-if=\\\"!post.user.image\\\" class=\\\"fa fa-user\\\"></i> {{post.user.username}}</a>\\n\" +\n    \"                            </li>\\n\" +\n    \"                            <li><a href=\\\"/task/{{post.task.slug}}/{{post.slug}}\\\"><i class=\\\"fa fa-clock-o\\\"></i> <span\\n\" +\n    \"                                    am-time-ago=\\\"post.createdAt\\\"></span></a></li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                        <p ng-bind-html=\\\"post.text | markdown\\\"></p>\\n\" +\n    \"\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div\\n\" +\n    \"                        class=\\\"single-post-images\\\"\\n\" +\n    \"                        ng-if=\\\"post.images\\\"\\n\" +\n    \"                        masonry='{\\n\" +\n    \"                            \\\"transitionDuration\\\": 0,\\n\" +\n    \"                            \\\"itemSelector\\\": \\\"div\\\"\\n\" +\n    \"                            }'>\\n\" +\n    \"                        <div ng-repeat=\\\"image in post.images\\\">\\n\" +\n    \"                            <a href=\\\"{{image.url}}\\\" target=\\\"_blank\\\">\\n\" +\n    \"                                <img ng-src=\\\"{{image.url}}\\\" masonry-image />\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </div>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-block btn-labeled add-comment-btn\\\"\\n\" +\n    \"                       href=\\\"#\\\"\\n\" +\n    \"                       ng-click=\\\"showCommentForm($event)\\\"\\n\" +\n    \"                       ng-hide=\\\"commentFormVisible\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-comment\\\"></i></span>\\n\" +\n    \"                        Add A Comment\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"hidden-sm hidden-xs\\\">Comments</h2>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"comments\\\" id=\\\"comment-form-container\\\">\\n\" +\n    \"                        <div ng-include=\\\"'views/partials/comment-form.html'\\\" id=\\\"comment-form-include\\\"></div>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <st-comments class=\\\"comments\\\" comments=\\\"comments.comments\\\" show-comment-form=\\\"showCommentForm\\\"></st-comments>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-if=\\\"!post\\\">\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"trans-box text-center\\\">\\n\" +\n    \"                        <h2>To Complete This Task</h2>\\n\" +\n    \"\\n\" +\n    \"                        <p>{{ task.submission }}</p>\\n\" +\n    \"\\n\" +\n    \"                        <p>\\n\" +\n    \"                            <a class=\\\"btn btn-block btn-labeled\\\" ng-click=\\\"showSubmissionForm()\\\">\\n\" +\n    \"                                <span class=\\\"btn-label\\\"><i class=\\\"fa fa-check-circle\\\"></i></span>\\n\" +\n    \"                                Done It! Add Submission\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </p>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"padded-box\\\" ng-if=\\\"task.description || task.time || task.cost || task.rating\\\">\\n\" +\n    \"                        <p class=\\\"white\\\" ng-if=\\\"task.description\\\">{{ task.description }}</p>\\n\" +\n    \"                        <ul class=\\\"task-ratings white\\\" ng-if=\\\"task.time || task.cost || task.rating\\\">\\n\" +\n    \"                            <li ng-if=\\\"task.time\\\"><strong>Time Needed</strong> <i class=\\\"fa fa-fw fa-clock-o\\\" ng-repeat=\\\"n in [] | range:task.time\\\"></i> <small>{{ times[(task.time - 1)] }}</small></li>\\n\" +\n    \"                            <li ng-if=\\\"task.cost\\\"><strong>Cost</strong> <i class=\\\"fa fa-fw fa-usd\\\" ng-repeat=\\\"n in [] | range:task.cost\\\"></i> <small>{{ costs[(task.cost - 1)] }}</small></li>\\n\" +\n    \"                            <li ng-if=\\\"task.rating\\\"><strong>Rating</strong> <i class=\\\"fa fa-fw fa-star\\\" ng-repeat=\\\"n in [] | range:task.rating\\\"></i> <small>{{ ratings[(task.rating - 1)] }}</small></li>\\n\" +\n    \"                            <li ng-if=\\\"task.ratings\\\"><small>Based on {{ task.ratings }} {{'rating'|plural:task.ratings}}</small></li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"trans-box task-doers\\\">\\n\" +\n    \"\\n\" +\n    \"                        <a class=\\\"btn btn-labeled pull-right no-block todo-btn\\\"\\n\" +\n    \"                           href=\\\"#\\\"\\n\" +\n    \"                           ng-click=\\\"toggleToDo()\\\"\\n\" +\n    \"                           ng-class=\\\"{'btn-success': task.isOnToDoList, 'btn-primary': !task.isOnToDoList}\\\"\\n\" +\n    \"                           >\\n\" +\n    \"                            <span class=\\\"btn-label\\\"><i class=\\\"fa fa-fw\\\" ng-class=\\\"{'fa-check': task.isOnToDoList, 'fa-plus-circle': !task.isOnToDoList}\\\"></i></span>\\n\" +\n    \"                            To Do\\n\" +\n    \"                        </a>\\n\" +\n    \"\\n\" +\n    \"                        <h2><i class=\\\"fa fa-users fa-fw\\\"></i> Working On It</h2>\\n\" +\n    \"\\n\" +\n    \"                        <st-users ng-if=\\\"doers.users.length > 0\\\" data=\\\"doers\\\" like=\\\"likeDoer\\\"></st-users>\\n\" +\n    \"\\n\" +\n    \"                        <p class=\\\"text-center\\\" ng-if=\\\"!(doers.users.length > 0)\\\">\\n\" +\n    \"                            Nobody has this on their to do list yet.\\n\" +\n    \"                        </p>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"posts-col\\\" ng-class=\\\"{'col-md-6': !post, 'col-md-4': !!post}\\\">\\n\" +\n    \"                <div class=\\\"posts-container\\\">\\n\" +\n    \"\\n\" +\n    \"                    <a ng-click=\\\"showPostForm()\\\" class=\\\"new-post-btn btn btn-labeled btn-block\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                        Post A Tip or Question\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <div ng-if=\\\"posts.posts.length > 0\\\" ng-include=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></div>\\n\" +\n    \"                    <div ng-if=\\\"posts.posts.length < 1\\\" class=\\\"text-center trans-box\\\">\\n\" +\n    \"                        <p>No posts yet.</p>\\n\" +\n    \"                    </div>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/planner.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"        <h1 class=\\\"white\\\">{{ user.possessiveName }} Planner</h1>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"todo-list col-md-6\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2 class=\\\"white\\\">To Do List</h2>\\n\" +\n    \"\\n\" +\n    \"                <div ng-repeat=\\\"sticker in stickers\\\" class=\\\"todo-item\\\">\\n\" +\n    \"                    <div class=\\\"media\\\">\\n\" +\n    \"\\n\" +\n    \"                        <ul class=\\\"task-list\\\">\\n\" +\n    \"\\n\" +\n    \"                            <li class=\\\"header\\\">\\n\" +\n    \"                                <a href=\\\"/sticker/{{sticker.slug}}\\\">\\n\" +\n    \"                                <span class=\\\"media-left\\\">\\n\" +\n    \"                                    <st-sticker sticker=\\\"sticker\\\"></st-sticker>\\n\" +\n    \"                                </span>\\n\" +\n    \"\\n\" +\n    \"                                <span class=\\\"media-body\\\">\\n\" +\n    \"                                    <h3>{{ sticker.name }}</h3>\\n\" +\n    \"                                    <span class=\\\"sticker-progress\\\" progress=\\\"sticker.progress\\\"></span>\\n\" +\n    \"                                </span>\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"\\n\" +\n    \"                            <li ng-repeat=\\\"task in sticker.todoTasks\\\" class=\\\"task\\\" ng-class=\\\"{\\n\" +\n    \"                                'completed': task.hasCompleted,\\n\" +\n    \"                                }\\\">\\n\" +\n    \"                                <a href=\\\"/task/{{ task.slug }}\\\">\\n\" +\n    \"\\n\" +\n    \"                                    <span ng-if=\\\"progress && progress.pendingIds.indexOf(task.id) !== -1\\\" class=\\\"label label-warning\\\">Submitted</span>\\n\" +\n    \"                                    <span ng-if=\\\"progress && progress.rejectedIds.indexOf(task.id) !== -1\\\" class=\\\"label label-danger\\\">Rejected</span>\\n\" +\n    \"                                    <span ng-if=\\\"task.hasCompleted\\\" class=\\\"label label-success\\\">Completed</span>\\n\" +\n    \"\\n\" +\n    \"                                    <i class=\\\"fa\\\" ng-class=\\\"{'fa-circle': !task.hasCompleted, 'fa-check-circle': task.hasCompleted}\\\"></i>{{ task.name }}\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"submission-list col-md-6\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2 class=\\\"white\\\">Submissions</h2>\\n\" +\n    \"\\n\" +\n    \"                 <ng-include src=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></ng-include>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/stickers.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <h1>{{ user.username }}'s Stickers</h1>\\n\" +\n    \"\\n\" +\n    \"    <a ng-repeat=\\\"sticker in stickers\\\" href=\\\"/sticker/{{ sticker.slug }}\\\">\\n\" +\n    \"        <st-sticker sticker=\\\"sticker\\\"></st-sticker>\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/submissions.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>{{ user.username }}'s Submissions</h1>\\n\" +\n    \"\\n\" +\n    \"    <ul>\\n\" +\n    \"        <li ng-repeat=\\\"submission in submissions\\\">\\n\" +\n    \"            {{ submission | json }}\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1><img class=\\\"user-image\\\" ng-src=\\\"{{user.imageThumbUrl}}\\\" ng-if=\\\"user.imageThumbUrl\\\" />{{ user.username }}</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2 ng-if=\\\"user.profile.about\\\">About {{ user.username }}</h2>\\n\" +\n    \"    <p ng-if=\\\"user.profile.about\\\">{{ user.profile.about }}</p>\\n\" +\n    \"\\n\" +\n    \"    <h2>Stickers</h2>\\n\" +\n    \"    <a ng-repeat=\\\"sticker in stickers.stickers\\\" href=\\\"/sticker/{{sticker.slug}}\\\">\\n\" +\n    \"        <st-sticker sticker=\\\"sticker\\\"></st-sticker>\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <h2>Posts</h2>\\n\" +\n    \"    <ng-include src=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></ng-include>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/comment-form.html',\n    \"<form ng-submit=\\\"addComment()\\\" class=\\\"comment comment-form\\\" ng-if=\\\"commentFormVisible\\\">\\n\" +\n    \"    <div class=\\\"inner\\\">\\n\" +\n    \"        <textarea id=\\\"comment-text\\\" class=\\\"form-control\\\" ng-model=\\\"commentFormData.comment\\\"></textarea>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"author\\\">\\n\" +\n    \"        <i class=\\\"fa fa-user\\\"></i> {{ currentUser.username }}\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"actions\\\">\\n\" +\n    \"        <a class=\\\"btn btn-sm btn-danger icn-btn\\\" ng-click=\\\"hideCommentForm()\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary\\\">\\n\" +\n    \"           <i class=\\\"fa fa-plus-circle\\\"></i> Add\\n\" +\n    \"        </button>\\n\" +\n    \"    </span>\\n\" +\n    \"</form>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/comment.html',\n    \"<div class=\\\"comment\\\" ng-class=\\\"{'liked': !!comment.liked, 'like-clicked': !!comment.likeClicked}\\\" data-commentid=\\\"{{comment.id}}\\\">\\n\" +\n    \"    <div class=\\\"inner\\\">\\n\" +\n    \"        <a class=\\\"like-btn\\\" ng-click=\\\"likeComment($event, comment)\\\" href=\\\"#\\\">\\n\" +\n    \"            <span>{{ comment.likeCount | suppressZero }} <i class=\\\"fa fa-heart-o\\\"></i></span>\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <div ng-bind-html=\\\"comment.comment | markdown\\\"></div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"author\\\">\\n\" +\n    \"        <a href=\\\"/user/{{ comment.user.username }}\\\">\\n\" +\n    \"            <img ng-if=\\\"comment.user.image\\\" ng-src=\\\"{{comment.user.imageThumbUrl}}\\\" class=\\\"user-image\\\" />\\n\" +\n    \"            <i ng-if=\\\"!comment.user.image\\\" class=\\\"fa fa-user\\\"></i> {{ comment.user.username }}\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <!-- TODO: Permalink -->\\n\" +\n    \"        <a href=\\\"#\\\"><i class=\\\"fa fa-clock-o\\\"></i> <span am-time-ago=\\\"comment.createdAt\\\"></span></a>\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"actions\\\">\\n\" +\n    \"\\n\" +\n    \"        <!--{{ comment.replies.length }} loaded / {{ comment.replyCount }} replies-->\\n\" +\n    \"\\n\" +\n    \"        <a class=\\\"btn btn-sm btn-danger icn-btn\\\" ng-if=\\\"$root.currentUser && $root.currentUser.id === comment.userId\\\" ng-click=\\\"deleteComment($event, index, comment)\\\" href=\\\"#\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n\" +\n    \"\\n\" +\n    \"        <span ng-switch on=\\\"(comment.replyCount > 0 && !comment.replies) || comment.replies.length < comment.replyCount\\\">\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"btn btn-sm btn-primary\\\" ng-switch-when=\\\"true\\\" href=\\\"#\\\" ng-click=\\\"loadCommentReplies($event, comment)\\\">\\n\" +\n    \"                <i class=\\\"fa fa-comments\\\"></i> Load {{ comment.replyCount - (comment.replies ? comment.replies.length : 0) }} more replies\\n\" +\n    \"            </a>\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"btn btn-sm\\\" ng-switch-default href=\\\"#\\\" ng-click=\\\"showCommentForm($event, comment)\\\"><i class=\\\"fa fa-commenting\\\"></i> Reply</a>\\n\" +\n    \"\\n\" +\n    \"        </span>\\n\" +\n    \"\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <st-comments class=\\\"comments replies comment-replies-{{comment.depth}}\\\" comments=\\\"comment.replies\\\" show-comment-form=\\\"showCommentForm\\\"></st-comments>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/event-text.html',\n    \"<ng-switch on=\\\"event.type\\\">\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_USER\\\"><a href=\\\"/user/{{event.user.username}}\\\">{{event.user.username}}</a> joined Stickable</span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_STICKER\\\">\\n\" +\n    \"        <span ng-if=\\\"event.user\\\">\\n\" +\n    \"            {{event.user.username}} created the sticker <a href=\\\"/sticker/{{event.sticker.slug}}\\\">{{event.sticker.name}}</a>\\n\" +\n    \"        </span>\\n\" +\n    \"        <span ng-if=\\\"!event.user\\\">\\n\" +\n    \"            A new sticker, <a href=\\\"/sticker/{{event.sticker.slug}}\\\">{{event.sticker.name}}</a>, was created.\\n\" +\n    \"        </span>\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_TASK\\\">\\n\" +\n    \"        <span ng-if=\\\"event.user\\\">\\n\" +\n    \"            {{event.user.username}} created the task <a href=\\\"/task/{{event.task.slug}}\\\">{{event.task.name}}</a>\\n\" +\n    \"        </span>\\n\" +\n    \"        <span ng-if=\\\"!event.user\\\">\\n\" +\n    \"            A new task, <a href=\\\"/task/{{event.task.slug}}\\\">{{event.task.name}}</a>, was created.\\n\" +\n    \"        </span>\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_POST\\\">{{event.user.username}} posted <a href=\\\"/task/{{event.task.slug}}/{{event.post.slug}}\\\">{{event.post.title}}</a> about {{event.task.name}}</span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_COMMENT\\\">{{event.user.username}} <a href=\\\"/task/{{event.task.slug}}/{{event.post.slug}}#comment-{{event.commentId}}\\\">commented on the post {{event.post.title}}</a></span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"STICKER_EARNT\\\">{{event.user.username}} earnt the sticker <a href=\\\"/sticker/{{event.sticker.slug}}\\\">{{event.sticker.name}}</a></span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"SUBMISSION_APPROVED\\\">{{event.user.username}} completed the task <a href=\\\"/task/{{event.task.slug}}\\\">{{event.task.name}}</a></span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-when=\\\"NEW_TO_DO\\\">\\n\" +\n    \"        <span ng-if=\\\"event.sticker\\\">\\n\" +\n    \"            {{event.user.username}} wants the sticker <a href=\\\"/sticker/{{event.sticker.slug}}\\\">{{event.sticker.name}}</a>\\n\" +\n    \"        </span>\\n\" +\n    \"        <span ng-if=\\\"event.task\\\">\\n\" +\n    \"            {{event.user.username}} wants to <a href=\\\"/task/{{event.task.slug}}\\\">{{event.task.name}}</a>\\n\" +\n    \"        </span>\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span ng-switch-default>{{event.type}}</span>\\n\" +\n    \"\\n\" +\n    \"</ng-switch>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/footer.html',\n    \"<footer>\\n\" +\n    \"    <div class=\\\"container-fluid\\\">\\n\" +\n    \"        <div class=\\\"pull-left\\\">\\n\" +\n    \"            &copy; Stickable.io\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"pull-right\\\">\\n\" +\n    \"            <a href=\\\"https://api.stickable.io/docs/\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-code-fork\\\"></i> API</a>\\n\" +\n    \"            <a href=\\\"https://github.com/antriver/stickable-frontend\\\"><i class=\\\"fa fa-github\\\"></i> GitHub</a>\\n\" +\n    \"            <a href=\\\"#\\\"><i class=\\\"fa fa-book\\\"></i> Terms of Use</a>\\n\" +\n    \"            <a href=\\\"#\\\"><i class=\\\"fa fa-lock\\\"></i> Privacy Policy</a>\\n\" +\n    \"            <a href=\\\"mailto:help@stickable.io\\\"><i class=\\\"fa fa-envelope-o\\\"></i> Contact Us</a>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</footer>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/header.html',\n    \"<header class=\\\"navbar\\\" id=\\\"top-bar\\\">\\n\" +\n    \"    <div class=\\\"container-fluid\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"navbar-header\\\" ng-class=\\\"{'has-title':headerTitle}\\\">\\n\" +\n    \"\\n\" +\n    \"            <a href=\\\"#\\\" ng-click=\\\"back()\\\" class=\\\"navbar-back\\\"><i class=\\\"fa fa-chevron-left\\\"></i></a>\\n\" +\n    \"\\n\" +\n    \"            <button type=\\\"button\\\" class=\\\"navbar-toggle\\\">\\n\" +\n    \"                <span class=\\\"navbar-toggle-icon\\\">\\n\" +\n    \"                    <span></span>\\n\" +\n    \"                </span>\\n\" +\n    \"            </button>\\n\" +\n    \"\\n\" +\n    \"            <a ui-sref=\\\"home\\\" class=\\\"navbar-brand\\\"><img src=\\\"/assets/img/stickable.svg\\\" alt=\\\"Stickable\\\" /></a>\\n\" +\n    \"\\n\" +\n    \"            <h1>{{ headerTitle }}</h1>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <ul ng-if=\\\"currentUser\\\" class=\\\"nav navbar-nav navbar-right notification-nav\\\" ng-class=\\\"{'has-notification': notifications.length > 0}\\\">\\n\" +\n    \"            <li>\\n\" +\n    \"                <a ng-click=\\\"toggleNotifications($event)\\\" href=\\\"#\\\">\\n\" +\n    \"                    <span ng-show=\\\"notifications.length > 0\\\" class=\\\"notification\\\">{{ notifications.length }}</span>\\n\" +\n    \"                    <i ng-show=\\\"notifications.length < 1\\\" class=\\\"fa fa-envelope fa-fw\\\"></i>\\n\" +\n    \"                    <b class=\\\"caret visible-lg-inline-block\\\"></b>\\n\" +\n    \"                </a>\\n\" +\n    \"            </li>\\n\" +\n    \"        </ul>\\n\" +\n    \"\\n\" +\n    \"        <st-notifications\\n\" +\n    \"                class=\\\"header-notifications\\\"\\n\" +\n    \"                ng-class=\\\"{\\n\" +\n    \"                    'notifications-preview': !notificationsOpen && notificationsPreview\\n\" +\n    \"                    }\\\"\\n\" +\n    \"                ng-if=\\\"currentUser && (notificationsOpen || notificationsPreview)\\\"\\n\" +\n    \"                notifications=\\\"notifications\\\"\\n\" +\n    \"                toggle=\\\"toggleNotifications\\\"\\n\" +\n    \"                ></st-notifications>\\n\" +\n    \"\\n\" +\n    \"        <nav role=\\\"navigation\\\" id=\\\"top-bar-nav\\\">\\n\" +\n    \"\\n\" +\n    \"            <ng-include src=\\\"'views/partials/nav.html'\\\"></ng-include>\\n\" +\n    \"\\n\" +\n    \"            <form class=\\\"navbar-form navbar-right visible-lg\\\" ng-submit=\\\"login()\\\" ng-if=\\\"currentUser === false\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <input id=\\\"header-username\\\"\\n\" +\n    \"                           type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control input-sm\\\"\\n\" +\n    \"                           name=\\\"username\\\"\\n\" +\n    \"                           placeholder=\\\"Username\\\"\\n\" +\n    \"                           ng-model=\\\"loginFormData.username\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <input id=\\\"header-password\\\"\\n\" +\n    \"                           type=\\\"password\\\"\\n\" +\n    \"                           class=\\\"form-control input-sm\\\"\\n\" +\n    \"                           name=\\\"password\\\"\\n\" +\n    \"                           placeholder=\\\"Password\\\"\\n\" +\n    \"                           ng-model=\\\"loginFormData.password\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"                <button id=\\\"header-login-btn\\\" type=\\\"submit\\\" class=\\\"btn btn-labeled btn-primary\\\" ng-class=\\\"{'btn-loading': loginFormData.loading}\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-key fa-fw\\\"></i>\\n\" +\n    \"                    Login\\n\" +\n    \"                </button>\\n\" +\n    \"                <a class=\\\"btn\\\" href=\\\"/signup\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Signup</a>\\n\" +\n    \"            </form>\\n\" +\n    \"\\n\" +\n    \"        </nav>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"</header>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/nav.html',\n    \"<ul class=\\\"nav navbar-nav\\\">\\n\" +\n    \"    <li class=\\\"hidden-lg hidden-md\\\"><a href=\\\"/\\\"><i class=\\\"fa fa-home fa-fw\\\"></i> Front Page</a></li>\\n\" +\n    \"    <li><a href=\\\"/bot\\\"><i class=\\\"fa fa-search fa-fw\\\"></i> Ideas</a></li>\\n\" +\n    \"    <li><a href=\\\"/browse\\\"><i class=\\\"fa fa-folder fa-fw\\\"></i> Categories</a></li>\\n\" +\n    \"    <li><a href=\\\"/stickers\\\"><i class=\\\"fa fa-trophy fa-fw\\\"></i> Popular</a></li>\\n\" +\n    \"    <li><a href=\\\"/help\\\"><i class=\\\"fa fa-question fa-fw\\\"></i> Help</a></li>\\n\" +\n    \"</ul>\\n\" +\n    \"\\n\" +\n    \"<ul class=\\\"nav navbar-nav navbar-right nav-logged-in\\\" ng-if=\\\"currentUser\\\">\\n\" +\n    \"\\n\" +\n    \"    <li><a href=\\\"/user/{{ currentUser.username }}/planner\\\"><i class=\\\"fa fa-bookmark fa-fw\\\"></i> Planner</a></li>\\n\" +\n    \"    <li><a href=\\\"/user/{{ currentUser.username }}/stickers\\\"><i class=\\\"fa fa-trophy fa-fw\\\"></i> Sticker Book</a>\\n\" +\n    \"    </li>\\n\" +\n    \"\\n\" +\n    \"    <li class=\\\"dropdown\\\">\\n\" +\n    \"        <a class=\\\"dropdown-toggle\\\" href=\\\"#\\\" data-toggle=\\\"dropdown\\\">\\n\" +\n    \"            <img class=\\\"user-image\\\" ng-src=\\\"{{ currentUser.imageThumbUrl}}\\\" />\\n\" +\n    \"            {{ currentUser.username }} <b class=\\\"caret\\\"></b>\\n\" +\n    \"        </a>\\n\" +\n    \"        <ul class=\\\"dropdown-menu\\\">\\n\" +\n    \"            <li><a href=\\\"/user/{{ currentUser.username }}\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Profile</a></li>\\n\" +\n    \"            <li><a href=\\\"/settings\\\"><i class=\\\"fa fa-cog fa-fw\\\"></i> Settings</a></li>\\n\" +\n    \"            <li><a href=\\\"#\\\" ng-click=\\\"logout()\\\"><i class=\\\"fa fa-unlock-alt fa-fw\\\"></i> Logout</a></li>\\n\" +\n    \"        </ul>\\n\" +\n    \"    </li>\\n\" +\n    \"</ul>\\n\" +\n    \"\\n\" +\n    \"<ul class=\\\"nav navbar-nav navbar-right nav-logged-out hidden-lg\\\" ng-if=\\\"currentUser === false\\\">\\n\" +\n    \"    <li><a href=\\\"/login\\\"><i class=\\\"fa fa-key fa-fw\\\"></i> Login</a></li>\\n\" +\n    \"    <li><a href=\\\"/signup\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Signup</a></li>\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/post-list.html',\n    \"<ul class=\\\"posts media-list to-edge\\\">\\n\" +\n    \"\\n\" +\n    \"    <li class=\\\"post media\\\"\\n\" +\n    \"        ng-repeat=\\\"thisPost in posts.posts\\\"\\n\" +\n    \"        ng-class=\\\"{'with-task': !!showPostTasks, 'liked': !!thisPost.liked, 'like-clicked': !!thisPost.likeClicked}\\\"\\n\" +\n    \"            ng-if=\\\"!post || post.id != thisPost.id\\\">\\n\" +\n    \"\\n\" +\n    \"        <span class=\\\"media-left media-middle\\\" ng-if=\\\"thisPost.image\\\">\\n\" +\n    \"            <a href=\\\"/task/{{ (thisPost.task ? thisPost.task.slug : (task ? task.slug : ''))}}/{{ thisPost.slug }}\\\"\\n\" +\n    \"               ng-click=\\\"goToPost($event, thisPost)\\\">\\n\" +\n    \"                <img class=\\\"media-object\\\" ng-src=\\\"{{ thisPost.image.thumbUrl }}\\\"/>\\n\" +\n    \"            </a>\\n\" +\n    \"        </span>\\n\" +\n    \"        <span class=\\\"media-body media-middle\\\">\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"like-btn\\\" ng-click=\\\"likePost($event, thisPost)\\\" href=\\\"#\\\">\\n\" +\n    \"                <span>{{ thisPost.likeCount | suppressZero }} <i class=\\\"fa fa-heart-o\\\"></i></span>\\n\" +\n    \"            </a>\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"title\\\"\\n\" +\n    \"               href=\\\"/task/{{ (thisPost.task ? thisPost.task.slug : (task ? task.slug : ''))}}/{{ thisPost.slug }}\\\"\\n\" +\n    \"               ng-click=\\\"goToPost($event, thisPost)\\\">{{ thisPost.title }}</a>\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"details\\\">\\n\" +\n    \"\\n\" +\n    \"                <span ng-if=\\\"showPostTasks\\\">\\n\" +\n    \"                    <a href=\\\"/task/{{thisPost.task.slug}}\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-check-square-o\\\"></i> {{ thisPost.task.name }}\\n\" +\n    \"                    </a>\\n\" +\n    \"                    <br/>\\n\" +\n    \"                </span>\\n\" +\n    \"\\n\" +\n    \"                <span ng-if=\\\"showPostApproval && thisPost.submission.approved === true\\\" class=\\\"green\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-check-circle\\\"></i> Approved Submission\\n\" +\n    \"                </span>\\n\" +\n    \"\\n\" +\n    \"                <span ng-if=\\\"showPostApproval && thisPost.submission.approved === null\\\" class=\\\"yellow\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-pause-circle\\\"></i> Pending Submission\\n\" +\n    \"                </span>\\n\" +\n    \"\\n\" +\n    \"                <span ng-if=\\\"showPostApproval && thisPost.submission.approved === false\\\" class=\\\"red\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-times-circle\\\"></i> Rejected Submission\\n\" +\n    \"                </span>\\n\" +\n    \"\\n\" +\n    \"                <!--<span ng-if=\\\"!showPostApproval && thisPost.type === 'SUBMISSION'\\\">\\n\" +\n    \"                    <i class=\\\"fa\\\"\\n\" +\n    \"                   ng-class=\\\"{'fa-check-circle': thisPost.type === 'SUBMISSION', 'fa-question-circle' : thisPost.type === 'QUESTION', 'fa-info-circle' : thisPost.type === 'TIP'}\\\"></i>\\n\" +\n    \"                    {{ thisPost.type.capitalizeFirstLetter() }}\\n\" +\n    \"                </span>-->\\n\" +\n    \"\\n\" +\n    \"                <span ng-if=\\\"showPostUser !== false\\\"><i class=\\\"fa fa-user\\\"></i> {{ thisPost.user.username }}</span>\\n\" +\n    \"                <i class=\\\"fa fa-comment\\\"></i> {{ thisPost.commentCount }}\\n\" +\n    \"\\n\" +\n    \"            </span>\\n\" +\n    \"        </span>\\n\" +\n    \"\\n\" +\n    \"    </li>\\n\" +\n    \"\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/sidenav.html',\n    \"<nav role=\\\"navigation\\\" id=\\\"sidenav\\\">\\n\" +\n    \"\\n\" +\n    \"    <ng-include src=\\\"'views/partials/nav.html'\\\"></ng-include>\\n\" +\n    \"\\n\" +\n    \"</nav>\\n\" +\n    \"\\n\" +\n    \"<div id=\\\"sidenav-closer\\\"></div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/submission-forms/image.html',\n    \"\\n\" +\n    \"<div class=\\\"dropzone needsclick\\\" id=\\\"post-file\\\">\\n\" +\n    \"    <div class=\\\"fallback\\\">\\n\" +\n    \"        <input name=\\\"file\\\" type=\\\"file\\\" multiple />\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <a class=\\\"btn btn-lg btn-primary btn-labeled dropzone-btn needsclick no-block\\\">\\n\" +\n    \"        <i class=\\\"fa fa-camera fa-2x\\\"></i><br/>\\n\" +\n    \"        Select Photos\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"dz-message\\\">\\n\" +\n    \"        <i class=\\\"fa fa-info-circle\\\"></i> Select photos for your submission or drag them to this box.\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<p class=\\\"submission-help submission-photo-help\\\"><i class=\\\"fa fa-info-circle\\\"></i> You can either show yourself in the photo or your username should be in the photo (on a piece of paper for example, not added with Photoshop). Our moderators will check the photo to ensure it meets the requirements of this task.</p>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/submission-forms/text.html',\n    \"<textarea placeholder=\\\"Write stuff here.\\\" ng-model=\\\"submissionFormData.text\\\"></textarea>\\n\"\n  );\n\n}]);\n","app.controller(\n    'BotController',\n    function ($element, $scope, $rootScope, TaskResource) {\n\n        $rootScope.pageTitle = 'What To Do';\n\n        //setBg($element, '/assets/img/bg/feet.jpg');\n\n        var skipMessages = [\n            'No thanks',\n            'Screw that',\n            'That Sucks',\n            'I don\\'t want to',\n            'Pass',\n            'Nope',\n            'Something better',\n            'Something else'\n        ];\n\n        var goMessages = [\n            'Sounds good',\n            'Sure',\n            'Let\\'s do it',\n            'I\\'m in'\n        ];\n\n        $scope.skipMessage = null;\n        $scope.goMessage = null;\n        $scope.task = null;\n        $scope.loading = false;\n\n        $scope.formData = {\n            cost: null,\n            time: null\n        };\n\n        $scope.findTask = function () {\n            if ($scope.loading) {\n                return false;\n            }\n\n            $scope.loading = true;\n            $scope.task = null;\n            TaskResource.query(\n                $scope.formData,\n                function (task) {\n\n                    console.log(task);\n\n                    $scope.loading = false;\n                    $scope.task = task;\n                    clearBg();\n                    if (task.bgUrl) {\n                        setBg($element, task.bgUrl);\n                    }\n\n                    skipMessages.shuffle();\n                    $scope.skipMessage = skipMessages[0];\n\n                    goMessages.shuffle();\n                    $scope.goMessage = goMessages[0];\n                }, function (response) {\n\n                    $scope.loading = false;\n                    $scope.task = false;\n\n                }\n            );\n        };\n\n        $scope.findTask();\n\n        $scope.$watch('formData.cost', function () {\n            $scope.findTask();\n        });\n\n        $scope.$watch('formData.time', function () {\n            $scope.findTask();\n        });\n    }\n);\n","app.controller(\n    'BrowseController',\n    function ($element, $scope, $rootScope, CategoryResource) {\n\n        $rootScope.pageTitle = 'Categories';\n\n        $scope.categories = CategoryResource.query();\n        setBg($element, '/assets/img/bg/cats.jpg');\n    }\n);\n","app.controller(\n    'CategoryController',\n    function ($scope, $rootScope, $state, $stateParams, $element, CategoryResource) {\n\n        $rootScope.loading = true;\n\n        $scope.category = null;\n        $scope.hasSubcategories = false;\n        $scope.hasStickers = false;\n\n        CategoryResource.get({slug: $stateParams.slug}, function (category) {\n\n            $scope.category = category;\n\n            $rootScope.headerTitle = category.name;\n            $rootScope.pageTitle = category.name;\n\n            $scope.hasSubcategories = category.subcategories.length > 0;\n            $scope.hasStickers = category.stickers.length > 0;\n\n            setBg($element, category.bgUrl);\n        });\n    }\n);\n","app.controller(\n    'HelpController',\n    function ($element, $scope, $rootScope) {\n        $rootScope.pageTitle = 'Help';\n        setBg($element, '/assets/img/bg/about.jpg');\n    }\n);\n","app.controller(\n    'HomeController',\n    function ($element,\n              $state,\n              $scope,\n              $rootScope,\n              $filter,\n              CategoryResource,\n              PostResource,\n              StickerResource,\n              ModalService,\n              debounce,\n              ToDoResource,\n              EventLogResource) {\n\n        var splashImages = [\n            'aurora',\n            'field',\n            'girl',\n            'hiking',\n            'stars',\n            'surfboard',\n            'trees'\n        ];\n        splashImages.shuffle();\n        $scope.splashImage = '/assets/img/splash/' + splashImages[0] + '.jpg';\n\n        $scope.setBg = function () {\n            setBg($element, $scope.splashImage);\n        };\n\n        $scope.setBg();\n\n        $scope.eventLog = EventLogResource.query();\n\n        /**\n         * Sticker Search\n         */\n\n        $scope.searchData = {\n            value: ''\n        };\n        $scope.searchResults = [];\n\n        $scope.searchLoading = false;\n\n        var debouncedSearch = debounce(300, function () {\n            if ($scope.searchData.value) {\n                $scope.searchOpen = true;\n                $scope.searchLoading = true;\n\n                StickerResource.search(\n                    {\n                        q: $scope.searchData.value\n                    },\n                    function (results) {\n\n                        for (var i = 0; i < results.length; i++) {\n                            var result = results[i];\n                            if (result.type === 'task') {\n                                result.isOnToDoList = result.task.isOnToDoList;\n                            } else {\n                                result.isOnToDoList = result.sticker.isOnToDoList;\n                            }\n                        }\n\n                        $scope.searchLoading = false;\n                        $scope.searchResults = results;\n                    }\n                );\n            }\n        });\n\n        $scope.search = function () {\n            debouncedSearch();\n        };\n\n        $scope.searchFocus = function () {\n            $rootScope.searchOpen = true;\n            $scope.setBg();\n            window.scrollTo(0, 0);\n            document.body.scrollTop = 0;\n        };\n\n        $scope.closeSearch = function () {\n            $scope.searchData.value = '';\n            $scope.searchResults = [];\n            $rootScope.searchOpen = false;\n        };\n\n        $scope.searchBlur = function () {\n\n            if ($('.close-search-btn:visible').length < 1) { // Hack to detect >= md\n                if (!$scope.searchData.value) {\n                    $rootScope.searchOpen = false;\n                }\n            }\n        };\n\n        $scope.newSticker = function (name) {\n\n            name = $filter('titlecase')(name);\n\n            ModalService.showModal({\n                templateUrl: 'views/modals/sticker-form.html',\n                controller: 'StickerFormController',\n                inputs: {\n                    name: name,\n                }\n            }).then(function (modal) {\n\n                modal.close.then(function (sticker) {\n                    if (sticker) {\n                        $state.go('sticker', {slug: sticker.slug});\n                    }\n                });\n\n            });\n        };\n\n        $scope.toggleToDo = function ($event, result) {\n\n            preventDefault($event);\n\n            var data = {};\n            var name = '';\n            if (result.type === 'task') {\n                data.taskId = result.task.id;\n                name = result.task.name;\n            } else {\n                data.stickerId = result.sticker.id;\n                name = result.sticker.name;\n            }\n\n            if (result.isOnToDoList) {\n                result.isOnToDoList = false;\n                result.people -= 1;\n\n                ToDoResource.delete(\n                    {username: $rootScope.currentUser.username},\n                    data,\n                    function (result) {\n                        alertSuccess('Removed ' + name + ' from your To Do List');\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            } else {\n                result.isOnToDoList = true;\n                result.people += 1;\n\n                ToDoResource.save(\n                    {username: $rootScope.currentUser.username},\n                    data,\n                    function (result) {\n                        alertSuccess('Added ' + name + ' to your To Do List');\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            }\n\n        };\n\n        /*$scope.taskSearchUrl = apiUrl + '/tasks/search?q=';\n\n         $scope.onTaskSelect = function (object) {\n         console.log(object);\n         if (object.hasOwnProperty('new')) {\n\n         ModalService.showModal({\n         templateUrl: 'views/modals/task-form.html',\n         controller: 'TaskFormController',\n         inputs: {\n         name: object.new,\n         }\n         }).then(function(modal) {\n\n         modal.close.then(function (task) {\n         if (task) {\n         $state.go('task', {slug: task.slug});\n         }\n         });\n\n         });\n\n         } else {\n         $state.go('task', {slug: object.originalObject.slug});\n         }\n         };*/\n\n        /**\n         * Recent Posts\n         */\n        $scope.showPostTasks = true;\n        $scope.posts = PostResource.query();\n    }\n);\n","app.controller(\n    'NotificationsController',\n    function ($scope, $rootScope, UserNotificationsResource) {\n\n        $rootScope.pageTitle = 'Notifications';\n\n        $scope.init = function () {\n\n            if (!$rootScope.currentUser) {\n                return false;\n            }\n            UserNotificationsResource.query({username: $rootScope.currentUser.username}, function (results) {\n                $rootScope.notifications = results;\n            });\n\n        };\n\n        $rootScope.$on('login', function () {\n            $scope.init();\n        });\n\n        $scope.init();\n\n    }\n);\n","app.controller(\n    'SettingsController',\n    function ($scope, $rootScope, $state, $stateParams, AuthService, UserResource, $timeout) {\n\n        $rootScope.pageTitle = 'Settings';\n\n        $scope.hasNewImage = false;\n\n        var dropzone;\n        $timeout(function () {\n            dropzone = new Dropzone(\"#settings-image\", {\n                acceptedFiles: \"image/*\",\n                maxFiles: 1,\n                autoProcessQueue: false,\n                url: '/api/images?sessionToken=' + AuthService.getSessionToken(),\n                clickable: '.dropzone-btn',\n                thumbnailWidth: 100,\n            });\n\n            dropzone.on(\"addedfile\", function () {\n                if (dropzone.files[1] != null) {\n                    dropzone.removeFile(dropzone.files[0]);\n                }\n                $scope.hasNewImage = dropzone.files.length > 0;\n                $scope.$apply();\n            });\n\n            dropzone.on('success', function (file) {\n                console.log(file);\n                var response = JSON.parse(file.xhr.response);\n                console.log('response');\n                if (response && response.hasOwnProperty('image')) {\n                    $scope.formData.imageId = response.image.id;\n                }\n                console.log('$scope.formData', $scope.formData);\n                $scope.finishSubmit();\n            });\n\n            dropzone.on('error', function (file, errorMessage) {\n                alertError('Unable to save avatar. ' + errorMessage.message);\n            });\n\n            dropzone.on(\"removedfile\", function () {\n                $scope.hasNewImage = dropzone.files.length > 0;\n                $scope.formData.imageId = false;\n                try {\n                    if (!$scope.$$phase) {\n                        $scope.$apply();\n                    }\n                } catch (e) {\n\n                }\n            });\n\n        }, 10);\n\n        $scope.formData = {\n            about: '',\n            imageId: ''\n        };\n        $scope.user = null;\n\n        $scope.init = function () {\n\n            if (!$rootScope.currentUser) {\n                return false;\n            }\n\n            UserResource.get({username: $rootScope.currentUser.username}, function (user) {\n                console.log(user);\n                $scope.user = user;\n                $scope.formData.about = user.profile.about;\n            });\n        };\n\n        $rootScope.$on('login', function () {\n            $scope.init();\n        });\n\n        $scope.init();\n\n        $scope.submit = function () {\n            if ($scope.hasNewImage) {\n                // Send avatar to server\n                dropzone.processQueue();\n            } else {\n                $scope.finishSubmit();\n            }\n        };\n\n        $scope.finishSubmit = function () {\n            UserResource.update(\n                {username: $rootScope.currentUser.username},\n                $scope.formData,\n                function (response) {\n                    $scope.formData.loading = false;\n                    $scope.user = response.user;\n                    $scope.hasNewImage = false;\n                    dropzone.removeAllFiles();\n                    alertSuccess(\"Changes saved\");\n                },\n                function (response) {\n                    $scope.formData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('picture')\n                            ||\n                            response.data.messages.hasOwnProperty('about')\n                        )\n                    ) {\n                        $scope.formData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            )\n        };\n\n        $scope.generatingAvatar = false;\n        $scope.generateAvatar = function ($event) {\n            preventDefault($event);\n            if ($scope.generatingAvatar) {\n                return false\n            }\n\n            $scope.generatingAvatar = true;\n\n            UserResource.generateAvatar(\n                {username: $rootScope.currentUser.username},\n                {},\n                function (response) {\n                    $scope.generatingAvatar = false;\n                    $scope.user = response.user;\n                    $scope.hasNewImage = false;\n                    dropzone.removeAllFiles();\n                    alertSuccess(\"Changes saved\");\n                },\n                function (response) {\n                    $scope.generatingAvatar = false;\n                    alertError(response.data.message);\n\n                }\n            )\n        }\n    }\n);\n","app.controller(\n    'StickerController',\n    function ($scope, $rootScope, $state, $stateParams, StickerResource, ToDoResource, ProgressService, ModalService) {\n\n        $rootScope.loading = true;\n\n        $scope.sticker = null;\n        $scope.progress = null;\n        $scope.taskPadding = 0;\n        StickerResource.get({slug: $stateParams.slug}, function (sticker) {\n\n            $rootScope.loading = false;\n            $rootScope.pageTitle = sticker.name;\n\n            $scope.sticker = sticker;\n            if (sticker.progress) {\n                $scope.progress = ProgressService.getProgress(sticker);\n            }\n\n            setBg($('.sticker-splash'), sticker.bgUrl);\n\n            $scope.loadDoers();\n            $scope.earners = StickerResource.getEarners({slug: sticker.slug});\n            $scope.taskPadding = Math.max(0, 6 - sticker.tasks.length);\n        });\n\n        $scope.loadDoers = function () {\n            StickerResource.getDoers({slug: $scope.sticker.slug}, function (result) {\n                $scope.doers = result;\n            });\n        };\n\n        $scope.toggleToDo = function () {\n\n            if ($scope.sticker.isOnToDoList) {\n                $scope.sticker.isOnToDoList = false;\n                ToDoResource.delete(\n                    {username: $rootScope.currentUser.username},\n                    {stickerId: $scope.sticker.id},\n                    function (result) {\n                        alertSuccess('Removed ' + $scope.sticker.name + ' from your To Do List');\n                        //$scope.sticker.isOnToDoList = false;\n                        $scope.loadDoers();\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            } else {\n                $scope.sticker.isOnToDoList = true;\n                ToDoResource.save(\n                    {username: $rootScope.currentUser.username},\n                    {stickerId: $scope.sticker.id},\n                    function (result) {\n                        alertSuccess('Added ' + $scope.sticker.name + ' to your To Do List');\n                        //$scope.task.isOnToDoList = true;\n                        $scope.loadDoers();\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            }\n\n        };\n\n        $scope.likeEarner = function ($event, earner) {\n            preventDefault($event);\n\n            earner.likeClicked = true;\n            earner.pivot.liked = earner.pivot.liked ? false : true;\n\n            if (earner.pivot.liked) {\n                earner.likeCount = earner.pivot.likeCount = parseInt(earner.pivot.likeCount) + 1;\n                StickerResource.likeEarner({slug: $scope.sticker.slug, earntId: earner.pivot.id});\n            } else {\n                earner.likeCount = earner.pivot.likeCount = parseInt(earner.pivot.likeCount) - 1;\n                StickerResource.unlikeEarner({slug: $scope.sticker.slug, earntId: earner.pivot.id});\n            }\n\n            earner.likeCount = earner.pivot.likeCount;\n        };\n\n        $scope.likeDoer = function ($event, doer) {\n            preventDefault($event);\n\n            doer.likeClicked = true;\n            doer.pivot.liked = doer.pivot.liked ? false : true;\n\n            if (doer.pivot.liked) {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) + 1;\n                ToDoResource.likeDoer({toDoId: doer.pivot.id});\n            } else {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) - 1;\n                ToDoResource.unlikeDoer({toDoId: doer.pivot.id});\n            }\n\n            doer.likeCount = doer.pivot.likeCount;\n        };\n\n        $scope.addTask = function ($event) {\n            preventDefault($event);\n\n            ModalService.showModal({\n                templateUrl: 'views/modals/task-form.html',\n                controller: 'TaskFormController',\n                inputs: {\n                    sticker: $scope.sticker\n                }\n            }).then(function (modal) {\n\n                modal.close.then(function (task) {\n                    if (task) {\n                        $state.go('task', {slug: task.slug});\n                    }\n                });\n\n            });\n\n        };\n\n    }\n);\n","app.controller(\n    'StickersController',\n    function ($element, $scope, $rootScope) {\n        $rootScope.pageTitle = 'Popular Stickers';\n        setBg($element, '/assets/img/bg/about.jpg');\n    }\n);\n","app.controller(\n    'TaskController',\n    function ($scope,\n              $rootScope,\n              $element,\n              $state,\n              $stateParams,\n              $timeout,\n              ModalService,\n              TaskResource,\n              SubmissionResource,\n              ToDoResource,\n              PostResource,\n              CommentResource) {\n\n        $rootScope.loading = true;\n\n        /**\n         * Task\n         */\n        $scope.task = null;\n        $scope.doers = null;\n\n        function onTaskLoad(task) {\n            $scope.task = task;\n\n            setBg($element, task.bgUrl);\n        }\n\n        /**\n         * Posts List\n         */\n        $scope.showPostTasks = false;\n        $scope.postsOrder = 'featured';\n        $scope.posts = PostResource.getTaskPosts({taskSlug: $stateParams.slug}, {type: $scope.postType});\n\n        /**\n         * Post\n         */\n        $scope.post = null;\n        $scope.comments = null;\n        if ($stateParams.postSlug) {\n\n            PostResource.get({postSlug: $stateParams.postSlug}, function (response) {\n                $rootScope.loading = false;\n                $rootScope.pageTitle = response.post.title;\n                $scope.post = response.post;\n                onTaskLoad(response.post.task);\n\n                if (response.post) {\n                    $scope.comments = CommentResource.getPostsComments({postId: response.post.id})\n                }\n            });\n\n        } else {\n\n            TaskResource.get({slug: $stateParams.slug}, function (task) {\n                $rootScope.loading = false;\n                $rootScope.pageTitle = task.name;\n                onTaskLoad(task);\n\n                $scope.loadDoers();\n            });\n        }\n\n        $scope.loadDoers = function () {\n            TaskResource.getDoers({slug: $scope.task.slug}, function (result) {\n                $scope.doers = result;\n            });\n        };\n\n        $scope.likeDoer = function ($event, doer) {\n            preventDefault($event);\n\n            doer.likeClicked = true;\n            doer.pivot.liked = doer.pivot.liked ? false : true;\n\n            if (doer.pivot.liked) {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) + 1;\n                ToDoResource.likeDoer({toDoId: doer.pivot.id});\n            } else {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) - 1;\n                ToDoResource.unlikeDoer({toDoId: doer.pivot.id});\n            }\n\n            doer.likeCount = doer.pivot.likeCount;\n        };\n\n        $scope.goToTask = function ($event, task) {\n            /*preventDefault($event);\n             $scope.post = null;\n             onTaskLoad(task);*/\n        };\n\n        // TODO: paginate posts\n\n        $scope.setPostsOrder = function (order) {\n            $scope.postsOrder = order;\n        };\n\n        $scope.showSubmissionForm = function () {\n            ModalService.showModal({\n                templateUrl: 'views/modals/submission-form.html',\n                controller: 'SubmissionFormController',\n                inputs: {\n                    task: $scope.task,\n                }\n            }).then(function (modal) {\n\n                modal.close.then(function (post) {\n                    if (post) {\n                        $scope.posts.posts.unshift(post);\n                    }\n                });\n\n            });\n\n        };\n\n        $scope.showPostForm = function (type) {\n            ModalService.showModal({\n                templateUrl: 'views/modals/post-form.html',\n                controller: 'PostFormController',\n                inputs: {\n                    task: $scope.task,\n                    postType: type\n                }\n            }).then(function (modal) {\n\n                modal.close.then(function (post) {\n                    if (post) {\n                        $scope.posts.posts.unshift(post);\n                    }\n                });\n\n            });\n\n        };\n\n        $scope.toggleToDo = function () {\n\n            if ($scope.task.isOnToDoList) {\n                $scope.task.isOnToDoList = false;\n                ToDoResource.delete(\n                    {username: $rootScope.currentUser.username},\n                    {taskId: $scope.task.id},\n                    function (result) {\n                        alertSuccess('Removed ' + $scope.task.name + ' from your To Do List');\n                        //$scope.task.isOnToDoList = false;\n                        $scope.loadDoers();\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            } else {\n                $scope.task.isOnToDoList = true;\n                ToDoResource.save(\n                    {username: $rootScope.currentUser.username},\n                    {taskId: $scope.task.id},\n                    function (result) {\n                        alertSuccess('Added ' + $scope.task.name + ' to your To Do List');\n                        //$scope.task.isOnToDoList = true;\n                        $scope.loadDoers();\n                    },\n                    function (result) {\n                        alertError(result.data.message);\n                    }\n                );\n            }\n\n        };\n\n        $scope.submissionFormData = {\n            loading: false,\n            text: '',\n            image: ''\n        };\n\n        $scope.addSubmission = function () {\n            $scope.submissionFormData.loading = true;\n            SubmissionResource.save(\n                {\n                    taskId: $scope.task.id,\n                    text: $scope.submissionFormData.text,\n                    image: $scope.submissionFormData.image\n                },\n                function (response) {\n\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            );\n        };\n\n        /**\n         * Comments\n         */\n\n        $scope.commentFormVisible = false;\n        $scope.showCommentForm = function ($event, replyToComment) {\n            preventDefault($event);\n            $scope.commentFormVisible = true;\n\n            if (replyToComment) {\n                $scope.commentFormData.replyTo = replyToComment;\n                // Move comment form to reply hole\n                $('.comment[data-commentid=' + replyToComment.id + '] > .replies').prepend($('#comment-form-include'));\n            } else {\n                $scope.commentFormData.replyTo = null;\n                // Move comment form to top level hole\n                $('#comment-form-container').prepend($('#comment-form-include'));\n            }\n\n        };\n\n        $scope.hideCommentForm = function (clear) {\n            if (clear) {\n                $scope.commentFormData.comment = '';\n            }\n            $scope.commentFormVisible = false;\n            $('#comment-form-container').prepend($('#comment-form-include'));\n        };\n\n        $scope.commentFormData = {\n            loading: false,\n            replyTo: null,\n            comment: ''\n        };\n\n        $scope.addComment = function () {\n\n            //CKEDITOR.instances['comment-text'].fire('change');\n            $scope.commentFormData.loading = true;\n\n            if ($scope.commentFormData.replyTo) {\n\n                CommentResource.saveReply(\n                    {\n                        commentId: $scope.commentFormData.replyTo.id,\n                        //postId: $scope.post.id,\n                        comment: $scope.commentFormData.comment,\n                    },\n                    function (response) {\n                        if (!$scope.commentFormData.replyTo.replies) {\n                            $scope.commentFormData.replyTo.replies = [];\n                        }\n                        $scope.commentFormData.replyTo.replies.unshift(response.comment);\n                        $scope.commentFormData.replyTo.replyCount += 1;\n                        $scope.hideCommentForm(true);\n                    },\n                    function (response) {\n                        alertError(response.data.message);\n                    }\n                );\n\n            } else {\n\n                CommentResource.save(\n                    {\n                        postId: $scope.post.id,\n                        comment: $scope.commentFormData.comment,\n                    },\n                    function (response) {\n                        $scope.comments.comments.unshift(response.comment);\n                        $scope.hideCommentForm(true);\n                    },\n                    function (response) {\n                        alertError(response.data.message);\n                    }\n                );\n\n            }\n\n        };\n\n    }\n);\n","app.controller(\n    'ForgotController',\n    function ($element, $scope, $rootScope, $state, $stateParams, UserResource) {\n\n        $rootScope.pageTitle = 'Forgotten Login Details';\n        setBg($element, '/assets/img/bg/login.jpg');\n\n        $scope.forgotFormData = {\n            loading: false,\n            email: '',\n            errors: {}\n        };\n\n        $scope.success = false;\n\n        $scope.submit = function () {\n\n            $scope.forgotFormData.loading = true;\n\n            UserResource.forgot(\n                {},\n                {email: $scope.forgotFormData.email},\n                function (response) {\n                    $scope.forgotFormData.loading = false;\n                    $scope.success = true;\n                },\n                function (response) {\n                    $scope.forgotFormData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('email')\n                        )\n                    ) {\n                        $scope.forgotFormData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            );\n\n            return false;\n        };\n    }\n);\n","app.controller(\n    'LoginController',\n    function ($element, $scope, $rootScope, $state, $stateParams, AuthService) {\n\n        $rootScope.pageTitle = 'Login';\n        setBg($element, '/assets/img/bg/login.jpg');\n\n        $scope.loginFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            errors: {}\n        };\n\n        $scope.login = function () {\n\n            $scope.loginFormData.loading = true;\n\n            AuthService\n                .login($scope.loginFormData.username, $scope.loginFormData.password)\n                .then(\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    $state.go('home');\n                },\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    $scope.sortLoginErrors(response);\n                }\n            );\n\n            return false;\n        };\n\n        $scope.sortLoginErrors = function (response) {\n            if (\n                response.messages\n                &&\n                (\n                    response.messages.hasOwnProperty('username')\n                    ||\n                    response.messages.hasOwnProperty('password')\n                )\n            ) {\n                $scope.loginFormData.errors = response.messages;\n            } else {\n\n                $scope.loginFormData.errors = {\n                    general: response.message\n                };\n            }\n        };\n\n        if ($stateParams.loginFormData) {\n            $scope.loginFormData = $stateParams.loginFormData;\n        }\n\n        if ($stateParams.response) {\n            $scope.sortLoginErrors($stateParams.response);\n        }\n    }\n);\n","app.controller(\n    'ResetController',\n    function ($element, $scope, $state, $stateParams, UserResource) {\n\n        $rootScope.pageTitle = 'Reset Password';\n        setBg($element, '/assets/img/bg/login.jpg');\n\n        $scope.resetFormData = {\n            loading: false,\n            token: $stateParams.token,\n            password: '',\n            confirmPassword: '',\n            errors: {}\n        };\n\n        $scope.success = false;\n\n        $scope.submit = function () {\n\n            if ($scope.resetFormData.password != $scope.resetFormData.confirmPassword) {\n                $scope.resetFormData.errors = {\n                    confirmPassword: ['Passwords do not match.']\n                };\n                return false;\n            }\n\n            $scope.resetFormData.loading = true;\n\n            UserResource.reset(\n                {},\n                {\n                    token: $scope.resetFormData.token,\n                    password: $scope.resetFormData.password\n                },\n                function (response) {\n                    $scope.resetFormData.loading = false;\n                    $scope.success = true;\n                },\n                function (response) {\n                    $scope.resetFormData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('password')\n                        )\n                    ) {\n                        $scope.resetFormData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            );\n\n            return false;\n        };\n    }\n);\n","app.controller(\n    'SignupController',\n    function ($element, $scope, $rootScope, $state, AuthService, UserResource) {\n\n        $rootScope.pageTitle = 'Signup';\n        setBg($element, '/assets/img/bg/register.jpg');\n\n        $scope.signupFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            email: '',\n            errors: {}\n        };\n\n        $scope.signup = function () {\n            if ($scope.signupFormData.loading) {\n                return false;\n            }\n            $scope.signupFormData.errors = {};\n            $scope.signupFormData.loading = true;\n\n            UserResource.save({\n                username: $scope.signupFormData.username,\n                password: $scope.signupFormData.password,\n                email: $scope.signupFormData.email,\n            }, function (response) {\n\n                AuthService\n                    .login($scope.signupFormData.username, $scope.signupFormData.password)\n                    .then(\n                    function (response) {\n                        $scope.signupFormData.loading = false;\n                        $state.go('home');\n                    },\n                    function (response) {\n                        $scope.signupFormData.loading = false;\n                        $scope.signupFormData.errors = {\n                            general: response.message\n                        };\n                    }\n                );\n\n            }, function (response) {\n                $scope.signupFormData.loading = false;\n\n                response = response.data;\n                if (\n                    response.messages\n                    &&\n                    (\n                        response.messages.hasOwnProperty('username')\n                        ||\n                        response.messages.hasOwnProperty('password')\n                        ||\n                        response.messages.hasOwnProperty('email')\n                    )\n                ) {\n                    $scope.signupFormData.errors = response.messages;\n                } else {\n\n                    $scope.signupFormData.errors = {\n                        general: response.message\n                    };\n                }\n            });\n        };\n    }\n);\n","app.controller(\n    'PostFormController',\n    function ($scope, PostResource, task, postType, close) {\n\n        $scope.task = task;\n        $scope.postType = postType ? postType : 'tip';\n        $scope.close = close;\n\n        $scope.formData = {\n            title: '',\n            text: '',\n        };\n\n        $scope.setPostType = function ($event, postType) {\n            preventDefault($event);\n\n            $scope.postType = postType === $scope.postType ? '' : postType;\n        };\n\n        $scope.submit = function () {\n            PostResource.saveTaskPost(\n                {\n                    taskSlug: $scope.task.slug,\n                },\n                {\n                    title: $scope.formData.title,\n                    text: $scope.formData.text,\n                    type: $scope.postType\n                },\n                function (response) {\n                    console.log(response);\n                    alertSuccess(\"Post saved\");\n                    close(response.post);\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            );\n        };\n\n    }\n);\n","app.controller(\n    'StickerFormController',\n    function ($scope, CategoryResource, name, close, StickerResource) {\n\n        $scope.categories = CategoryResource.getList();\n\n        $scope.close = close;\n\n        $scope.formData = {\n            name: name,\n            categoryId: null\n        };\n\n        $scope.errors = {};\n\n        $scope.submitting = false;\n\n        $scope.submit = function () {\n\n            if ($scope.submitting) {\n                return false;\n            }\n\n            var errors = false;\n\n            $scope.errors = {};\n\n            if (!$scope.formData.name) {\n                $scope.errors.name = ['Please enter a name.'];\n                errors = true;\n            }\n\n            if (!$scope.formData.categoryId) {\n                $scope.errors.categoryId = ['Please pick a category.'];\n                errors = true;\n            }\n\n            if (errors) {\n                return false;\n            }\n\n            $scope.submitting = true;\n\n            StickerResource.save(\n                $scope.formData,\n                function (response) {\n                    $scope.submitting = false;\n                    console.log(response);\n                    alertSuccess(\"Sticker saved\");\n                    close(response.sticker);\n                },\n                function (response) {\n                    $scope.submitting = false;\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('name')\n                            ||\n                            response.data.messages.hasOwnProperty('categoryId')\n                        )\n                    ) {\n                        $scope.errors = response.data.messages;\n                    } else {\n                        alertError(response.data.message);\n                    }\n                }\n            );\n        }\n\n    }\n);\n","app.controller(\n    'SubmissionFormController',\n    function ($scope, SubmissionResource, task, close, $timeout, AuthService) {\n\n        $scope.task = task;\n        $scope.submissionType = task.submissionType.toLowerCase();\n        $scope.close = close;\n\n        $scope.hasFirstStage = $scope.submissionType === 'image';\n\n        $scope.stage = $scope.hasFirstStage ? 1 : 2;\n        $scope.nextEnabled = $scope.hasFirstStage ? false : true;\n\n        $scope.errors = {};\n\n        $scope.formData = {\n            imageIds: [],\n            title: '',\n            text: '',\n            private: 0,\n            cost: null,\n            time: null,\n            rating: null\n        };\n\n        function getImageIds() {\n            var ids = [];\n            var files = dropzone.getFilesWithStatus('success');\n            for (var i = 0; i < files.length; i++) {\n                var file = files[i];\n                var response = JSON.parse(file.xhr.response);\n                if (response && response.hasOwnProperty('image')) {\n                    ids.push(response.image.id);\n                }\n            }\n            return ids;\n        }\n\n        var dropzone;\n\n        if ($scope.submissionType === 'image') {\n            $timeout(function () {\n                dropzone = new Dropzone(\"#post-file\", {\n                    acceptedFiles: \"image/*\",\n                    addRemoveLinks: true,\n                    url: '/api/images?sessionToken=' + AuthService.getSessionToken(),\n                    clickable: '.dropzone-btn',\n                    thumbnailWidth: 96,\n                });\n\n                dropzone.on('sending', function () {\n                    $scope.nextEnabled = false;\n                    $scope.$apply();\n                });\n\n                dropzone.on('complete', function () {\n                    console.log('getFilesWithStatus', dropzone.getFilesWithStatus('success'));\n                    $scope.nextEnabled = dropzone.getFilesWithStatus('success').length > 0;\n                    $scope.$apply();\n                });\n\n                dropzone.on('removedfile', function () {\n                    $scope.nextEnabled = dropzone.getFilesWithStatus('success').length > 0;\n                    $scope.$apply();\n                });\n\n            }, 10);\n        }\n\n        $scope.toStage = function (stage) {\n            //if (stage > $scope.stage) {\n            //    return false;\n            //}\n            $scope.stage = stage;\n        };\n\n        $scope.nextStage = function () {\n\n            switch ($scope.stage) {\n                case 1:\n                    if ($scope.submissionType === 'image') {\n                        dropzone.processQueue();\n                        $scope.formData.imageIds = getImageIds();\n                    }\n                    break;\n\n                case 2:\n\n                    break;\n            }\n\n            $scope.stage++;\n        };\n\n        $scope.setPrivate = function ($event, val) {\n            preventDefault($event);\n\n            $scope.formData.private = val;\n        };\n\n        $scope.submitting = false;\n\n        $scope.submit = function () {\n\n            if ($scope.submitting) {\n                return false;\n            }\n\n            var errors = false;\n\n            $scope.errors = {};\n\n            if (!$scope.formData.title) {\n                $scope.errors.title = ['Please enter a title.'];\n                $scope.stage = 2;\n                errors = true;\n            }\n\n            if (!$scope.formData.text) {\n                $scope.errors.text = ['Please enter some content.'];\n                $scope.stage = 2;\n                errors = true;\n            }\n\n            if (errors) {\n                return false;\n            }\n\n            $scope.submitting = true;\n\n            SubmissionResource.save(\n                {\n                    taskSlug: $scope.task.slug,\n                },\n                $scope.formData,\n                function (response) {\n                    $scope.submitting = false;\n                    console.log(response);\n                    alertSuccess(\"Submission saved\");\n                },\n                function (response) {\n\n                    $scope.submitting = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('title')\n                            ||\n                            response.data.messages.hasOwnProperty('text')\n                        )\n                    ) {\n                        $scope.errors = response.data.messages;\n                    } else {\n                        alertError(response.data.message);\n                    }\n\n                }\n            );\n\n        };\n\n    }\n);\n","app.controller(\n    'TaskFormController',\n    function ($scope, sticker, close, TaskResource) {\n\n        $scope.close = close;\n\n        $scope.formData = {\n            stickerId: sticker.id,\n            name: '',\n            submission: '',\n            submissionType: 'IMAGE'\n        };\n\n        $scope.errors = {};\n\n        $scope.submissionTypes = [\n            {\n                value: 'IMAGE',\n                icon: 'camera',\n                label: 'Take A Picture'\n            },\n            {\n                value: 'TEXT',\n                icon: 'pencil',\n                label: 'Write Something'\n            }\n        ];\n\n        $scope.submitting = false;\n\n        $scope.submit = function () {\n\n            if ($scope.submitting) {\n                return false;\n            }\n\n            var errors = false;\n\n            $scope.errors = {};\n\n            if (!$scope.formData.name) {\n                $scope.errors.name = ['Please enter a name.'];\n                errors = true;\n            }\n\n            if (!$scope.formData.submission) {\n                $scope.errors.submission = ['Please fill this out.'];\n                errors = true;\n            }\n\n            if (errors) {\n                return false;\n            }\n\n            $scope.submitting = true;\n\n\n            TaskResource.save(\n                $scope.formData,\n                function (response) {\n                    $scope.submitting = false;\n                    alertSuccess(\"Task saved\");\n                    close(response.task);\n                },\n                function (response) {\n                    $scope.submitting = false;\n                    $scope.submitting = false;\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('name')\n                            ||\n                            response.data.messages.hasOwnProperty('submission')\n                        )\n                    ) {\n                        $scope.errors = response.data.messages;\n                    } else {\n                        alertError(response.data.message);\n                    }\n                }\n            );\n        }\n\n    }\n);\n","app.controller(\n    'CommentFormController',\n    function ($scope, $rootScope, $state, $stateParams, CommentResource) {\n\n        console.log('commentformcontroller', $scope);\n\n        $scope.task = $scope.$parent.task;\n\n    }\n);\n","app.controller(\n    'EventsController',\n    function ($scope, $state, EventLogResource) {\n\n        $scope.likeEvent = function ($event, event) {\n            preventDefault($event);\n\n            event.liked = event.liked ? false : true;\n            event.likeClicked = true;\n\n            if (event.liked) {\n                EventLogResource.likeEvent({id: event.id});\n                event.likeCount = parseInt(event.likeCount) + 1;\n            } else {\n                EventLogResource.unlikeEvent({id: event.id});\n                event.likeCount = parseInt(event.likeCount) - 1;\n            }\n        };\n\n    }\n);\n","app.controller(\n    'HeaderController',\n    function ($scope, $rootScope, $state, ModalService, AuthService) {\n\n        $scope.loginFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            errors: {}\n        };\n\n        $scope.login = function () {\n\n            $scope.loginFormData.loading = true;\n            console.log($scope);\n\n            AuthService\n                .login($scope.loginFormData.username, $scope.loginFormData.password)\n                .then(\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                },\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    console.log('passing to login', {loginFormData: $scope.loginFormData, response: response});\n                    $state.go('login', {loginFormData: $scope.loginFormData, response: response});\n                }\n            );\n\n            return false;\n        };\n\n        $scope.logout = function () {\n            AuthService.logout();\n        };\n\n        $scope.back = function () {\n            window.history.go(-1);\n        };\n\n        $scope.toggleNotifications = function ($event) {\n            preventDefault($event);\n            $rootScope.notificationsOpen = !$rootScope.notificationsOpen;\n        };\n\n    }\n);\n","app.controller(\n    'PostsController',\n    function ($scope, $state, PostResource) {\n\n        console.log('PostsController', $scope);\n\n        $scope.likePost = function ($event, post) {\n            preventDefault($event);\n\n            post.liked = post.liked ? false : true;\n            post.likeClicked = true;\n\n            if (post.liked) {\n                PostResource.likePost({id: post.id});\n                post.likeCount = parseInt(post.likeCount) + 1;\n            } else {\n                PostResource.unlikePost({id: post.id});\n                post.likeCount = parseInt(post.likeCount) - 1;\n            }\n        };\n\n        $scope.goToPost = function ($event, post) {\n            /*try {\n             if ($scope.$parent.$parent.hasOwnProperty('post')) {\n             preventDefault($event);\n             $scope.$parent.$parent.post = post;\n             }\n             } catch (e) {\n             console.log(e);\n             }*/\n        };\n\n    }\n);\n","app.controller(\n    'UserPlannerController',\n    function ($element, $scope, $rootScope, $state, $stateParams, UserResource, ToDoResource, ProgressService) {\n\n        $rootScope.loading = true;\n\n        setBg($element, '/assets/img/bg/planner.jpg');\n\n        $scope.stickers = [];\n        $scope.submissions = [];\n\n        $scope.showPostTasks = true;\n        $scope.showPostUser = false;\n        $scope.showPostApproval = true;\n        $scope.posts = [];\n\n        $scope.user = null;\n        $scope.username = $stateParams.username;\n\n        ToDoResource.query({username: $scope.username},\n            function (result) {\n                $scope.user = result.user;\n                $scope.stickers = result.stickers;\n                $rootScope.pageTitle = result.user.possessiveName + ' Planner';\n\n                for (var i in result.stickers) {\n                    if (result.stickers.hasOwnProperty(i)) {\n                        result.stickers[i].progress = ProgressService.getProgress(result.stickers[i]);\n                    }\n                }\n\n                UserResource.getPosts(\n                    {\n                        username: $scope.username,\n                        type: 'submission'\n                    },\n                    function (response) {\n                        $scope.posts = response;\n                    }\n                );\n            }\n        );\n    }\n);\n","app.controller(\n    'UserProfileController',\n    function ($scope, $rootScope, $state, $stateParams, AuthService, UserResource, ToDoResource) {\n\n        $rootScope.loading = true;\n\n        $scope.username = $stateParams.username;\n\n        $scope.user = null;\n        $scope.stickers = null;\n        $scope.todo = null;\n        $scope.posts = null;\n        UserResource.get(\n            {username: $scope.username},\n            function (user) {\n                $scope.user = user;\n\n                $rootScope.pageTitle = user.username;\n\n                $scope.stickers = UserResource.getStickers({username: $scope.username});\n                $scope.posts = UserResource.getPosts({username: $scope.username});\n\n                ToDoResource.query({username: $scope.username},\n                    function (result) {\n                        $scope.todo = result.tasks\n                    }\n                );\n\n            }\n        );\n    }\n);\n","app.controller(\n    'UserStickersController',\n    function ($scope, $rootScope, $state, $stateParams, UserResource) {\n\n        $rootScope.loading = true;\n\n        $scope.user = null;\n        $scope.username = $stateParams.username;\n        $scope.stickers = [];\n\n        UserResource.getStickers({username: $scope.username},\n            function (result) {\n                $scope.user = result.user;\n                $scope.stickers = result.stickers;\n\n                $rootScope.pageTitle = result.user.possessiveName + ' Stickers';\n            }\n        );\n    }\n);\n","(function (angular, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['angular', 'ckeditor'], function (angular) {\n            return factory(angular);\n        });\n    } else {\n        return factory(angular);\n    }\n}(angular || null, function (angular) {\n\n    var app = angular.module('ngCkeditor', []);\n    var $defer, loaded = false;\n\n    app.run(['$q', '$timeout', function ($q, $timeout) {\n        $defer = $q.defer();\n\n        if (angular.isUndefined(CKEDITOR)) {\n            throw new Error('CKEDITOR not found');\n        }\n\n        CKEDITOR.disableAutoInline = true;\n\n        function checkLoaded() {\n            if (CKEDITOR.status == 'loaded') {\n\n                var localPlugins = [\n                    'uploadimage',\n                    'uploadwidget',\n                    'widget',\n                    'filetools',\n                    'notificationaggregator',\n                    'lineutils',\n                    'notification'\n                ];\n                for (var i = 0; i < localPlugins.length; i++) {\n                    CKEDITOR.plugins.addExternal(localPlugins[i],\n                        '/assets/bower_components/ckeditor/plugins/' + localPlugins[i] + '/');\n                }\n                CKEDITOR.plugins.addExternal('markdown', '/assets/bower_components/ckeditor-markdown-plugin/markdown/');\n                CKEDITOR.plugins.addExternal('imagebutton', '/assets/bower_components/ckeditor-image-button/');\n\n                loaded = true;\n                $defer.resolve();\n            } else {\n                checkLoaded();\n            }\n        }\n\n        CKEDITOR.on('loaded', checkLoaded);\n\n        /**\n         * Make link dialog nicer\n         */\n        CKEDITOR.on('dialogDefinition', function (e) {\n            // NOTE: this is an instance of CKEDITOR.dialog.definitionObject\n            var dd = e.data.definition;\n\n            if (e.data.name === 'link') {\n                dd.minHeight = 30;\n\n                // remove the unwanted tabs\n                dd.removeContents('advanced');\n                dd.removeContents('target');\n                dd.removeContents('upload');\n\n                // remove all elements from the 'info' tab\n                var tabInfo = dd.getContents('info');\n                while (tabInfo.elements.length > 0) {\n                    tabInfo.remove(tabInfo.elements[0].id);\n                }\n\n                // add a simple URL text field\n                tabInfo.add({\n                    type: 'text',\n                    id: 'urlNew',\n                    label: 'URL',\n                    setup: function (data) {\n                        var value = '';\n                        if (data.url) {\n                            if (data.url.protocol) {\n                                value += data.url.protocol;\n                            }\n                            if (data.url.url) {\n                                value += data.url.url;\n                            }\n                        } else if (data.email && data.email.address) {\n                            value = 'mailto:' + data.email.address;\n                        }\n                        this.setValue(value);\n                    },\n                    commit: function (data) {\n                        data.url = {protocol: '', url: this.getValue()};\n                    }\n                });\n            }\n        });\n\n        $timeout(checkLoaded, 100);\n    }]);\n\n    app.directive('ckeditor', ['$timeout', '$q', function ($timeout, $q) {\n        'use strict';\n\n        return {\n            restrict: 'AC',\n            require: ['ngModel', '^?form'],\n            scope: false,\n            link: function (scope, element, attrs, ctrls) {\n                var ngModel = ctrls[0];\n                var form = ctrls[1] || null;\n                var EMPTY_HTML = '<p></p>',\n                    isTextarea = element[0].tagName.toLowerCase() == 'textarea',\n                    data = [],\n                    isReady = false;\n\n                if (!isTextarea) {\n                    element.attr('contenteditable', true);\n                }\n\n                var onLoad = function () {\n                    var options = {\n                        contentsCss: [\n                            'https://fonts.googleapis.com/css?family=Roboto+Slab|Roboto:300|Rancho',\n                            '/assets/build/' + assetVersion + '/css/stickable.min.css',\n                        ],\n                        extraPlugins: 'uploadimage,markdown,imagebutton', //uploadimage,markdown', //simpleuploads',\n                        disableObjectResizing: true,\n                        linkShowAdvancedTab: false,\n                        linkShowTargetTab: false,\n                        selectMultiple: true,\n                        imageUploadUrl: '/api/images',\n                        removePlugins: 'elementspath,magicline,contextmenu,liststyle,tabletools',\n                        resize_enabled: false,\n                        height: 300,\n                        width: '100%',\n                        toolbar: [\n                            {items: ['Bold', 'Italic', 'Strike', 'Underline']},\n                            {items: ['BulletedList', 'NumberedList']},\n                            {items: ['Link', 'Image', 'imagebutton']},\n                            {items: ['Markdown']}\n                        ],\n                        disableNativeSpellChecker: false,\n                        uiColor: '#FAFAFA',\n                    };\n                    if (attrs.ckeditor) {\n                        options = angular.extend(options, scope[attrs.ckeditor]);\n                    }\n\n                    var instance = (isTextarea)\n                            ? CKEDITOR.replace(element[0], options)\n                            : CKEDITOR.inline(element[0], options),\n                        configLoaderDef = $q.defer();\n\n                    element.bind('$destroy', function () {\n                        console.log('destroy');\n\n                        instance.removeAllListeners();\n                        CKEDITOR.remove(instance);\n\n                        /*instance.destroy(\n                         false //If the instance is replacing a DOM element, this parameter indicates whether or not to update the element with the instance contents.\n                         );*/\n                    });\n\n                    var setModelData = function (setPristine) {\n                        var data = instance.getData();\n                        data = data ? toMarkdown(data) : null;\n\n                        $timeout(function () { // for key up event\n                            (setPristine !== true || data != ngModel.$viewValue) && ngModel.$setViewValue(data);\n                            (setPristine === true && form) && form.$setPristine();\n                        }, 0);\n                    };\n\n                    var onUpdateModelData = function (setPristine) {\n                        if (!data.length) {\n                            return;\n                        }\n\n                        var item = data.pop() || EMPTY_HTML;\n                        isReady = false;\n                        instance.setData(item, function () {\n                            setModelData(setPristine);\n                            isReady = true;\n                        });\n                    };\n\n                    //instance.on('pasteState',   setModelData);\n                    instance.on('change', setModelData);\n                    instance.on('blur', setModelData);\n                    //instance.on('key', setModelData); // for source view\n\n                    instance.on('instanceReady', function () {\n                        scope.$broadcast(\"ckeditor.ready\");\n                        scope.$apply(function () {\n                            onUpdateModelData(true);\n                        });\n\n                        instance.document.on(\"keyup\", setModelData);\n                    });\n\n                    instance.on('customConfigLoaded', function () {\n                        configLoaderDef.resolve();\n                    });\n\n                    ngModel.$render = function () {\n                        data.push(ngModel.$viewValue);\n                        if (isReady) {\n                            onUpdateModelData();\n                        }\n                    };\n                };\n\n                if (CKEDITOR.status == 'loaded') {\n                    loaded = true;\n                }\n\n                if (loaded) {\n                    onLoad();\n                } else {\n                    $defer.promise.then(onLoad);\n                }\n            }\n        };\n    }]);\n\n    return app;\n}));\n","/**\n * An AngularJS directive for Dropzone.js, http://www.dropzonejs.com/\n *\n * Usage:\n *\n * <div ng-app=\"app\" ng-controller=\"SomeCtrl\">\n *   <button dropzone=\"dropzoneConfig\">\n *     Drag and drop files here or click to upload\n *   </button>\n * </div>\n */\n\napp.directive('dropzone', function () {\n    return function (scope, element, attrs) {\n        var config, dropzone;\n\n        config = scope[attrs.dropzone];\n\n        // create a Dropzone for the element with the given options\n        dropzone = new Dropzone(element[0], config.options);\n\n        // bind the given event handlers\n        angular.forEach(config.eventHandlers, function (handler, event) {\n            dropzone.on(event, handler);\n        });\n    };\n});\n","(function () {\n    \"use strict\";\n\n    angular.module('masonry', ['ng']).directive('masonry', function ($timeout) {\n        return {\n            restrict: 'AC',\n            link: function (scope, elem, attrs) {\n                var container = elem[0];\n                var options = angular.extend({\n                    itemSelector: '.item'\n                }, angular.fromJson(attrs.masonry));\n\n                var masonry = scope.masonry = new Masonry(container, options);\n\n                var debounceTimeout = 0;\n                scope.update = function () {\n                    if (debounceTimeout) {\n                        $timeout.cancel(debounceTimeout);\n                    }\n                    debounceTimeout = $timeout(function () {\n                        debounceTimeout = 0;\n\n                        masonry.reloadItems();\n                        masonry.layout();\n                        elem.find('*[masonry-image]').css('visibility', 'visible');\n                    }, 120);\n                };\n\n                scope.removeBrick = function () {\n                    $timeout(function () {\n                        masonry.reloadItems();\n                        masonry.layout();\n                    }, 500);\n                };\n\n                scope.appendBricks = function (ele) {\n                    masonry.appended(ele);\n                };\n\n                scope.$on('masonry.layout', function () {\n                    masonry.layout();\n                });\n\n                scope.update();\n            }\n        };\n    }).directive('masonryImage', function () {\n        return {\n            restrict: 'AC',\n            link: function (scope, elem) {\n                elem.css('visibility', 'hidden');\n                var master = elem.closest('*[masonry]').scope(),\n                    update = master.update,\n                    removeBrick = master.removeBrick,\n                    appendBricks = master.appendBricks;\n                if (update) {\n                    imagesLoaded(elem.get(0), update);\n                    elem.ready(update);\n                }\n                if (appendBricks) {\n                    imagesLoaded(elem.get(0), appendBricks(elem));\n                }\n                scope.$on('$destroy', function () {\n                    if (removeBrick) {\n                        removeBrick();\n                    }\n                });\n            }\n        };\n    });\n})();\n","app.directive('stComments', function factory() {\n    return {\n        restrict: 'E',\n        scope: {\n            comments: '=',\n            showCommentForm: '='\n        },\n        controller: function ($scope, CommentResource) {\n\n            $scope.likeComment = function ($event, comment) {\n                preventDefault($event);\n\n                comment.liked = comment.liked ? false : true;\n                comment.likeClicked = true;\n\n                if (comment.liked) {\n                    CommentResource.likeComment({commentId: comment.id});\n                    comment.likeCount = parseInt(comment.likeCount) + 1;\n                } else {\n                    CommentResource.unlikeComment({commentId: comment.id});\n                    comment.likeCount = parseInt(comment.likeCount) - 1;\n                }\n            };\n\n            $scope.loadCommentReplies = function ($event, comment) {\n                preventDefault($event);\n                CommentResource.getCommentReplies(\n                    {\n                        'commentId': comment.id\n                    },\n                    function (response) {\n                        comment.replies = response.comments\n                    },\n                    function (response) {\n                        alertError(response.data.message);\n                    }\n                )\n            };\n\n            $scope.deleteComment = function ($event, index, comment) {\n                preventDefault($event);\n                if (confirm('Are you sure you want to delete this comment?')) {\n                    CommentResource.delete({commentId: comment.id});\n                    $scope.comments.splice(index, 1);\n                }\n            };\n\n        },\n        template: function ($scope) {\n            return '<div class=\"comment-include\" ng-repeat=\"(index, comment) in comments\" ng-include=\"\\'views/partials/comment.html\\'\"></div>';\n        }\n    };\n});\n","app.directive('stNotifications', function () {\n    return {\n        templateUrl: 'views/directives/st-notifications.html',\n        //replace: true,\n        scope: {\n            notifications: '=',\n            toggle: '='\n        },\n        controller: function ($scope, $rootScope, $state, UserNotificationsResource) {\n\n            $scope.clear = function ($event, index) {\n                preventDefault($event);\n                var notification = $scope.notifications[index];\n                $scope.notifications.splice(index, 1);\n                if ($scope.notifications.length < 1) {\n                    $rootScope.notificationsOpen = false;\n                }\n                console.log('$scope.notifications',\n                    $scope.notifications,\n                    $scope.notifications.length,\n                    $rootScope.notificationsOpen);\n                UserNotificationsResource.delete({username: $rootScope.currentUser.username, id: notification.id});\n            };\n\n            $scope.goTo = function ($event, index) {\n                preventDefault($event);\n                var notification = $scope.notifications[index];\n\n                $scope.clear($event, index);\n                $scope.toggle($event);\n\n                switch (notification.destination.type) {\n                    case 'comment':\n                        $state.go('post', {\n                            slug: notification.destination.task.slug,\n                            postSlug: notification.destination.post.slug,\n                            commentId: notification.commentId\n                        });\n                        break;\n\n                    case 'post':\n                        $state.go('post', {\n                            slug: notification.destination.task.slug,\n                            postSlug: notification.destination.post.slug\n                        });\n                        break;\n\n                    case 'task':\n                        $state.go('task', {slug: notification.destination.task.slug});\n                        break;\n\n                    case 'sticker':\n                        $state.go('sticker', {slug: notification.destination.sticker.slug});\n                        break;\n                }\n            };\n        }\n    }\n});\n","app.directive('stProgress', function factory() {\n    return {\n        restrict: 'E',\n        scope: {\n            progress: '='\n        },\n        templateUrl: 'views/directives/st-progress.html'\n    };\n});\n","app.directive('stRating', function factory() {\n    return {\n        restrict: 'E',\n        controller: function ($scope) {\n            $scope.setValue = function (val) {\n                $scope.model = val;\n            }\n        },\n        scope: {\n            model: '=',\n            values: '='\n        },\n        template: function () {\n            var t = '<ul class=\"rating\">';\n            for (var i = 5; i > 0; i--) {\n                t += '<li ng-class=\"{\\'active\\': model === ' + i + '}\" ng-click=\"setValue(' + i + ')\">{{ values[' + (i - 1) + '] }}</li>';\n            }\n            t += '</ul>';\n            return t;\n        }\n    };\n});\n","app.directive('stSticker', function factory() {\n    return {\n        restrict: 'E',\n\n        link: function ($scope, $element) {\n\n            function getInitials(string) {\n                return string.match(/\\b\\w/g).join('')\n            }\n\n            $scope.$watch(\"sticker\", function (newSticker) {\n\n                if (newSticker) {\n                    $element.children('div').remove();\n\n                    if (newSticker.design && newSticker.design.imageUrl) {\n                        $element.html('<span class=\"sticker\" data-sticker-img=\"' + newSticker.design.imageUrl + '\"></span>');\n                        Sticker.init($element.children('.sticker')[0]);\n                    } else {\n\n                        var initials = getInitials(newSticker.name);\n                        $element.html('<span class=\"sticker sticker-initials\"><span>' + initials + '</span></span>');\n                    }\n                }\n\n            });\n\n        },\n\n        scope: {\n            sticker: '=',\n        }\n    };\n});\n","app.directive('stTabs', function factory() {\n    return {\n        restrict: 'E',\n        controller: function ($scope) {\n            $scope.onChange = function ($event, value) {\n                preventDefault($event);\n                $scope.model = value;\n            }\n        },\n        scope: {\n            model: '=',\n            values: '='\n        },\n        templateUrl: 'views/directives/st-tabs.html',\n    };\n});\n","app.directive('stUsers', function factory() {\n    return {\n        restrict: 'E',\n        scope: {\n            data: '=',\n            like: '='\n        },\n        templateUrl: 'views/directives/st-users.html'\n    };\n});\n","'use strict';\n\nangular.module('markdown', [])\n    .filter(\n    'markdown',\n    function () {\n        return function (text) {\n            return marked(text || '');\n        };\n    }\n);\n","app.filter('plural', function () {\n    return function (word, count) {\n        // TODO: localization. Also breaks for some English like 'category'\n        return count === 1 ? word : word + 's';\n    }\n});\n","app.filter('range', function () {\n    return function (val, range) {\n        range = parseInt(range);\n        for (var i = 0; i < range; i++)\n            val.push(i);\n        return val;\n    };\n});\n","app.filter('suppressZero', function () {\n    return function (value) {\n        if (parseInt(value)) {\n            return value;\n        }\n    }\n});\n","// Came from the comments here:  https://gist.github.com/maruf-nc/5625869\napp.filter('titlecase', function () {\n    return function (input) {\n        if (!input) {\n            return '';\n        }\n        var smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\\.?|via)$/i;\n\n        input = input.toLowerCase();\n        return input.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, function (match, index, title) {\n            if (index > 0 && index + match.length !== title.length &&\n                match.search(smallWords) > -1 && title.charAt(index - 2) !== \":\" &&\n                (title.charAt(index + match.length) !== '-' || title.charAt(index - 1) === '-') &&\n                title.charAt(index - 1).search(/[^\\s-]/) < 0) {\n                return match.toLowerCase();\n            }\n\n            if (match.substr(1).search(/[A-Z]|\\../) > -1) {\n                return match;\n            }\n\n            return match.charAt(0).toUpperCase() + match.substr(1);\n        });\n    }\n});\n","/**\n * Shuffles the items in an array.\n * Source: http://stackoverflow.com/a/10142256/710630\n *\n * @returns {Array}\n */\nArray.prototype.shuffle = function () {\n    var i = this.length, j, temp;\n    if (i === 0) {\n        return this;\n    }\n    while (--i) {\n        j = Math.floor(Math.random() * ( i + 1 ));\n        temp = this[i];\n        this[i] = this[j];\n        this[j] = temp;\n    }\n    return this;\n};\n","/**\n * Source: http://stackoverflow.com/a/1026087/710630\n * @returns {string}\n */\nString.prototype.capitalizeFirstLetter = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1).toLowerCase();\n};\n","app.factory(\n    'CategoryResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'categories/:slug',\n            {\n                slug: '@slug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.category;\n                    }\n                },\n\n                getList: {\n                    cache: true,\n                    url: apiUrl + 'categories/list',\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.categories;\n                    }\n                },\n\n                query: {\n                    cache: true,\n                    isArray: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.categories;\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'CommentResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'comments/:commentId',\n            {\n                commentId: '@commentId',\n                postId: '@postId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                save: {\n                    method: 'POST',\n                    url: apiUrl + 'posts/:postId/comments',\n                },\n\n                saveReply: {\n                    method: 'POST',\n                    url: apiUrl + 'comments/:commentId/replies',\n                },\n\n                getPostsComments: {\n                    method: 'GET',\n                    url: apiUrl + 'posts/:postId/comments',\n                    //isArray: true\n                },\n\n                getCommentReplies: {\n                    method: 'GET',\n                    url: apiUrl + 'comments/:commentId/replies',\n                    //isArray: true\n                },\n\n                getLikes: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method: 'GET'\n                },\n\n                likeComment: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method: 'POST'\n                },\n\n                unlikeComment: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method: 'DELETE'\n                }\n\n            }\n        );\n    }\n);\n","app.factory(\n    'EventLogResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'event-logs',\n            {\n                id: '@id',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    isArray: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.events;\n                    }\n                },\n\n                likeEvent: {\n                    url: apiUrl + 'event-logs/:id/likes',\n                    method: 'POST'\n                },\n\n                unlikeEvent: {\n                    url: apiUrl + 'event-logs/:id/likes',\n                    method: 'DELETE'\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'PostResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'posts/:id',\n            {\n                id: '@id',\n                postSlug: '@postSlug',\n                taskSlug: '@taskSlug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                /**\n                 * Get recent submission posts (for homepage)\n                 */\n                query: {},\n\n                getTaskPosts: {\n                    method: 'GET',\n                    url: apiUrl + 'tasks/:taskSlug/posts',\n                },\n\n                saveTaskPost: {\n                    method: 'POST',\n                    url: apiUrl + 'tasks/:taskSlug/posts',\n                },\n\n                /**\n                 * Get a single post\n                 */\n                get: {\n                    url: apiUrl + 'posts/:postSlug',\n                    cache: true,\n                    /*transformResponse: function (data) {\n                     data = angular.fromJson(data);\n                     return data.post;\n                     }*/\n                },\n\n                likePost: {\n                    url: apiUrl + 'posts/:id/likes',\n                    method: 'POST'\n                },\n\n                unlikePost: {\n                    url: apiUrl + 'posts/:id/likes',\n                    method: 'DELETE'\n                }\n\n            }\n        );\n    }\n);\n","app.factory(\n    'SessionResource',\n    function ($resource) {\n        return $resource(\n            apiUrl + 'sessions',\n            {\n                sessionToken: '@sessionToken',\n            },\n            {\n                get: {\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.session;\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'StickerResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'stickers/:slug',\n            {\n                slug: '@slug',\n                earntId: '@earntId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    //cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.sticker;\n                    }\n                },\n\n                search: {\n                    cache: true,\n                    isArray: true,\n                    url: apiUrl + 'stickers/search',\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.results;\n                    }\n                },\n\n                getDoers: {\n                    method: 'GET',\n                    url: apiUrl + 'stickers/:slug/doers'\n                },\n\n                getEarners: {\n                    method: 'GET',\n                    url: apiUrl + 'stickers/:slug/earners'\n                },\n\n                likeEarner: {\n                    method: 'POST',\n                    url: apiUrl + 'stickers/:slug/earners/:earntId/likes'\n                },\n\n                unlikeEarner: {\n                    method: 'DELETE',\n                    url: apiUrl + 'stickers/:slug/earners/:earntId/likes'\n                }\n\n            }\n        );\n    }\n);\n","app.factory(\n    'SubmissionResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'submissions/:submissionId',\n            {\n                submissionId: '@submissionId',\n                taskSlug: '@taskSlug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                save: {\n                    method: 'POST',\n                    url: apiUrl + 'tasks/:taskSlug/submissions'\n                },\n            }\n        );\n    }\n);\n","app.factory(\n    'TaskResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'tasks/:slug',\n            {\n                slug: '@slug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    isArray: false,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.task;\n                    }\n                },\n\n                get: {\n                    cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.task;\n                    }\n                },\n\n                getDoers: {\n                    method: 'GET',\n                    url: apiUrl + 'tasks/:slug/doers'\n                },\n            }\n        );\n    }\n);\n","app.factory(\n    'ToDoResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users/:username/todo',\n            {\n                username: '@username',\n                slug: '@slug',\n                taskId: '@taskId',\n                stickerId: '@stickerId',\n                toDoId: '@toDoId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    method: 'GET',\n                    /*transformResponse: function(data) {\n                     var data = angular.fromJson(data);\n                     return data.user;\n                     }*/\n                },\n\n                delete: {\n                    method: 'DELETE',\n                    url: apiUrl + 'users/:username/todo'\n                },\n\n                getLikes: {\n                    method: 'GET',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                },\n\n                likeDoer: {\n                    method: 'POST',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                },\n\n                unlikeDoer: {\n                    method: 'DELETE',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'UserNotificationsResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users/:username/notifications/:id',\n            {\n                username: '@username',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    method: 'GET',\n                    isArray: true,\n                    transformResponse: function (data) {\n                        var data = angular.fromJson(data);\n                        return data.notifications\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'UserResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users',\n            {\n                username: '@username',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    url: apiUrl + 'users/:username',\n                    cache: true,\n                    transformResponse: function (data) {\n                        var data = angular.fromJson(data);\n                        return data.user;\n                    }\n                },\n\n                update: {\n                    method: 'PUT',\n                    url: apiUrl + 'users/:username'\n                },\n\n                generateAvatar: {\n                    method: 'POST',\n                    url: apiUrl + 'users/:username/generate-avatar'\n                },\n\n                save: {\n                    method: 'POST',\n                },\n\n                forgot: {\n                    method: 'POST',\n                    url: apiUrl + 'users/forgot'\n                },\n\n                reset: {\n                    method: 'POST',\n                    url: apiUrl + 'users/reset'\n                },\n\n                getStickers: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/stickers'\n                },\n\n                getPosts: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/posts'\n                },\n\n                getSubmissions: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/submissions'\n                }\n            }\n        );\n    }\n);\n","app.service(\n    'AuthService',\n    function (localStorageService, SessionResource, $q, $rootScope) {\n\n        var session = null;\n        var sessionToken = null;\n\n        return {\n\n            checkSession: function () {\n                var self = this;\n\n                if (sessionToken = localStorageService.get('sessionToken')) {\n                    SessionResource.get(\n                        {sessionToken: sessionToken},\n                        function (session) {\n                            self.onLogin(session, sessionToken);\n                        },\n                        function (response) {\n                            if (response.status === 400) {\n                                self.onLogout();\n                            } else {\n                                alertError(\"There was an error logging in to Stickable. Please refresh to try again.\");\n                            }\n                        }\n                    );\n                } else {\n                    self.onLogout();\n                }\n            },\n\n            /**\n             * @param username\n             * @param password\n             * @returns $q\n             */\n            login: function (username, password) {\n                var self = this;\n\n                return $q(function (resolve, reject) {\n\n                    SessionResource.save({\n                        username: username,\n                        password: password\n                    }, function (response) {\n\n                        self.onLogin(response.session, response.sessionToken);\n\n                        // Resolve promise (sends back user)\n                        resolve(response.session.user);\n\n                    }, function (response) {\n                        reject(response.data);\n                    });\n\n                });\n            },\n\n            onLogin: function (newSession, newSessionToken) {\n\n                session = newSession;\n                sessionToken = newSessionToken;\n                localStorageService.set('sessionToken', newSessionToken);\n\n                console.log('onLogin', newSession);\n\n                // Tell everybody we're logged in\n                $rootScope.$broadcast('login', {user: newSession.user, token: newSessionToken});\n            },\n\n            logout: function () {\n                var self = this;\n\n                SessionResource.delete({\n                    sessionToken: sessionToken\n                });\n\n                self.onLogout();\n\n            },\n\n            onLogout: function () {\n\n                session = false;\n                sessionToken = false;\n                localStorageService.remove('sessionToken');\n\n                // Tell everybody we're logged in\n                $rootScope.$broadcast('logout');\n\n            },\n\n            getSessionToken: function () {\n                return sessionToken;\n            },\n\n            getUser: function () {\n                if (session === null) {\n                    return null;\n                }\n\n                return session && session.user ? session.user : false;\n            }\n        };\n    }\n);\n","app.service(\n    'NotificationService',\n    function ($rootScope, $timeout, AuthService, UserNotificationsResource) {\n\n        console.log('NotificationService');\n\n        var socket = null;\n        var connected = false;\n\n        return {\n\n            getNotifications: function (user) {\n                // Fetch notifications\n                $rootScope.notifications = UserNotificationsResource.query({username: user.username});\n            },\n\n            onLogin: function (user) {\n                this.getNotifications(user);\n\n                this.initSocket();\n            },\n\n            initSocket: function () {\n                var self = this;\n\n                if (socket !== null) {\n                    if (connected) {\n                        // Already connected, so the connect event isn't going to fire again to set the user\n                        self.setUser();\n                    }\n                    return socket;\n                }\n\n                socket = io(socketUrl);\n\n                socket.on('connect', function () {\n                    connected = true;\n                    self.setUser();\n                });\n\n                socket.on('new-notification', function (message) {\n                    self.addNewNotification(message.notification);\n                });\n\n                return socket;\n            },\n\n            setUser: function () {\n                socket.emit('set-user', {token: AuthService.getSessionToken()});\n            },\n\n            addNewNotification: function (notification) {\n                notification.new = true;\n                $rootScope.notifications.unshift(notification);\n                $rootScope.notificationsPreview += 1;\n                $rootScope.$digest();\n                //alertSuccess(message.notification.text);\n\n                $timeout(function () {\n                    notification.new = false;\n                    $rootScope.notificationsPreview -= 1;\n                }, 3000);\n            }\n        }\n    }\n);\n","app.service(\n    'ProgressService',\n    function () {\n\n        return {\n            /**\n             *\n             * @param {Object} sticker\n             */\n            getProgress: function (sticker) {\n\n                var progress = {\n                    completed: 0,\n                    completedIds: [],\n                    pending: 0,\n                    pendingIds: [],\n                    rejected: 0,\n                    rejectedIds: [],\n                    remaining: 0,\n                    percent: 0\n                };\n\n                var taskIds = [];\n\n                progress.completed = sticker.progress.completed.length;\n\n                for (var i = 0; i < sticker.progress.completed.length; i++) {\n                    var taskId = sticker.progress.completed[i].id;\n                    progress.completedIds.push(taskId);\n                    taskIds.push(taskId);\n                }\n\n                for (var i = 0; i < sticker.progress.pending.length; i++) {\n                    var taskId = sticker.progress.pending[i].id;\n                    if (taskIds.indexOf(taskId) === -1) {\n                        progress.pendingIds.push(taskId);\n                        taskIds.push(taskId);\n                    }\n                }\n\n                for (var i = 0; i < sticker.progress.rejected.length; i++) {\n                    var taskId = sticker.progress.rejected[i].id;\n                    if (taskIds.indexOf(taskId) === -1) {\n                        progress.rejectedIds.push(taskId);\n                        taskIds.push(taskId);\n                    }\n                }\n\n                progress.pending = sticker.progress.pending.length;\n                progress.rejected = sticker.progress.rejected.length;\n\n                var required = sticker.requiredTasks;\n                if (!required) {\n                    required = sticker.tasks.length;\n                }\n\n                progress.remaining = Math.max(0, required - progress.completed);\n\n                progress.percent = Math.ceil(Math.min(progress.completed, required) / required * 100);\n\n                return progress;\n            }\n        }\n    }\n);\n"]}