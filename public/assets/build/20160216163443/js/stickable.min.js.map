{"version":3,"sources":["../../../../../src/js/app.js","../../../../../src/js/alerts.js","../../../../../src/js/functions.js","../../../../../src/js/templates.js","../../../../../src/js/controllers/BotController.js","../../../../../src/js/controllers/BrowseController.js","../../../../../src/js/controllers/CategoryController.js","../../../../../src/js/controllers/HomeController.js","../../../../../src/js/controllers/SettingsController.js","../../../../../src/js/controllers/StickerController.js","../../../../../src/js/controllers/TaskController.js","../../../../../src/js/controllers/auth/ForgotController.js","../../../../../src/js/controllers/auth/LoginController.js","../../../../../src/js/controllers/auth/ResetController.js","../../../../../src/js/controllers/auth/SignupController.js","../../../../../src/js/controllers/modals/PostFormController.js","../../../../../src/js/controllers/modals/SubmissionFormController.js","../../../../../src/js/controllers/partials/CommentFormController.js","../../../../../src/js/controllers/partials/CommentsController.js","../../../../../src/js/controllers/partials/HeaderController.js","../../../../../src/js/controllers/partials/PostsController.js","../../../../../src/js/controllers/user/UserProfileController.js","../../../../../src/js/controllers/user/UserStickersController.js","../../../../../src/js/controllers/user/UserSubmissionsController.js","../../../../../src/js/controllers/user/UserToDoController.js","../../../../../src/js/directives/avatar.js","../../../../../src/js/directives/ckeditor.js","../../../../../src/js/directives/dropzone.js","../../../../../src/js/directives/masonry.js","../../../../../src/js/directives/notifications.js","../../../../../src/js/directives/rating.js","../../../../../src/js/directives/sticker-progress.js","../../../../../src/js/directives/sticker.js","../../../../../src/js/directives/user-list.js","../../../../../src/js/filters/markdown.js","../../../../../src/js/filters/plural.js","../../../../../src/js/libraries/ArrayPrototype.js","../../../../../src/js/libraries/StringPrototype.js","../../../../../src/js/resources/CategoryResource.js","../../../../../src/js/resources/CommentResource.js","../../../../../src/js/resources/PostResource.js","../../../../../src/js/resources/SessionResource.js","../../../../../src/js/resources/StickerResource.js","../../../../../src/js/resources/SubmissionResource.js","../../../../../src/js/resources/TaskResource.js","../../../../../src/js/resources/ToDoResource.js","../../../../../src/js/resources/UserNotificationsResource.js","../../../../../src/js/resources/UserResource.js","../../../../../src/js/services/AuthService.js","../../../../../src/js/services/ProgressService.js"],"names":["alertSuccess","message","Messenger","post","type","showCloseButton","hideAfter","alertError","preventDefault","$event","stopPropagation","app","angular","module","config","$httpProvider","$locationProvider","$stateProvider","$urlRouterProvider","localStorageServiceProvider","html5Mode","setPrefix","setStorageType","setStorageCookie","state","url","templateUrl","controller","params","loginFormData","response","otherwise","run","$rootScope","$state","AuthService","UserNotificationsResource","moment","FastClick","attach","document","body","locale","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","Dropzone","autoDiscover","dropzoneConfig","options","autoProcessQueue","uploadMultiple","addRemoveLinks","eventHandlers","sending","file","xhr","formData","success","pageTitle","checkSession","currentUser","getUser","notifications","$on","event","args","user","query","username","ev","to","toParams","from","$","removeClass","attr","name","scrollTop","documentElement","on","e","console","log","addClass","target","closest","length","hasClass","$templateCache","put","extraClasses","theme","$scope","CategoryResource","categories","$stateParams","$element","loading","category","hasSubcategories","hasStickers","get","slug","subcategories","stickers","css","bgUrl","PostResource","showPostTasks","posts","UserResource","$timeout","hasNewImage","dropzone","acceptedFiles","maxFiles","getSessionToken","clickable","thumbnailWidth","files","removeFile","$apply","JSON","parse","hasOwnProperty","imageId","image","id","finishSubmit","errorMessage","$$phase","about","init","profile","submit","processQueue","update","removeAllFiles","data","messages","errors","StickerResource","ToDoResource","ProgressService","sticker","progress","getProgress","loadDoers","earners","getEarners","getDoers","result","doers","addToDo","save","stickerId","isOnToDoList","removeToDo","likeEarner","earner","likeClicked","pivot","liked","likeCount","parseInt","earntId","unlikeEarner","likeDoer","doer","toDoId","unlikeDoer","ModalService","TaskResource","SubmissionResource","CommentResource","onTaskLoad","task","postsOrder","getTaskPosts","taskSlug","postType","comments","postSlug","getPostsComments","postId","goToTask","setPostsOrder","order","showSubmissionForm","showModal","inputs","then","modal","close","unshift","showPostForm","taskId","submissionFormData","text","addSubmission","commentFormVisible","showCommentForm","replyToComment","commentFormData","replyTo","prepend","hideCommentForm","clear","comment","loadCommentReplies","getCommentReplies","commentId","replies","addComment","saveReply","replyCount","forgotFormData","email","forgot","password","login","go","sortLoginErrors","general","resetFormData","token","confirmPassword","reset","signupFormData","signup","title","setPostType","saveTaskPost","getImageIds","ids","getFilesWithStatus","i","push","stage","nextEnabled","imageIds","private","cost","time","rating","toStage","nextStage","setPrivate","val","$parent","likeComment","unlikeComment","logout","back","window","history","likePost","unlikePost","goToPost","todo","getStickers","getPosts","tasks","submissions","getSubmissions","directive","scope","img","template","factory","define","amd","$defer","loaded","$q","checkLoaded","CKEDITOR","status","localPlugins","plugins","addExternal","resolve","defer","isUndefined","Error","disableAutoInline","definition","minHeight","removeContents","tabInfo","getContents","elements","remove","add","label","setup","value","protocol","address","this","setValue","commit","getValue","restrict","require","link","element","attrs","ctrls","ngModel","form","EMPTY_HTML","isTextarea","tagName","toLowerCase","isReady","onLoad","contentsCss","assetVersion","extraPlugins","disableObjectResizing","linkShowAdvancedTab","linkShowTargetTab","selectMultiple","imageUploadUrl","removePlugins","resize_enabled","height","width","toolbar","items","disableNativeSpellChecker","uiColor","ckeditor","extend","instance","replace","inline","configLoaderDef","bind","removeAllListeners","setModelData","setPristine","getData","toMarkdown","$viewValue","$setViewValue","$setPristine","onUpdateModelData","item","pop","setData","$broadcast","$render","promise","forEach","handler","elem","container","itemSelector","fromJson","masonry","Masonry","debounceTimeout","cancel","reloadItems","layout","find","removeBrick","appendBricks","ele","appended","master","imagesLoaded","ready","goTo","notification","destination","model","values","t","$watch","newValue","oldValue","Sticker","like","filter","word","count","Array","prototype","shuffle","j","temp","Math","floor","random","String","capitalizeFirstLetter","charAt","toUpperCase","slice","$resource","apiUrl","sessionToken","cache","transformResponse","isArray","method","getLikes","session","submissionId","delete","service","localStorageService","SessionResource","self","onLogin","onLogout","reject","newSession","newSessionKey","set","completed","completedIds","pending","pendingIds","rejected","rejectedIds","remaining","percent","required","requiredTasks","max","ceil","min"],"mappings":"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","file":"stickable.min.js","sourcesContent":["\"use strict\";\n\nvar app = angular.module('stickable', [\n    'ui.router',\n    'ngResource',\n    'ngSanitize',\n    'LocalStorageModule',\n    'angularModalService',\n    'ngAnimate',\n    'angularMoment',\n    'ngCkeditor',\n    'markdown',\n    'masonry'\n]);\n\napp.config(function ($httpProvider,\n                     $locationProvider,\n                     $stateProvider,\n                     $urlRouterProvider,\n                     localStorageServiceProvider) {\n\n    $locationProvider.html5Mode(true);\n\n    localStorageServiceProvider\n        .setPrefix('stickable')\n        .setStorageType('localStorage')\n        .setStorageCookie(0, '/');\n\n    /**\n     * States\n     */\n    $stateProvider\n        .state('home', {\n            url: \"/\",\n            templateUrl: \"views/pages/home.html\",\n            controller: 'HomeController'\n        })\n\n        .state('help', {\n            url: \"/help\",\n            templateUrl: \"views/pages/help.html\",\n        })\n\n        .state('browse', {\n            url: \"/browse\",\n            templateUrl: \"views/pages/browse.html\",\n            controller: 'BrowseController'\n        })\n\n        .state('bot', {\n            url: \"/bot\",\n            templateUrl: \"views/pages/bot.html\",\n            controller: 'BotController'\n        })\n\n        .state('signup', {\n            url: \"/signup\",\n            templateUrl: \"views/pages/auth/signup.html\",\n            controller: 'SignupController'\n        })\n\n        .state('login', {\n            url: \"/login\",\n            templateUrl: \"views/pages/auth/login.html\",\n            controller: 'LoginController',\n            params: {\n                loginFormData: null,\n                response: null\n            },\n        })\n\n        .state('forgot', {\n            url: \"/forgot\",\n            templateUrl: \"views/pages/auth/forgot.html\",\n            controller: 'ForgotController'\n        })\n\n        .state('reset', {\n            url: \"/reset/{token:string}\",\n            templateUrl: \"views/pages/auth/reset.html\",\n            controller: 'ResetController'\n        })\n\n        .state('settings', {\n            url: \"/settings\",\n            templateUrl: \"views/pages/settings/index.html\",\n            controller: 'SettingsController'\n        })\n\n        .state('user', {\n            url: \"/user/{username:string}\",\n            templateUrl: \"views/pages/user/view.html\",\n            controller: 'UserProfileController'\n        })\n\n        .state('user-todo', {\n            url: \"/user/{username:string}/todo\",\n            templateUrl: \"views/pages/user/todo.html\",\n            controller: 'UserToDoController'\n        })\n\n        .state('user-stickers', {\n            url: \"/user/{username:string}/stickers\",\n            templateUrl: \"views/pages/user/stickers.html\",\n            controller: 'UserStickersController'\n        })\n\n        .state('user-submissions', {\n            url: \"/user/{username:string}/submissions\",\n            templateUrl: \"views/pages/user/submissions.html\",\n            controller: 'UserSubmissionsController'\n        })\n\n        .state('category', {\n            url: \"/category/{slug:string}\",\n            templateUrl: \"views/pages/category/view.html\",\n            controller: 'CategoryController'\n        })\n\n        .state('sticker', {\n            url: \"/sticker/{slug:string}\",\n            templateUrl: \"views/pages/sticker/view.html\",\n            controller: 'StickerController'\n        })\n\n        .state('task', {\n            url: \"/task/{slug:string}\",\n            templateUrl: \"views/pages/task/view.html\",\n            controller: 'TaskController'\n        })\n\n        .state('post', {\n            url: \"/task/{slug:string}/{postSlug:string}\",\n            templateUrl: \"views/pages/task/view.html\",\n            controller: 'TaskController'\n        });\n\n    // For any unmatched url, redirect to /\n    $urlRouterProvider.otherwise('/');\n\n});\n\napp.run(function ($rootScope, $state, AuthService, UserNotificationsResource, moment) {\n\n    FastClick.attach(document.body);\n\n    moment.locale('en', {\n        relativeTime : {\n            future: \"in %s\",\n            past:   \"%s\",\n            s:  \"1s\",\n            m:  \"1m\",\n            mm: \"%dm\",\n            h:  \"1h\",\n            hh: \"%dh\",\n            d:  \"1d\",\n            dd: \"%dd\",\n            M:  \"1mo\",\n            MM: \"%dmo\",\n            y:  \"1y\",\n            yy: \"%dy\"\n        }\n    });\n\n    marked.setOptions({\n        renderer: new marked.Renderer(),\n        gfm: true,\n        tables: false,\n        breaks: true,\n        pedantic: false,\n        sanitize: true,\n        smartLists: true,\n        smartypants: false\n    });\n\n    Dropzone.autoDiscover = false;\n\n    $rootScope.dropzoneConfig = {\n        options: {\n            autoProcessQueue: false,\n            uploadMultiple: true,\n            addRemoveLinks: true,\n            url: '/api/images'\n        },\n        'eventHandlers': {\n            'sending': function (file, xhr, formData) {\n            },\n            'success': function (file, response) {\n            }\n        }\n    };\n\n    $rootScope.$state = $state;\n    $rootScope.pageTitle = '';\n\n    AuthService.checkSession();\n\n    $rootScope.currentUser = AuthService.getUser();\n    $rootScope.notifications = [];\n\n    $rootScope.$on('login', function (event, args) {\n        $rootScope.currentUser = args.user;\n\n        // Fetch notifications\n        $rootScope.notifications = UserNotificationsResource.query({username: args.user.username});\n    });\n\n    $rootScope.$on('logout', function () {\n        $rootScope.currentUser = false;\n    });\n\n    $rootScope.$on('$stateChangeSuccess', function (ev, to, toParams, from) {\n        $('body').removeClass('navbar-visible').attr('data-previous', from.name);\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n    });\n});\n\n$(document).on('click', 'body:not(.navbar-visible) .navbar-toggle', function (e) {\n    console.log(e);\n    e.preventDefault();\n    $('body').addClass('navbar-visible');\n});\n\n$(document).on('click', 'body.navbar-visible .navbar-toggle', function (e) {\n    e.preventDefault();\n    $('body').removeClass('navbar-visible');\n});\n\n$(document).on('click', 'body.navbar-visible', function (e) {\n    if ($(e.target).closest('#top-bar-nav').length > 0) {\n        // Ignore clicks on the nav itself\n\n    } else if (\n        !$(e.target).closest('button').hasClass('navbar-toggle')\n        && !$(e.target).hasClass('navbar-toggle')\n    ) {\n        e.preventDefault();\n        $('body').removeClass('navbar-visible');\n    }\n});\n","Messenger.options = {\n    extraClasses: 'messenger-fixed messenger-on-top messenger-on-right',\n    theme: 'flat',\n    //messageDefaults: {\n    //    //hideAfter: 5\n    //}\n};\n\nfunction alertSuccess(message) {\n    Messenger().post({\n        message: message,\n        type: 'success',\n        showCloseButton: true,\n        hideAfter: 5\n    });\n}\n\nfunction alertError(message) {\n    Messenger().post({\n        message: message,\n        type: 'error',\n        showCloseButton: true\n    });\n}\n","function preventDefault($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n}\n","angular.module('stickable').run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('views/directives/notifications.html',\n    \"<ul class=\\\"dropdown-menu notifications-dropdown notification-list\\\">\\n\" +\n    \"    <li ng-repeat=\\\"notification in notifications\\\">\\n\" +\n    \"        <a href=\\\"#\\\" ng-click=\\\"goTo($event, notification)\\\">\\n\" +\n    \"            <i class=\\\"fa\\\" ng-class=\\\"'fa-'+notification.icon\\\"></i>\\n\" +\n    \"            {{ notification.text }}\\n\" +\n    \"        </a>\\n\" +\n    \"    </li>\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/directives/sticker-progress.html',\n    \"<span class=\\\"progress\\\">\\n\" +\n    \"  <span\\n\" +\n    \"        class=\\\"progress-bar progress-bar-success\\\"\\n\" +\n    \"        ng-style=\\\"{'width': progress.percent+'%'}\\\">\\n\" +\n    \"      {{progress.completed}} completed\\n\" +\n    \"  </span>\\n\" +\n    \"  <span\\n\" +\n    \"        class=\\\"progress-bar progress-bar-white\\\"\\n\" +\n    \"        ng-style=\\\"{'width': (100-progress.percent)+'%'}\\\">\\n\" +\n    \"      {{progress.remaining}} needed\\n\" +\n    \"  </span>\\n\" +\n    \"</span>\\n\"\n  );\n\n\n  $templateCache.put('views/directives/user-list.html',\n    \"\\n\" +\n    \"    <div class=\\\"user\\\" ng-repeat=\\\"user in data.users\\\" ng-class=\\\"{'liked': !!user.pivot.liked, 'like-clicked': !!user.likeClicked}\\\">\\n\" +\n    \"\\n\" +\n    \"        <a href=\\\"/user/{{ user.username }}\\\">\\n\" +\n    \"            <span class=\\\"pic\\\" ng-style=\\\"{'background-image':user.image?'url('+user.image.thumbUrl+')' : ''}\\\">\\n\" +\n    \"                <span>\\n\" +\n    \"                    {{ user.username }}\\n\" +\n    \"                    <small>\\n\" +\n    \"                        <i class=\\\"fa fa-clock-o\\\"></i> <span am-time-ago=\\\"user.pivot.createdAt\\\"></span>\\n\" +\n    \"                    </small>\\n\" +\n    \"                </span>\\n\" +\n    \"            </span>\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <a class=\\\"like-btn like-thumb\\\" ng-click=\\\"like($event, user)\\\" href=\\\"#\\\">\\n\" +\n    \"            <span><i class=\\\"fa fa-thumbs-up\\\"></i> <strong ng-bind=\\\"user.pivot.likeCount\\\"></strong></span>\\n\" +\n    \"        </a>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\"\n  );\n\n\n  $templateCache.put('views/directives/users.html',\n    \"\"\n  );\n\n\n  $templateCache.put('views/modals/post-form.html',\n    \"<div class=\\\"modal\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"modal-header\\\">\\n\" +\n    \"            <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"                <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"            </button>\\n\" +\n    \"\\n\" +\n    \"            <h4 class=\\\"modal-title\\\">Add A Post</h4>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"tabs tabs-2\\\">\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postType === 'tip' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostType($event, 'tip')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-info-circle\\\"></i> Tip\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postType === 'question' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostType($event, 'question')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-question-circle\\\"></i> Question\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <label for=\\\"post-title\\\">Title</label>\\n\" +\n    \"                    <input type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control\\\"\\n\" +\n    \"                           ng-model=\\\"formData.title\\\"\\n\" +\n    \"                           id=\\\"post-title\\\"\\n\" +\n    \"                           placeholder=\\\"Give your post a title.\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <label for=\\\"post-text\\\">Post</label>\\n\" +\n    \"                    <textarea class=\\\"form-control\\\" id=\\\"post-text\\\" ng-model=\\\"formData.text\\\" placeholder=\\\"Write your tip, question, or other post here.\\\"></textarea>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"\\n\" +\n    \"                <button ng-click=\\\"close()\\\"\\n\" +\n    \"                        type=\\\"button\\\"\\n\" +\n    \"                        class=\\\"btn btn-danger btn-labeled pull-left hidden-xs hidden-sm\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-trash\\\"></i></span>\\n\" +\n    \"                    Cancel\\n\" +\n    \"                </button>\\n\" +\n    \"\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/modals/submission-form.html',\n    \"<div class=\\\"modal submission-form-modal\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"modal-content\\\">\\n\" +\n    \"\\n\" +\n    \"        <button ng-click=\\\"close()\\\" class=\\\"modal-close-btn\\\">\\n\" +\n    \"            <i class=\\\"fa fa-times\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"\\n\" +\n    \"        <form class=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-body\\\">\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 1\\\" class=\\\"submission-stage\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"text-center\\\">{{ task.submission }}</h2>\\n\" +\n    \"\\n\" +\n    \"                    <div ng-include=\\\"'views/partials/submission-forms/' + task.submissionType.toLowerCase() + '.html'\\\"></div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 2\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"text-center\\\">Post Your Submission</h2>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"form-group\\\">\\n\" +\n    \"\\n\" +\n    \"                        <ul class=\\\"tabs tabs-2\\\">\\n\" +\n    \"                            <li ng-class=\\\"{'tab-current': formData.private === 0 }\\\">\\n\" +\n    \"                                <a href=\\\"#\\\" ng-click=\\\"setPrivate($event, 0)\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-fw fa-file-text-o\\\"></i> Post About It\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"\\n\" +\n    \"                            <li ng-class=\\\"{'tab-current': formData.private === 1 }\\\">\\n\" +\n    \"                                <a href=\\\"#\\\" ng-click=\\\"setPrivate($event, 1)\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-fw fa-lock\\\"></i> Keep It Private\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"submission-help submission-post-help\\\" ng-show=\\\"formData.private === 0\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-star\\\"></i> Tell the story of how you completed this task. Did you find it interesting? Can you share some tips to help others?\\n\" +\n    \"                        <br/><i class=\\\"fa fa-info-circle\\\"></i> Your photo and story you enter below will appear on the page for the task. Other members can like and comment on your post.\\n\" +\n    \"                    </p>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"submission-help\\\" ng-show=\\\"formData.private === 1\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-info-circle\\\"></i> Your submission will still count towards earning the sticker, but nobody else will see it or be able to like or comment on it.\\n\" +\n    \"                        <br/>\\n\" +\n    \"                        <span class=\\\"red\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-exclamation-triangle\\\"></i> Stickable works best when you post about the task and share stories and advice for others attempting to complete this. Consider writing a post even if it's only a few lines.</span>\\n\" +\n    \"                    </p>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"form-group\\\" ng-show=\\\"formData.private === 0\\\">\\n\" +\n    \"                        <label for=\\\"post-title\\\">Title</label>\\n\" +\n    \"                        <input type=\\\"text\\\"\\n\" +\n    \"                               class=\\\"form-control\\\"\\n\" +\n    \"                               ng-model=\\\"formData.title\\\"\\n\" +\n    \"                               id=\\\"post-title\\\"\\n\" +\n    \"                               placeholder=\\\"Give your post a title.\\\"/>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"form-group\\\" ng-show=\\\"formData.private === 0\\\">\\n\" +\n    \"                        <label for=\\\"post-text\\\">Content</label>\\n\" +\n    \"                        <textarea class=\\\"form-control\\\" id=\\\"post-text\\\" ng-model=\\\"formData.text\\\" placeholder=\\\"Write your tip, question, or other post here.\\\"></textarea>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-show=\\\"stage === 3\\\">\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"text-center\\\">Rate The Task</h2>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"submission-help\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-info-circle\\\"></i> Providing this feedback helps us suggest tasks you'll enjoy that fit your time and budget.</p>\\n\" +\n    \"\\n\" +\n    \"                    <label>How much did it cost?</label>\\n\" +\n    \"                    <ul\\n\" +\n    \"                            class=\\\"rating rating-price\\\"\\n\" +\n    \"                            model=\\\"formData.cost\\\"\\n\" +\n    \"                            values=\\\"['Free', '< $10', '$10 - $50', '$50 - $200', '> $200']\\\"></ul>\\n\" +\n    \"\\n\" +\n    \"                    <label>How long did it take?</label>\\n\" +\n    \"                    <ul\\n\" +\n    \"                            class=\\\"rating rating-time\\\"\\n\" +\n    \"                            model=\\\"formData.time\\\"\\n\" +\n    \"                            values=\\\"['< 15 mins', '< 1 hr', '1 - 4 hrs', '1 day', '> 1 day']\\\"></ul>\\n\" +\n    \"\\n\" +\n    \"                    <label>How much did you enjoy it?</label>\\n\" +\n    \"                    <ul\\n\" +\n    \"                            class=\\\"rating rating-star\\\"\\n\" +\n    \"                            model=\\\"formData.rating\\\"\\n\" +\n    \"                            values=\\\"['Sucked', 'Meh', 'Good', 'Great', 'Life Changing']\\\"></ul>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"modal-footer\\\">\\n\" +\n    \"\\n\" +\n    \"                <ul class=\\\"dots modal-dots\\\">\\n\" +\n    \"                    <li ng-class=\\\"{'active': stage === 1}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(1)\\\"></a></li>\\n\" +\n    \"                    <li ng-class=\\\"{'active': stage === 2}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(2)\\\"></a></li>\\n\" +\n    \"                    <li ng-class=\\\"{'active': stage === 3}\\\"><a href=\\\"#\\\" ng-click=\\\"toStage(3)\\\"></a></li>\\n\" +\n    \"                </ul>\\n\" +\n    \"\\n\" +\n    \"                <a class=\\\"btn btn-labeled\\\" ng-class=\\\"{'disabled': !nextEnabled}\\\" ng-click=\\\"nextStage()\\\" ng-hide=\\\"stage === 3\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-arrow-right\\\"></i></span>\\n\" +\n    \"                    Continue\\n\" +\n    \"                </a>\\n\" +\n    \"\\n\" +\n    \"                <button class=\\\"btn btn-primary btn-labeled\\\" ng-show=\\\"stage === 3\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Submit\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </form>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/forgot.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"        <div class=\\\"col-md-8 col-md-offset-2\\\">\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Forgotten Login Details</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': forgotFormData.errors.email}\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">E-Mail Address</label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <input type=\\\"email\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"email\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"forgotFormData.email\\\"/>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"forgotFormData.errors.email\\\" class=\\\"help-block\\\">{{ forgotFormData.errors.email.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <div class=\\\"col-md-6 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-envelope\\\"\\n\" +\n    \"                                       ng-hide=\\\"forgotFormData.loading\\\"></i><i class=\\\"fa fa-spinner fa-spin\\\"\\n\" +\n    \"                                                                               ng-show=\\\"forgotFormData.loading\\\"></i>\\n\" +\n    \"                                    Send Password Reset Link\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"alert alert-success\\\" ng-if=\\\"success\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-envelope\\\"></i> Your details have been sent to <strong>{{\\n\" +\n    \"                            forgotFormData.email }}</strong>.\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/login.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"        <div class=\\\"col-md-8 col-md-offset-2\\\">\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Login</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"login()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': loginFormData.errors.username}\\\">\\n\" +\n    \"\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Username <i class=\\\"fa fa-user\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <input type=\\\"username\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"username\\\"\\n\" +\n    \"                                       value=\\\"\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"loginFormData.username\\\"/>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"loginFormData.errors.username\\\" class=\\\"help-block\\\">{{ loginFormData.errors.username.join(' ') }}</span>\\n\" +\n    \"\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': loginFormData.errors.password}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Password <i class=\\\"fa fa-key\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       required\\n\" +\n    \"                                       ng-model=\\\"loginFormData.password\\\"/>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"loginFormData.errors.password\\\" class=\\\"help-block\\\">{{ loginFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\">\\n\" +\n    \"                            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-key\\\"\\n\" +\n    \"                                       ng-hide=\\\"loginFormData.loading\\\"></i><i class=\\\"fa fa-spinner fa-spin\\\"\\n\" +\n    \"                                                                              ng-show=\\\"loginFormData.loading\\\"></i> Login\\n\" +\n    \"                                </button>\\n\" +\n    \"\\n\" +\n    \"                                <a href=\\\"/forgot\\\" class=\\\"btn\\\">Forgot Details?</a>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/reset.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"        <div class=\\\"col-md-8 col-md-offset-2\\\">\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Create A New Password</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <input type=\\\"hidden\\\" name=\\\"token\\\" ng-model=\\\"resetFormData.token\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\"\\n\" +\n    \"                             ng-class=\\\"{'has-error': resetFormData.errors.password}\\\"\\n\" +\n    \"                             ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label for=\\\"password\\\" class=\\\"col-md-4 control-label\\\">Password</label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       id=\\\"password\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       ng-model=\\\"resetFormData.password\\\"\\n\" +\n    \"                                       required>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"resetFormData.errors.password\\\" class=\\\"help-block\\\">{{ resetFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\"\\n\" +\n    \"                             ng-class=\\\"{'has-error': resetFormData.errors.confirmPassword}\\\"\\n\" +\n    \"                             ng-if=\\\"!success\\\">\\n\" +\n    \"                            <label for=\\\"confim-password\\\" class=\\\"col-md-4 control-label\\\">Confirm Password</label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-6\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       id=\\\"confim-password\\\"\\n\" +\n    \"                                       name=\\\"confim-password\\\"\\n\" +\n    \"                                       ng-model=\\\"resetFormData.confirmPassword\\\"\\n\" +\n    \"                                       required>\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"resetFormData.errors.confirmPassword\\\" class=\\\"help-block\\\">{{ resetFormData.errors.confirmPassword.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-if=\\\"!success\\\">\\n\" +\n    \"                            <div class=\\\"col-md-6 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-unlock-alt\\\"\\n\" +\n    \"                                       ng-hide=\\\"resetFormData.loading\\\"></i><i class=\\\"fa fa-spinner fa-spin\\\"\\n\" +\n    \"                                                                              ng-show=\\\"resetFormData.loading\\\"></i> Reset\\n\" +\n    \"                                    Password\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"alert alert-success\\\" ng-if=\\\"success\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-check\\\"></i> Password changed. You can now <a class=\\\"btn\\\"\\n\" +\n    \"                                                                                         href=\\\"/login\\\">Login</a> with\\n\" +\n    \"                            the new password.\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/auth/signup.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <div class=\\\"row\\\">\\n\" +\n    \"        <div class=\\\"col-md-8 col-md-offset-2\\\">\\n\" +\n    \"            <div class=\\\"panel panel-default\\\">\\n\" +\n    \"                <div class=\\\"panel-heading\\\"><h1>Create An Account</h1></div>\\n\" +\n    \"                <div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"                    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"signup()\\\">\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.username}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Username <i class=\\\"fa fa-user\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <input type=\\\"text\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"username\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.username\\\"\\n\" +\n    \"                                       required/>\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.username\\\" class=\\\"help-block\\\">{{ signupFormData.errors.username.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.email}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">E-Mail Address <i class=\\\"fa fa-envelope\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <input type=\\\"email\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"email\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.email\\\"\\n\" +\n    \"                                       required/>\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.email\\\" class=\\\"help-block\\\">{{ signupFormData.errors.email.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': signupFormData.errors.password}\\\">\\n\" +\n    \"                            <label class=\\\"col-md-4 control-label\\\">Password <i class=\\\"fa fa-key\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"                            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                                <input type=\\\"password\\\"\\n\" +\n    \"                                       class=\\\"form-control\\\"\\n\" +\n    \"                                       name=\\\"password\\\"\\n\" +\n    \"                                       ng-model=\\\"signupFormData.password\\\"\\n\" +\n    \"                                       required/>\\n\" +\n    \"                                <span ng-if=\\\"signupFormData.errors.password\\\" class=\\\"help-block\\\">{{ signupFormData.errors.password.join(' ') }}</span>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                        <div class=\\\"form-group\\\">\\n\" +\n    \"                            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\n\" +\n    \"                                    <i class=\\\"fa fa-user fa-fw\\\"\\n\" +\n    \"                                       ng-hide=\\\"signupFormData.loading\\\"></i><i class=\\\"fa fa-spinner fa-spin fa-fw\\\"\\n\" +\n    \"                                                                               ng-show=\\\"signupFormData.loading\\\"></i>\\n\" +\n    \"                                    Signup\\n\" +\n    \"                                </button>\\n\" +\n    \"                            </div>\\n\" +\n    \"                        </div>\\n\" +\n    \"\\n\" +\n    \"                    </form>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\"\n  );\n\n\n  $templateCache.put('views/pages/bot.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h2>Hi, I'm Stickerbot</h2>\\n\" +\n    \"\\n\" +\n    \"    <p>I'll help you find something to do and stickers to work towards from your budget and available time.</p>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"alert alert-danger\\\">\\n\" +\n    \"        <p>Stickerbot hasn't been made yet. But you can find example stickers in the <a href=\\\"/category/china\\\">China</a> category.</p>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <img src=\\\"/assets/img/bot.png\\\"/>\\n\" +\n    \"\\n\" +\n    \"    <p>//TODO</p>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/browse.html',\n    \"<div class=\\\"container-md\\\">\\n\" +\n    \"<ul class=\\\"category-list row\\\">\\n\" +\n    \"    <li class=\\\"col-sm-4 col-xs-6\\\" ng-repeat=\\\"category in categories\\\">\\n\" +\n    \"        <a href=\\\"/category/{{ category.slug }}\\\" ng-style=\\\"{'background-image':'url('+category.thumbUrl+')'}\\\">\\n\" +\n    \"            <span>{{ category.name }}</span>\\n\" +\n    \"        </a>\\n\" +\n    \"    </li>\\n\" +\n    \"</ul>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/category/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h2 ng-if=\\\"category.parentCategory\\\"><a href=\\\"/category/{{ category.parentCategory.slug }}\\\"><i class=\\\"fa fa-folder\\\"></i> {{ category.parentCategory.name }}</a></h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-folder-open\\\"></i> {{ category.name }}</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"hasSubcategories\\\" class=\\\"alert alert-info\\\">\\n\" +\n    \"        <p><i class=\\\"fa fa-folder-open\\\"></i> These are the subcategories in <strong>{{category.name}}</strong>. Pick one of these more specific subcategories to find stickers.</p>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <ul ng-if=\\\"hasSubcategories\\\" class=\\\"category-list row\\\">\\n\" +\n    \"        <li class=\\\"col-sm-3 col-xs-6\\\" ng-repeat=\\\"subcategory in category.subcategories\\\">\\n\" +\n    \"            <a href=\\\"/category/{{ subcategory.slug }}\\\" ng-style=\\\"{'background-image':'url('+subcategory.thumbUrl+')'}\\\">\\n\" +\n    \"                <span>{{ subcategory.name }}</span>\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"hasStickers\\\" class=\\\"alert alert-info\\\">\\n\" +\n    \"        <p><i class=\\\"fa fa-trophy\\\"></i> These are <strong>{{category.name}}</strong> stickers. Pick one of them to see how you can earn it.</p>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <ul ng-if=\\\"hasStickers\\\" class=\\\"sticker-list row\\\">\\n\" +\n    \"\\n\" +\n    \"        <li class=\\\"col-md-3\\\" ng-repeat=\\\"sticker in category.stickers\\\">\\n\" +\n    \"            <a href=\\\"/sticker/{{ sticker.slug }}\\\">\\n\" +\n    \"                <span class=\\\"sticker\\\" img=\\\"{{ sticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"\\n\" +\n    \"                <h3>{{ sticker.name }}</h3>\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"    <div ng-if=\\\"category && !hasSubcategories && !hasStickers\\\">\\n\" +\n    \"        <div class=\\\"alert alert-danger\\\">\\n\" +\n    \"            <p><i class=\\\"fa fa-frown-o\\\"></i> There's no stickers or subcategories of <strong>{{category.name}}</strong> yet. Something will be here soon!</p>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/help.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>About Stickable</h1>\\n\" +\n    \"\\n\" +\n    \"    <section id=\\\"how-it-works\\\">\\n\" +\n    \"        <div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"            <h2>How Stickable Works</h2>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-md-3\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-5x fa-trophy\\\"></i>\\n\" +\n    \"\\n\" +\n    \"                    <h3>Choose Stickers<span>To Work Towards</span></h3>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-md-3\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-5x fa-check-square-o\\\"></i>\\n\" +\n    \"\\n\" +\n    \"                    <h3>Do The Tasks<span>Make Something, Visit Somewhere, Do Something!</span></h3>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-md-3\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-5x fa-camera-retro\\\"></i>\\n\" +\n    \"\\n\" +\n    \"                    <h3>Submit Photos<span>Or Other Evidence Of You Doing The Tasks</span></h3>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-md-3\\\">\\n\" +\n    \"                    <i class=\\\"fa fa-5x fa-certificate\\\"></i>\\n\" +\n    \"\\n\" +\n    \"                    <h3>Receive Stickers<span>In The Mail</span></h3>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-md-4\\\">\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"    </section>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    <h1>Design Elements</h1>\\n\" +\n    \"\\n\" +\n    \"    <hr/>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h2><i class=\\\"fa fa-circle\\\"></i> H2 Title</h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-circle\\\"></i> H1 Title</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"titlecrumbs\\\">\\n\" +\n    \"        <h3><i class=\\\"fa fa-circle\\\"></i> H3 Title</h3>\\n\" +\n    \"        <h2><i class=\\\"fa fa-circle\\\"></i> H2 Title</h2>\\n\" +\n    \"        <h1><i class=\\\"fa fa-circle\\\"></i> H1 Title</h1>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    <h1>This is an h1 heading</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2>This is an h2 heading</h2>\\n\" +\n    \"\\n\" +\n    \"    <h3>This is an h3 heading</h3>\\n\" +\n    \"    <h4>This is an h4 heading</h4>\\n\" +\n    \"    <h5>This is an h5 heading</h5>\\n\" +\n    \"\\n\" +\n    \"    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam metus felis, egestas a sem et, lobortis venenatis\\n\" +\n    \"        libero. Nunc vitae justo eget lectus scelerisque faucibus vel ac felis. Sed iaculis leo vitae pulvinar\\n\" +\n    \"        dignissim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Praesent at\\n\" +\n    \"        enim egestas, convallis erat at, pellentesque arcu. Nunc rutrum sem vitae orci mollis feugiat. Aenean ante\\n\" +\n    \"        ipsum, aliquam vel imperdiet id, pulvinar vel lectus. Sed sagittis elit non ipsum porta, in luctus tellus\\n\" +\n    \"        efficitur. Nunc turpis metus, volutpat sit amet ante eu, sollicitudin vulputate lacus. Duis sit amet sem a nunc\\n\" +\n    \"        euismod posuere at vel justo. Integer condimentum sollicitudin lacus, sed sollicitudin dui efficitur eget.\\n\" +\n    \"        Suspendisse at vehicula risus. Donec nec dui in arcu consequat tincidunt. Nullam gravida eros elit, vitae\\n\" +\n    \"        venenatis risus mattis vel. Donec ut sollicitudin nibh, vel scelerisque sem.</p>\\n\" +\n    \"\\n\" +\n    \"    <h2>Button Examples</h2>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"text-center\\\">\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn\\\">Blue buttons go to another page</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-primary\\\">Purple buttons do an action right now</a>\\n\" +\n    \"\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-danger\\\">Do something bad</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-success\\\">Do something good</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-warning\\\">Do something medium</a>\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"text-center\\\">\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue btn-lg\\\">btn-lg</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue\\\">btn</a>\\n\" +\n    \"        <a href=\\\"#\\\" class=\\\"btn btn-blue btn-sm\\\">btn-sm</a>\\n\" +\n    \"    </p>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/home.html',\n    \"<div class=\\\"splash home-splash\\\">\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"        <div class=\\\"row\\\">\\n\" +\n    \"            <div class=\\\"col-sm-4\\\">\\n\" +\n    \"                <img src=\\\"/assets/img/stickable.svg\\\" alt=\\\"Stickable\\\" id=\\\"home-splash-logo\\\"/>\\n\" +\n    \"            </div>\\n\" +\n    \"            <div class=\\\"col-sm-8 text-shadow\\\">\\n\" +\n    \"                <h2>Discover new hobbies. Get help from our community. Earn real-life stickers to show off your\\n\" +\n    \"                    progress.</h2>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"row btn-row\\\">\\n\" +\n    \"                    <div class=\\\"col-xs-7\\\">\\n\" +\n    \"                        <a class=\\\"btn btn-primary\\\" href=\\\"/bot\\\"><i class=\\\"fa fa-play-circle\\\"></i> Find Something To\\n\" +\n    \"                            Do</a>\\n\" +\n    \"                    </div>\\n\" +\n    \"                    <div class=\\\"col-xs-5\\\">\\n\" +\n    \"                        <a class=\\\"btn\\\" href=\\\"/help\\\"><i class=\\\"fa fa-info\\\"></i> Learn More</a>\\n\" +\n    \"                    </div>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"container-lg\\\">\\n\" +\n    \"        <ng-include src=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></ng-include>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/settings/index.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>Settings</h1>\\n\" +\n    \"\\n\" +\n    \"    <form class=\\\"form-horizontal\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': formData.errors.picture}\\\">\\n\" +\n    \"            <label class=\\\"col-md-3 control-label\\\">Picture <i class=\\\"fa fa-picture-o\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-9\\\">\\n\" +\n    \"\\n\" +\n    \"                <a href=\\\"{{user.image.url}}\\\" target=\\\"_blank\\\"><img ng-src=\\\"{{user.image.thumbUrl}}\\\" class=\\\"dz-image user-image user-current-image\\\" ng-hide=\\\"hasNewImage\\\" /></a>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"dropzone needsclick\\\" id=\\\"settings-image\\\">\\n\" +\n    \"                    <div class=\\\"fallback\\\">\\n\" +\n    \"                        <input name=\\\"file\\\" type=\\\"file\\\" multiple />\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-labeled dropzone-btn needsclick\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-camera\\\"></i></span>\\n\" +\n    \"                        Select A New Picture\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"dz-message\\\"></div>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\" ng-class=\\\"{'has-error': formData.errors.about}\\\">\\n\" +\n    \"            <label class=\\\"col-md-3 control-label\\\">About Me <i class=\\\"fa fa-file-text\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-9\\\">\\n\" +\n    \"                <textarea class=\\\"form-control\\\" name=\\\"about\\\" ng-model=\\\"formData.about\\\"></textarea>\\n\" +\n    \"                <span ng-if=\\\"formData.errors.about\\\" class=\\\"help-block\\\">{{ formData.errors.about.join(' ') }}</span>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <div class=\\\"col-md-9 col-md-offset-3\\\">\\n\" +\n    \"                <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-save\\\"></i></span>\\n\" +\n    \"                    Save Changes\\n\" +\n    \"                </button>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/sticker/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"splash sticker-splash\\\"\\n\" +\n    \"         ng-style=\\\"{ 'background-image': sticker.bgUrl ? 'url(' + sticker.bgUrl + ')' : ''}\\\">\\n\" +\n    \"        <div class=\\\"container\\\">\\n\" +\n    \"            <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6 text-shadow\\\">\\n\" +\n    \"\\n\" +\n    \"                    <span class=\\\"sticker\\\" img=\\\"{{ sticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"titlecrumbs sticker-title\\\">\\n\" +\n    \"                        <h3><a href=\\\"/category/{{ sticker.category.slug }}\\\"><i class=\\\"fa fa-folder\\\"></i> {{\\n\" +\n    \"                            sticker.category.name }} Category</a></h3>\\n\" +\n    \"\\n\" +\n    \"                        <h1>{{ sticker.name }}</h1>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"alert alert-success clear text-center\\\" ng-if=\\\"sticker.hasCompleted\\\">\\n\" +\n    \"                        <p><i class=\\\"fa fa-trophy\\\"></i> Congratulations, you've earnt this sticker!</p>\\n\" +\n    \"                        <p><a class=\\\"btn btn-success\\\">See it in your Sticker Book</a></p>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <p class=\\\"sticker-desc\\\" ng-bind-html=\\\"sticker.description | markdown\\\"></p>\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"sticker-info\\\">\\n\" +\n    \"                        <li ng-if=\\\"sticker.creator\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-user\\\"></i> Sticker designed by\\n\" +\n    \"                            <a href=\\\"/user/{{ sticker.creator.url }}\\\">{{ sticker.creator.username }}</a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                    <ul class=\\\"task-list\\\">\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"header\\\">\\n\" +\n    \"                            <h3>\\n\" +\n    \"                                Complete {{ (sticker.requiredTasks ? sticker.requiredTasks : 'all') }}\\n\" +\n    \"                                of these tasks to earn the sticker:</h3>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"ng-hide\\\" ng-show=\\\"sticker.isOnToDoList\\\">\\n\" +\n    \"                           <span class=\\\"sticker-progress\\\" progress=\\\"progress\\\"></span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                        <li ng-repeat=\\\"task in sticker.tasks\\\" class=\\\"task\\\" ng-class=\\\"{\\n\" +\n    \"                            'completed': task.hasCompleted,\\n\" +\n    \"                            }\\\">\\n\" +\n    \"                            <a href=\\\"/task/{{ task.slug }}\\\">\\n\" +\n    \"\\n\" +\n    \"                                <span ng-if=\\\"progress && progress.pendingIds.indexOf(task.id) !== -1\\\" class=\\\"label label-warning\\\">Submitted</span>\\n\" +\n    \"                                <span ng-if=\\\"progress && progress.rejectedIds.indexOf(task.id) !== -1\\\" class=\\\"label label-danger\\\">Rejected</span>\\n\" +\n    \"                                <span ng-if=\\\"task.hasCompleted\\\" class=\\\"label label-success\\\">Completed</span>\\n\" +\n    \"\\n\" +\n    \"                                <i class=\\\"fa\\\" ng-class=\\\"{'fa-circle': !task.hasCompleted, 'fa-check-circle': task.hasCompleted}\\\"></i>{{ task.name }}\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li class=\\\"header\\\" ng-hide=\\\"sticker.isOnToDoList\\\">\\n\" +\n    \"                            <h3>Want this sticker?</h3>\\n\" +\n    \"                        </li>\\n\" +\n    \"                        <li ng-hide=\\\"sticker.isOnToDoList\\\">\\n\" +\n    \"                            <span>\\n\" +\n    \"                                <a class=\\\"btn btn-primary btn-block btn-labeled\\\" ng-click=\\\"addToDo()\\\">\\n\" +\n    \"                                    <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                                    Add To To-Do List\\n\" +\n    \"                                </a>\\n\" +\n    \"                            </span>\\n\" +\n    \"                        </li>\\n\" +\n    \"\\n\" +\n    \"                        <li></li>\\n\" +\n    \"                        <li></li>\\n\" +\n    \"                        <li></li>\\n\" +\n    \"                        <li></li>\\n\" +\n    \"                        <li></li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"container\\\">\\n\" +\n    \"        <div class=\\\"row\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2><i class=\\\"fa fa-trophy\\\"></i> Who's Got It</h2>\\n\" +\n    \"                <div class=\\\"user-list\\\" data=\\\"earners\\\" like=\\\"likeEarner\\\"></div>\\n\" +\n    \"\\n\" +\n    \"                <h2><i class=\\\"fa fa-users\\\"></i> Working On It</h2>\\n\" +\n    \"                <div class=\\\"user-list\\\" data=\\\"doers\\\" like=\\\"likeDoer\\\"></div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-lg-6\\\">\\n\" +\n    \"\\n\" +\n    \"                <h2>More {{ sticker.category.name }} Stickers</h2>\\n\" +\n    \"\\n\" +\n    \"                <ul class=\\\"sticker-list small-sticker-list row\\\">\\n\" +\n    \"\\n\" +\n    \"                    <li class=\\\"col-xs-4 col-sm-3 col-lg-4\\\"\\n\" +\n    \"                        ng-repeat=\\\"catSticker in sticker.category.stickers\\\"\\n\" +\n    \"                        ng-if=\\\"catSticker.id != sticker.id\\\">\\n\" +\n    \"                        <a href=\\\"/sticker/{{ catSticker.slug }}\\\">\\n\" +\n    \"                            <span class=\\\"sticker\\\" img=\\\"{{ catSticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"                            <br/>{{ catSticker.name }}\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </li>\\n\" +\n    \"                </ul>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/task/submit.html',\n    \"@extends('layouts.main')\\n\" +\n    \"\\n\" +\n    \"@section('breadcrumbs')\\n\" +\n    \"{!! Breadcrumbs::render('task', $task) !!}\\n\" +\n    \"@stop\\n\" +\n    \"\\n\" +\n    \"@section('content')\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>{{ $task->name }}</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2>Add Your Submission</h2>\\n\" +\n    \"\\n\" +\n    \"    <p><strong>To complete this task you must:</strong><br/>\\n\" +\n    \"        {{ $task->submission }}\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"    <form class=\\\"form-horizontal well\\\" method=\\\"post\\\" action=\\\"submit\\\">\\n\" +\n    \"        {!! csrf_field() !!}\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group <?=($errors->get('picture') ? 'has-error' : '')?>\\\">\\n\" +\n    \"            <label class=\\\"col-md-4 control-label\\\">Picture <i class=\\\"fa fa-picture\\\"></i></label>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"col-md-8\\\">\\n\" +\n    \"                <input type=\\\"hidden\\\"\\n\" +\n    \"                       class=\\\"form-control\\\"\\n\" +\n    \"                       name=\\\"picture\\\"\\n\" +\n    \"                       value=\\\"{{ old('picture') ? old('picture') : '' }}\\\"\\n\" +\n    \"                       required/>\\n\" +\n    \"                <?php\\n\" +\n    \"                foreach ($errors->get('picture') as $error) {\\n\" +\n    \"                echo '<span class=\\\"help-block\\\">' . $error . '</span>';\\n\" +\n    \"                }\\n\" +\n    \"                ?>\\n\" +\n    \"                <a href=\\\"#\\\" class=\\\"btn\\\" id=\\\"task-submit-upload-picture-btn\\\"><i class=\\\"fa fa-camera\\\"></i> Upload a\\n\" +\n    \"                    picture</a>\\n\" +\n    \"\\n\" +\n    \"                <img src=\\\"{{ old('picture') ? old('picture') : '' }}\\\" id=\\\"task-submit-picture\\\"/>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"form-group\\\">\\n\" +\n    \"            <div class=\\\"col-md-8 col-md-offset-4\\\">\\n\" +\n    \"                <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Submit</button>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\\n\" +\n    \"@endsection\\n\"\n  );\n\n\n  $templateCache.put('views/pages/task/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"    <div class=\\\"container task-page\\\" ng-if=\\\"task\\\" ng-class=\\\"{'post-page': !!post}\\\">\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"titlecrumbs task-title\\\" ng-if=\\\"!post\\\">\\n\" +\n    \"            <h2 class=\\\"sticker-name\\\">\\n\" +\n    \"                <a href=\\\"/sticker/{{ task.sticker.slug }}\\\">\\n\" +\n    \"                    <span class=\\\"sticker sticker-sm\\\" img=\\\"{{ task.sticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"                    {{task.sticker.name }} Sticker\\n\" +\n    \"                </a>\\n\" +\n    \"            </h2>\\n\" +\n    \"\\n\" +\n    \"            <h1 class=\\\"task-name\\\">\\n\" +\n    \"                <i class=\\\"fa fa-check-square\\\"></i> {{ task.name }}\\n\" +\n    \"            </h1>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div id=\\\"task-btns\\\" ng-if=\\\"currentUser\\\">\\n\" +\n    \"            <div class=\\\"row\\\">\\n\" +\n    \"                <div class=\\\"col-xs-6\\\">\\n\" +\n    \"                    <a ng-click=\\\"showPostForm()\\\" class=\\\"new-post-btn btn btn-labeled btn-block\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                        Add A <span class=\\\"hidden-xs\\\">Tip / Question</span><span class=\\\"visible-xs-inline\\\">Post</span>\\n\" +\n    \"                    </a>\\n\" +\n    \"                </div>\\n\" +\n    \"                <div class=\\\"col-xs-6\\\">\\n\" +\n    \"                    <a class=\\\"btn btn-danger btn-remove-todo btn-labeled btn-block\\\"\\n\" +\n    \"                       href=\\\"#\\\"\\n\" +\n    \"                       ng-click=\\\"removeToDo()\\\"\\n\" +\n    \"                       ng-if=\\\"isOnToDoList\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-minus-circle\\\"></i></span>\\n\" +\n    \"                        Remove <span class=\\\"hidden-xs\\\">from </span>To-Do <span class=\\\"hidden-xs\\\">List</span>\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-success btn-add-todo btn-labeled btn-block\\\"\\n\" +\n    \"                       href=\\\"#\\\"\\n\" +\n    \"                       ng-click=\\\"addToDo()\\\"\\n\" +\n    \"                       ng-if=\\\"!isOnToDoList\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"                        Add <span class=\\\"hidden-xs\\\">to </span>To-Do <span class=\\\"hidden-xs\\\">List</span>\\n\" +\n    \"                    </a>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"row clear\\\">\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"content-col\\\" ng-class=\\\"{'col-md-6': !post, 'col-md-8': !!post}\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"titlecrumbs post-title\\\" ng-if=\\\"post\\\">\\n\" +\n    \"                    <h3 class=\\\"sticker-name\\\">\\n\" +\n    \"                        <a href=\\\"/sticker/{{ task.sticker.slug }}\\\">\\n\" +\n    \"                            <span class=\\\"sticker sticker-sm\\\" img=\\\"{{ task.sticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"                            {{task.sticker.name }} Sticker\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </h3>\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"task-name\\\">\\n\" +\n    \"                        <a href=\\\"/task/{{task.slug}}\\\" ng-click=\\\"goToTask($event, task)\\\">\\n\" +\n    \"                            <i class=\\\"fa fa-check-square\\\"></i> {{ task.name }}\\n\" +\n    \"                        </a>\\n\" +\n    \"                    </h2>\\n\" +\n    \"\\n\" +\n    \"                    <h1 class=\\\"post-name\\\">\\n\" +\n    \"                        <i class=\\\"fa fa-file-text-o\\\"></i> {{ post.title }}\\n\" +\n    \"                    </h1>\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-if=\\\"post\\\" class=\\\"clear\\\">\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"post single-post\\\"\\n\" +\n    \"                         ng-controller=\\\"PostsController\\\"\\n\" +\n    \"                         ng-class=\\\"{'liked': !!post.liked, 'like-clicked': !!post.likeClicked}\\\">\\n\" +\n    \"\\n\" +\n    \"                        <a class=\\\"like-btn\\\" ng-click=\\\"likePost($event, post)\\\" href=\\\"#\\\">\\n\" +\n    \"                            <span><i class=\\\"fa fa-heart-o\\\"></i> {{ post.likeCount }}</span>\\n\" +\n    \"                        </a>\\n\" +\n    \"\\n\" +\n    \"                        <ul class=\\\"post-info\\\">\\n\" +\n    \"                            <li>\\n\" +\n    \"                                <a href=\\\"/user/{{post.user.username}}\\\">\\n\" +\n    \"                                    <img ng-if=\\\"post.user.image\\\" ng-src=\\\"{{post.user.image.thumbUrl}}\\\" class=\\\"user-image\\\" />\\n\" +\n    \"                                    <i ng-if=\\\"!post.user.image\\\" class=\\\"fa fa-user\\\"></i> {{post.user.username}}</a>\\n\" +\n    \"                            </li>\\n\" +\n    \"                            <li><a href=\\\"/task/{{post.task.slug}}/{{post.slug}}\\\"><i class=\\\"fa fa-clock-o\\\"></i> <span\\n\" +\n    \"                                    am-time-ago=\\\"post.createdAt\\\"></span></a></li>\\n\" +\n    \"                        </ul>\\n\" +\n    \"\\n\" +\n    \"                        <p ng-bind-html=\\\"post.text | markdown\\\"></p>\\n\" +\n    \"\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div\\n\" +\n    \"                        class=\\\"single-post-images\\\"\\n\" +\n    \"                        ng-if=\\\"post.images\\\"\\n\" +\n    \"                        masonry='{\\n\" +\n    \"                            \\\"transitionDuration\\\": 0,\\n\" +\n    \"                            \\\"itemSelector\\\": \\\"div\\\"\\n\" +\n    \"                            }'>\\n\" +\n    \"                        <div ng-repeat=\\\"image in post.images\\\">\\n\" +\n    \"                            <a href=\\\"{{image.url}}\\\" target=\\\"_blank\\\">\\n\" +\n    \"                                <img ng-src=\\\"{{image.url}}\\\" masonry-image />\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </div>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"                    <a class=\\\"btn btn-block btn-labeled add-comment-btn\\\"\\n\" +\n    \"                       href=\\\"#\\\"\\n\" +\n    \"                       ng-click=\\\"showCommentForm($event)\\\"\\n\" +\n    \"                       ng-hide=\\\"commentFormVisible\\\">\\n\" +\n    \"                        <span class=\\\"btn-label\\\"><i class=\\\"fa fa-comment\\\"></i></span>\\n\" +\n    \"                        Add A Comment\\n\" +\n    \"                    </a>\\n\" +\n    \"\\n\" +\n    \"                    <h2 class=\\\"hidden-sm hidden-xs\\\">Comments</h2>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"comments\\\" id=\\\"comment-form-container\\\">\\n\" +\n    \"                        <div ng-include=\\\"'views/partials/comment-form.html'\\\" id=\\\"comment-form-include\\\"></div>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"comments\\\" ng-controller=\\\"CommentsController\\\">\\n\" +\n    \"                        <div class=\\\"comment-include\\\"\\n\" +\n    \"                             ng-repeat=\\\"comment in comments.comments\\\"\\n\" +\n    \"                             ng-include=\\\"'views/partials/comment.html'\\\"></div>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"                <div ng-if=\\\"!post\\\">\\n\" +\n    \"\\n\" +\n    \"                    <div class=\\\"alert alert-info text-center\\\">\\n\" +\n    \"                        <small><i class=\\\"fa fa-check-square\\\"></i> To complete this task and earn credit towards the\\n\" +\n    \"                            <strong>{{\\n\" +\n    \"                                task.sticker.name }}</strong> sticker:\\n\" +\n    \"                        </small>\\n\" +\n    \"\\n\" +\n    \"                        <p>{{ task.submission }}</p>\\n\" +\n    \"\\n\" +\n    \"                        <p>\\n\" +\n    \"                            <a class=\\\"btn btn-block btn-labeled\\\" ng-click=\\\"showSubmissionForm()\\\">\\n\" +\n    \"                                <span class=\\\"btn-label\\\"><i class=\\\"fa fa-check-circle\\\"></i></span>\\n\" +\n    \"                                I've Done It!\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </p>\\n\" +\n    \"                    </div>\\n\" +\n    \"\\n\" +\n    \"                    <!--<ul id=\\\"task-details\\\" class=\\\"clearfix\\\">\\n\" +\n    \"                        <li><strong>Cost</strong>\\n\" +\n    \"                            <i class=\\\"fa fa-usd\\\"></i><i class=\\\"fa fa-usd\\\"></i><i class=\\\"fa fa-usd\\\"></i>\\n\" +\n    \"                        </li>\\n\" +\n    \"                        <li><strong>Time</strong> 5 hours</li>\\n\" +\n    \"                        <li><strong>Type</strong> <i class=\\\"fa fa-user\\\"></i> Alone <i class=\\\"fa fa-users\\\"></i> Group\\n\" +\n    \"                            <i class=\\\"fa fa-globe\\\"></i> Travel\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>-->\\n\" +\n    \"\\n\" +\n    \"                    <p>{{ task.description }}</p>\\n\" +\n    \"\\n\" +\n    \"                    <h2><i class=\\\"fa fa-users\\\"></i> Working On It</h2>\\n\" +\n    \"                    <div class=\\\"user-list\\\" data=\\\"doers\\\" like=\\\"likeDoer\\\"></div>\\n\" +\n    \"\\n\" +\n    \"                </div>\\n\" +\n    \"\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"posts-col\\\" ng-class=\\\"{'col-md-6': !post, 'col-md-4': !!post}\\\">\\n\" +\n    \"                <div class=\\\"posts-container\\\">\\n\" +\n    \"\\n\" +\n    \"                    <!--<ul class=\\\"tabs tabs-2 post-order-tabs\\\" ng-if=\\\"!post\\\">\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postsOrder === 'newest' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostsOrder('newest')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-bars\\\"></i> Recent <strong class=\\\"visible-lg-inline\\\">Posts</strong>\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                        <li ng-class=\\\"{'tab-current': postsOrder === 'featured' }\\\">\\n\" +\n    \"                            <a href=\\\"#\\\" ng-click=\\\"setPostsOrder('featured')\\\">\\n\" +\n    \"                                <i class=\\\"fa fa-fw fa-star\\\"></i> Featured\\n\" +\n    \"                                <strong class=\\\"visible-lg-inline\\\">Posts</strong>\\n\" +\n    \"                            </a>\\n\" +\n    \"                        </li>\\n\" +\n    \"                    </ul>-->\\n\" +\n    \"\\n\" +\n    \"                    <div ng-include=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></div>\\n\" +\n    \"                </div>\\n\" +\n    \"            </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/stickers.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>{{ user.username }}'s Stickers</h1>\\n\" +\n    \"\\n\" +\n    \"    <ul>\\n\" +\n    \"        <li ng-repeat=\\\"sticker in stickers\\\"><a href=\\\"/sticker/{{ sticker.slug }}\\\">{{ sticker.name }}</a></li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/submissions.html',\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1>{{ user.username }}'s Submissions</h1>\\n\" +\n    \"\\n\" +\n    \"    <ul>\\n\" +\n    \"        <li ng-repeat=\\\"submission in submissions\\\">\\n\" +\n    \"            {{ submission | json }}\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/todo.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"\\n\" +\n    \"    <h1>{{ user.username }}'s To Do List</h1>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"    <ul class=\\\"task-list\\\">\\n\" +\n    \"        <li ng-repeat=\\\"task in tasks\\\">\\n\" +\n    \"            <a href=\\\"/task/{{ task.slug }}\\\">\\n\" +\n    \"                <span class=\\\"sticker-name\\\">{{ task.sticker.name }}</span>\\n\" +\n    \"                <i class=\\\"fa fa-circle\\\"></i>\\n\" +\n    \"                {{ task.name }}\\n\" +\n    \"            </a>\\n\" +\n    \"        </li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/pages/user/view.html',\n    \"<div class=\\\"content\\\">\\n\" +\n    \"<div class=\\\"container\\\">\\n\" +\n    \"    <h1><img class=\\\"user-image\\\" ng-src=\\\"{{user.image.thumbUrl}}\\\" ng-if=\\\"user.image\\\" />{{ user.username }}</h1>\\n\" +\n    \"\\n\" +\n    \"    <h2 ng-if=\\\"user.profile.about\\\">About {{ user.username }}</h2>\\n\" +\n    \"    <p ng-if=\\\"user.profile.about\\\">{{ user.profile.about }}</png-if>\\n\" +\n    \"\\n\" +\n    \"    <h2>Stickers</h2>\\n\" +\n    \"    <span ng-repeat=\\\"sticker in stickers.stickers\\\" class=\\\"sticker\\\" img=\\\"{{ sticker.design.imageUrl }}\\\"></span>\\n\" +\n    \"\\n\" +\n    \"    <h2>To Do</h2>\\n\" +\n    \"    <ul>\\n\" +\n    \"        <li ng-repeat=\\\"task in todo\\\"><a href=\\\"/task/{{ task.slug }}\\\">{{ task.name }}</a></li>\\n\" +\n    \"    </ul>\\n\" +\n    \"\\n\" +\n    \"    <h2>Posts</h2>\\n\" +\n    \"    <ng-include src=\\\"'views/partials/post-list.html'\\\" ng-controller=\\\"PostsController\\\"></ng-include>\\n\" +\n    \"</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/comment-form.html',\n    \"<form ng-submit=\\\"addComment()\\\" class=\\\"comment comment-form\\\" ng-if=\\\"commentFormVisible\\\">\\n\" +\n    \"    <div class=\\\"inner\\\">\\n\" +\n    \"        <textarea id=\\\"comment-text\\\" class=\\\"form-control\\\" ng-model=\\\"commentFormData.comment\\\"></textarea>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"author\\\">\\n\" +\n    \"        <i class=\\\"fa fa-user\\\"></i> {{ currentUser.username }}\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"actions\\\">\\n\" +\n    \"        <a class=\\\"btn btn-danger btn-labeled\\\" ng-click=\\\"hideCommentForm()\\\">\\n\" +\n    \"            <span class=\\\"btn-label\\\"><i class=\\\"fa fa-times\\\"></i></span>\\n\" +\n    \"            Cancel\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-labeled\\\">\\n\" +\n    \"            <span class=\\\"btn-label\\\"><i class=\\\"fa fa-plus-circle\\\"></i></span>\\n\" +\n    \"            Add Comment\\n\" +\n    \"        </button>\\n\" +\n    \"    </span>\\n\" +\n    \"</form>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/comment-list.html',\n    \"<div class=\\\"comments\\\">\\n\" +\n    \"    <ng-include ng-repeat=\\\"comment in comment.replies\\\" src=\\\"'views/partials/comment.html'\\\"></ng-include>\\n\" +\n    \"\\n\" +\n    \"    <div ng-repeat=\\\"comment in comments.comments\\\">\\n\" +\n    \"        <ng-include src=\\\"'views/partials/comment.html'\\\"></ng-include>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/comment.html',\n    \"<div class=\\\"comment\\\" ng-class=\\\"{'liked': !!comment.liked, 'like-clicked': !!comment.likeClicked}\\\" data-commentid=\\\"{{comment.id}}\\\">\\n\" +\n    \"    <div class=\\\"inner\\\">\\n\" +\n    \"        <a class=\\\"like-btn\\\" ng-click=\\\"likeComment($event, comment)\\\" href=\\\"#\\\">\\n\" +\n    \"            <span><i class=\\\"fa fa-heart-o\\\"></i> {{ comment.likeCount }}</span>\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <div ng-bind-html=\\\"comment.comment | markdown\\\"></div>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"author\\\">\\n\" +\n    \"        <a href=\\\"/user/{{ comment.user.username }}\\\">\\n\" +\n    \"            <img ng-if=\\\"comment.user.image\\\" ng-src=\\\"{{comment.user.image.thumbUrl}}\\\" class=\\\"user-image\\\" />\\n\" +\n    \"            <i ng-if=\\\"!comment.user.image\\\" class=\\\"fa fa-user\\\"></i> {{ comment.user.username }}\\n\" +\n    \"        </a>\\n\" +\n    \"\\n\" +\n    \"        <!-- TODO: Permalink -->\\n\" +\n    \"        <a href=\\\"#\\\"><i class=\\\"fa fa-clock-o\\\"></i> <span am-time-ago=\\\"comment.createdAt\\\"></span></a>\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <span class=\\\"actions\\\">\\n\" +\n    \"\\n\" +\n    \"        <!--{{ comment.replies.length }} loaded / {{ comment.replyCount }} replies-->\\n\" +\n    \"\\n\" +\n    \"        <span ng-switch on=\\\"(comment.replyCount > 0 && !comment.replies) || comment.replies.length < comment.replyCount\\\">\\n\" +\n    \"\\n\" +\n    \"            <a ng-switch-when=\\\"true\\\" href=\\\"#\\\" ng-click=\\\"loadCommentReplies($event, comment)\\\">\\n\" +\n    \"                <i class=\\\"fa fa-comments\\\"></i> Load {{ comment.replyCount - (comment.replies ? comment.replies.length : 0) }} more replies\\n\" +\n    \"            </a>\\n\" +\n    \"\\n\" +\n    \"            <a ng-switch-default href=\\\"#\\\" ng-click=\\\"showCommentForm($event, comment)\\\"><i class=\\\"fa fa-commenting\\\"></i> Add Reply</a>\\n\" +\n    \"\\n\" +\n    \"        </span>\\n\" +\n    \"\\n\" +\n    \"    </span>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"comments replies comment-replies-{{comment.depth}}\\\">\\n\" +\n    \"        <div class=\\\"comment-include\\\" ng-repeat=\\\"comment in comment.replies\\\" ng-include=\\\"'views/partials/comment.html'\\\"></div>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/footer.html',\n    \"<footer>\\n\" +\n    \"    <div class=\\\"container-fluid\\\">\\n\" +\n    \"        <div class=\\\"pull-left\\\">\\n\" +\n    \"            Footer goes here!\\n\" +\n    \"        </div>\\n\" +\n    \"        <div class=\\\"pull-right\\\">\\n\" +\n    \"            <a href=\\\"#\\\">Link</a> &nbsp; | &nbsp;\\n\" +\n    \"            <a href=\\\"#\\\">Link</a>\\n\" +\n    \"        </div>\\n\" +\n    \"    </div>\\n\" +\n    \"</footer>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/header.html',\n    \"<header class=\\\"navbar\\\" id=\\\"top-bar\\\">\\n\" +\n    \"    <div class=\\\"container-fluid\\\">\\n\" +\n    \"\\n\" +\n    \"        <div class=\\\"navbar-header\\\" ng-class=\\\"{'has-title':pageTitle}\\\">\\n\" +\n    \"\\n\" +\n    \"            <a href=\\\"#\\\" ng-click=\\\"back()\\\" class=\\\"navbar-back\\\"><i class=\\\"fa fa-chevron-left\\\"></i></a>\\n\" +\n    \"\\n\" +\n    \"            <button type=\\\"button\\\" class=\\\"navbar-toggle\\\">\\n\" +\n    \"                <span class=\\\"navbar-toggle-icon\\\">\\n\" +\n    \"                    <span></span>\\n\" +\n    \"                </span>\\n\" +\n    \"            </button>\\n\" +\n    \"\\n\" +\n    \"            <a ui-sref=\\\"home\\\" class=\\\"navbar-brand\\\"><img src=\\\"/assets/img/stickable-white.svg\\\" alt=\\\"Stickable\\\" /></a>\\n\" +\n    \"\\n\" +\n    \"            <h1>{{ pageTitle }}</h1>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        <nav role=\\\"navigation\\\" id=\\\"top-bar-nav\\\">\\n\" +\n    \"\\n\" +\n    \"            <ul class=\\\"nav navbar-nav\\\">\\n\" +\n    \"                <li class=\\\"hidden-lg\\\"><a href=\\\"/\\\"><i class=\\\"fa fa-home fa-fw\\\"></i> Front Page</a></li>\\n\" +\n    \"                <li><a href=\\\"/bot\\\"><i class=\\\"fa fa-android fa-fw\\\"></i> Stickerbot</a></li>\\n\" +\n    \"                <li><a href=\\\"/browse\\\"><i class=\\\"fa fa-folder fa-fw\\\"></i> Browse</a></li>\\n\" +\n    \"                <li><a ui-sref=\\\"help\\\"><i class=\\\"fa fa-question fa-fw\\\"></i> Help</a></li>\\n\" +\n    \"            </ul>\\n\" +\n    \"\\n\" +\n    \"            <ul class=\\\"nav navbar-nav navbar-right nav-logged-in\\\" ng-if=\\\"currentUser\\\">\\n\" +\n    \"\\n\" +\n    \"                <li ng-if=\\\"currentUser.admin\\\">\\n\" +\n    \"                    <a href=\\\"http://admin.local.stickable.io\\\"><i class=\\\"fa fa-tachometer fa-fw\\\"></i> Admin</a></li>\\n\" +\n    \"                <li><a href=\\\"/user/{{ currentUser.username }}/todo\\\"><i class=\\\"fa fa-check-square-o fa-fw\\\"></i> To Do\\n\" +\n    \"                    List</a></li>\\n\" +\n    \"                <li><a href=\\\"/user/{{ currentUser.username }}/submissions\\\"><i class=\\\"fa fa-camera-retro fa-fw\\\"></i> Your\\n\" +\n    \"                    Submissions</a></li>\\n\" +\n    \"                <li><a href=\\\"/user/{{ currentUser.username }}/stickers\\\"><i class=\\\"fa fa-trophy fa-fw\\\"></i> Your Stickers</a>\\n\" +\n    \"                </li>\\n\" +\n    \"\\n\" +\n    \"                <li class=\\\"dropdown\\\">\\n\" +\n    \"                    <a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\">\\n\" +\n    \"                        <span ng-show=\\\"notifications.length > 0\\\" class=\\\"notification\\\">{{ notifications.length }}</span>\\n\" +\n    \"                        <i class=\\\"fa fa-envelope fa-fw\\\"></i> <span class=\\\"hidden-lg\\\">Notifications</span>\\n\" +\n    \"                        <b class=\\\"caret visible-lg-inline-block\\\"></b>\\n\" +\n    \"                    </a>\\n\" +\n    \"                    <notifications></notifications>\\n\" +\n    \"                </li>\\n\" +\n    \"\\n\" +\n    \"                <li class=\\\"dropdown\\\">\\n\" +\n    \"                    <a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> {{\\n\" +\n    \"                        currentUser.username }} <b class=\\\"caret\\\"></b></a>\\n\" +\n    \"                    <ul class=\\\"dropdown-menu\\\">\\n\" +\n    \"                        <li><a href=\\\"/user/{{ currentUser.username }}\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Profile</a></li>\\n\" +\n    \"                        <li class=\\\"divider\\\"></li>\\n\" +\n    \"                        <li><a href=\\\"/settings\\\"><i class=\\\"fa fa-cog fa-fw\\\"></i> Settings</a></li>\\n\" +\n    \"                        <li class=\\\"divider\\\"></li>\\n\" +\n    \"                        <li><a href=\\\"#\\\" ng-click=\\\"logout()\\\"><i class=\\\"fa fa-unlock-alt fa-fw\\\"></i> Logout</a></li>\\n\" +\n    \"                    </ul>\\n\" +\n    \"                </li>\\n\" +\n    \"            </ul>\\n\" +\n    \"\\n\" +\n    \"            <form class=\\\"navbar-form navbar-right visible-lg\\\" ng-submit=\\\"login()\\\" ng-if=\\\"currentUser === false\\\">\\n\" +\n    \"\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <input id=\\\"header-username\\\"\\n\" +\n    \"                           type=\\\"text\\\"\\n\" +\n    \"                           class=\\\"form-control input-sm\\\"\\n\" +\n    \"                           name=\\\"username\\\"\\n\" +\n    \"                           placeholder=\\\"Username\\\"\\n\" +\n    \"                           ng-model=\\\"loginFormData.username\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"                <div class=\\\"form-group\\\">\\n\" +\n    \"                    <input id=\\\"header-password\\\"\\n\" +\n    \"                           type=\\\"password\\\"\\n\" +\n    \"                           class=\\\"form-control input-sm\\\"\\n\" +\n    \"                           name=\\\"password\\\"\\n\" +\n    \"                           placeholder=\\\"Password\\\"\\n\" +\n    \"                           ng-model=\\\"loginFormData.password\\\"/>\\n\" +\n    \"                </div>\\n\" +\n    \"                <button id=\\\"header-login-btn\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-key fa-fw\\\"\\n\" +\n    \"                                                                                       ng-hide=\\\"loginFormData.loading\\\"></i><i\\n\" +\n    \"                        class=\\\"fa fa-spinner fa-spin fa-fw\\\"\\n\" +\n    \"                        ng-show=\\\"loginFormData.loading\\\"></i> Login\\n\" +\n    \"                </button>\\n\" +\n    \"                <a class=\\\"btn\\\" href=\\\"/signup\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Signup</a>\\n\" +\n    \"            </form>\\n\" +\n    \"            <ul class=\\\"nav navbar-nav navbar-right nav-logged-out\\\" ng-if=\\\"currentUser === false\\\">\\n\" +\n    \"                <li class=\\\"hidden-lg\\\"><a href=\\\"/login\\\"><i class=\\\"fa fa-key fa-fw\\\"></i> Login</a></li>\\n\" +\n    \"                <li class=\\\"hidden-lg\\\"><a href=\\\"/signup\\\"><i class=\\\"fa fa-user fa-fw\\\"></i> Signup</a></li>\\n\" +\n    \"            </ul>\\n\" +\n    \"\\n\" +\n    \"\\n\" +\n    \"        </nav>\\n\" +\n    \"    </div>\\n\" +\n    \"</header>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/post-list.html',\n    \"<ul class=\\\"posts media-list to-edge\\\">\\n\" +\n    \"\\n\" +\n    \"    <li class=\\\"post media\\\"\\n\" +\n    \"        ng-repeat=\\\"thisPost in posts.posts\\\"\\n\" +\n    \"        ng-class=\\\"{'with-task': !!showPostTasks, 'liked': !!thisPost.liked, 'like-clicked': !!thisPost.likeClicked}\\\"\\n\" +\n    \"            ng-if=\\\"!post || post.id != thisPost.id\\\">\\n\" +\n    \"\\n\" +\n    \"        <span class=\\\"media-left media-middle\\\" ng-if=\\\"thisPost.image\\\">\\n\" +\n    \"            <a href=\\\"/task/{{ (thisPost.task ? thisPost.task.slug : (task ? task.slug : ''))}}/{{ thisPost.slug }}\\\"\\n\" +\n    \"               ng-click=\\\"goToPost($event, thisPost)\\\">\\n\" +\n    \"                <img class=\\\"media-object\\\" ng-src=\\\"{{ thisPost.image.thumbUrl }}\\\"/>\\n\" +\n    \"            </a>\\n\" +\n    \"        </span>\\n\" +\n    \"        <span class=\\\"media-body media-middle\\\">\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"like-btn\\\" ng-click=\\\"likePost($event, thisPost)\\\" href=\\\"#\\\">\\n\" +\n    \"                <span><i class=\\\"fa fa-heart-o\\\"></i> {{ thisPost.likeCount }}</span>\\n\" +\n    \"            </a>\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"task\\\" ng-if=\\\"showPostTasks\\\"><i class=\\\"fa fa-check-square-o\\\"></i> {{ thisPost.task.name }}</span>\\n\" +\n    \"\\n\" +\n    \"            <a class=\\\"title\\\"\\n\" +\n    \"               href=\\\"/task/{{ (thisPost.task ? thisPost.task.slug : (task ? task.slug : ''))}}/{{ thisPost.slug }}\\\"\\n\" +\n    \"               ng-click=\\\"goToPost($event, thisPost)\\\">{{ thisPost.title }}</a>\\n\" +\n    \"\\n\" +\n    \"            <span class=\\\"details\\\">\\n\" +\n    \"\\n\" +\n    \"                <i class=\\\"fa\\\"\\n\" +\n    \"                   ng-class=\\\"{'fa-check-circle': thisPost.type === 'SUBMISSION', 'fa-question-circle' : thisPost.type === 'QUESTION', 'fa-info-circle' : thisPost.type === 'TIP'}\\\"></i>\\n\" +\n    \"                {{ thisPost.type.capitalizeFirstLetter() }}\\n\" +\n    \"\\n\" +\n    \"                <i class=\\\"fa fa-user\\\"></i> {{ thisPost.user.username }}\\n\" +\n    \"                <i class=\\\"fa fa-comment\\\"></i> {{ thisPost.commentCount }}\\n\" +\n    \"            </span>\\n\" +\n    \"        </span>\\n\" +\n    \"\\n\" +\n    \"    </li>\\n\" +\n    \"\\n\" +\n    \"</ul>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/submission-forms/image.html',\n    \"\\n\" +\n    \"<div class=\\\"dropzone needsclick\\\" id=\\\"post-file\\\">\\n\" +\n    \"    <div class=\\\"fallback\\\">\\n\" +\n    \"        <input name=\\\"file\\\" type=\\\"file\\\" multiple />\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"    <a class=\\\"btn btn-lg btn-primary btn-labeled dropzone-btn needsclick\\\">\\n\" +\n    \"        <i class=\\\"fa fa-camera fa-2x\\\"></i><br/>\\n\" +\n    \"        Select Photos\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"dz-message\\\">\\n\" +\n    \"        <i class=\\\"fa fa-info-circle\\\"></i> Select photos for your submission or drag them to this box.\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<p class=\\\"submission-help submission-photo-help\\\"><i class=\\\"fa fa-info-circle\\\"></i> You can either show yourself in the photo or your username should be in the photo (on a piece of paper for example, not added with Photoshop). Your photo will only be made public if you choose to do so. Our moderators will check the photo to ensure it meets the requirements of this task.</p>\\n\"\n  );\n\n\n  $templateCache.put('views/partials/submission-forms/text.html',\n    \"<textarea placeholder=\\\"Write stuff here.\\\" ng-model=\\\"submissionFormData.text\\\"></textarea>\\n\"\n  );\n\n}]);\n","app.controller(\n    'BotController',\n    function ($scope, $rootScope) {\n        $rootScope.pageTitle = '';\n    }\n);\n","app.controller(\n    'BrowseController',\n    function ($scope, $rootScope, CategoryResource) {\n        $rootScope.pageTitle = '';\n        $scope.categories = CategoryResource.query();\n    }\n);\n","app.controller(\n    'CategoryController',\n    function ($scope, $rootScope, $state, $stateParams, $element, CategoryResource) {\n\n        $rootScope.loading = true;\n\n        $scope.category = null;\n        $scope.hasSubcategories = false;\n        $scope.hasStickers = false;\n        $rootScope.pageTitle = '';\n\n        CategoryResource.get({slug: $stateParams.slug}, function (category) {\n\n            $scope.category = category;\n            $rootScope.pageTitle = category.name;\n\n            $scope.hasSubcategories = category.subcategories.length > 0;\n            $scope.hasStickers = category.stickers.length > 0;\n            $element.css('background-image', 'url(' + category.bgUrl + ')');\n\n        });\n    }\n);\n","app.controller(\n    'HomeController',\n    function ($scope, $rootScope, CategoryResource, PostResource) {\n\n        $rootScope.pageTitle = '';\n\n        /*var splashImages = [\n            'aurora',\n            'field',\n            'girl',\n            'hiking',\n            'stars',\n            'surfboard',\n            'trees'\n        ];\n        splashImages.shuffle();\n        $scope.splashImage = '/assets/img/splash/' + splashImages[0] + '.jpg';*/\n\n        //$scope.categories = CategoryResource.query();\n\n        $scope.showPostTasks = true;\n        $scope.posts = PostResource.query();\n    }\n);\n","app.controller(\n    'SettingsController',\n    function ($scope, $rootScope, $state, $stateParams, AuthService, UserResource, $timeout) {\n\n        $scope.hasNewImage = false;\n\n        var dropzone;\n        $timeout(function () {\n            dropzone = new Dropzone(\"#settings-image\", {\n                acceptedFiles: \"image/*\",\n                maxFiles: 1,\n                autoProcessQueue: false,\n                url: '/api/images?sessionToken=' + AuthService.getSessionToken(),\n                clickable: '.dropzone-btn',\n                thumbnailWidth: 100,\n            });\n\n            dropzone.on(\"addedfile\", function () {\n                if (dropzone.files[1] != null) {\n                    dropzone.removeFile(dropzone.files[0]);\n                }\n                $scope.hasNewImage = dropzone.files.length > 0;\n                $scope.$apply();\n            });\n\n            dropzone.on('success', function (file) {\n                console.log(file);\n                var response = JSON.parse(file.xhr.response);\n                console.log('response');\n                if (response && response.hasOwnProperty('image')) {\n                    $scope.formData.imageId = response.image.id;\n                }\n                console.log('$scope.formData', $scope.formData);\n                $scope.finishSubmit();\n            });\n\n            dropzone.on('error', function (file, errorMessage) {\n                alertError('Unable to save avatar. ' + errorMessage.message);\n            });\n\n            dropzone.on(\"removedfile\", function () {\n                $scope.hasNewImage = dropzone.files.length > 0;\n                $scope.formData.imageId = false;\n                try {\n                    if(!$scope.$$phase) {\n                        $scope.$apply();\n                    }\n                } catch (e) {\n\n                }\n            });\n\n        }, 10);\n\n        $scope.formData = {\n            about: '',\n            imageId: ''\n        };\n        $scope.user = null;\n\n        $scope.init = function () {\n\n            if (!$rootScope.currentUser) {\n                return false;\n            }\n\n            UserResource.get({username: $rootScope.currentUser.username}, function (user) {\n                console.log(user);\n                $scope.user = user;\n                $scope.formData.about = user.profile.about;\n            });\n        };\n\n        $rootScope.$on('login', function () {\n            $scope.init();\n        });\n\n        $scope.init();\n\n        $scope.submit = function () {\n            if ($scope.hasNewImage) {\n                // Send avatar to server\n                dropzone.processQueue();\n            } else {\n                $scope.finishSubmit();\n            }\n        };\n\n        $scope.finishSubmit = function () {\n            UserResource.update(\n                {username: $rootScope.currentUser.username},\n                $scope.formData,\n                function (response) {\n                    $scope.user = response.user;\n                    $scope.hasNewImage = false;\n                    dropzone.removeAllFiles();\n                    alertSuccess(\"Changes saved\");\n                },\n                function (response) {\n                    $scope.formData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('picture')\n                            ||\n                            response.data.messages.hasOwnProperty('about')\n                        )\n                    ) {\n                        $scope.formData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            )\n\n        };\n    }\n);\n","app.controller(\n    'StickerController',\n    function ($scope, $rootScope, $state, $stateParams, StickerResource, ToDoResource, ProgressService) {\n\n        $rootScope.loading = true;\n\n        $scope.sticker = null;\n        $scope.progress = null;\n\n        StickerResource.get({slug: $stateParams.slug}, function (sticker) {\n            $rootScope.loading = false;\n            //$rootScope.pageTitle = sticker.name;\n\n            $scope.sticker = sticker;\n            $scope.progress = ProgressService.getProgress(sticker);\n\n            $scope.loadDoers();\n            $scope.earners = StickerResource.getEarners({slug: sticker.slug});\n        });\n\n        $scope.loadDoers = function() {\n            StickerResource.getDoers({slug: $scope.sticker.slug}, function (result) {\n                $scope.doers = result;\n            });\n        };\n\n        $scope.addToDo = function () {\n            console.log('addToDo');\n            ToDoResource.save(\n                {username: $rootScope.currentUser.username},\n                {stickerId: $scope.sticker.id},\n                function (result) {\n                    alertSuccess('Added to To Do List');\n                    $scope.sticker.isOnToDoList = true;\n                    $scope.loadDoers();\n                },\n                function (result) {\n                    alertError(result.data.message);\n                }\n            );\n        };\n\n        $scope.removeToDo = function () {\n            ToDoResource.delete(\n                {username: $rootScope.currentUser.username},\n                {stickerId: $scope.sticker.id},\n                function (result) {\n                    alertSuccess('Removed from To Do List');\n                    $scope.sticker.isOnToDoList = false;\n                    $scope.loadDoers();\n                },\n                function (result) {\n                    alertError(result.data.message);\n                }\n            );\n        };\n\n        $scope.likeEarner = function($event, earner) {\n            preventDefault($event);\n\n            earner.likeClicked = true;\n            earner.pivot.liked = earner.pivot.liked ? false : true;\n\n            if (earner.pivot.liked) {\n                earner.likeCount = earner.pivot.likeCount = parseInt(earner.pivot.likeCount) + 1;\n                StickerResource.likeEarner({slug: $scope.sticker.slug, earntId: earner.pivot.id});\n            } else {\n                earner.likeCount = earner.pivot.likeCount = parseInt(earner.pivot.likeCount) - 1;\n                StickerResource.unlikeEarner({slug: $scope.sticker.slug, earntId: earner.pivot.id});\n            }\n\n            earner.likeCount = earner.pivot.likeCount;\n        };\n\n        $scope.likeDoer = function($event, doer) {\n            preventDefault($event);\n\n            doer.likeClicked = true;\n            doer.pivot.liked = doer.pivot.liked ? false : true;\n\n            if (doer.pivot.liked) {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) + 1;\n                ToDoResource.likeDoer({toDoId: doer.pivot.id});\n            } else {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) - 1;\n                ToDoResource.unlikeDoer({toDoId: doer.pivot.id});\n            }\n\n            doer.likeCount = doer.pivot.likeCount;\n        };\n    }\n);\n","app.controller(\n    'TaskController',\n    function ($scope,\n              $rootScope,\n              $element,\n              $state,\n              $stateParams,\n              $timeout,\n              ModalService,\n              TaskResource,\n              SubmissionResource,\n              ToDoResource,\n              PostResource,\n              CommentResource) {\n\n        $rootScope.pageTitle = '';\n        $rootScope.loading = true;\n\n        /**\n         * Task\n         */\n        $scope.task = null;\n        $scope.doers = null;\n        $scope.isOnToDoList = false;\n\n        function onTaskLoad(task) {\n            $scope.task = task;\n            $scope.isOnToDoList = $scope.task.isOnToDoList;\n            $element.css('background-image', 'url(' + task.bgUrl + ')');\n        }\n\n        /**\n         * Posts List\n         */\n        $scope.showPostTasks = false;\n        $scope.postsOrder = 'featured';\n        $scope.posts = PostResource.getTaskPosts({taskSlug: $stateParams.slug}, {type: $scope.postType});\n\n        /**\n         * Post\n         */\n        $scope.post = null;\n        $scope.comments = null;\n        if ($stateParams.postSlug) {\n\n            PostResource.get({postSlug:$stateParams.postSlug}, function (response) {\n                $rootScope.loading = false;\n                //$rootScope.pageTitle = response.post.title;\n                $scope.post = response.post;\n                onTaskLoad(response.post.task);\n\n                if (response.post) {\n                    $scope.comments = CommentResource.getPostsComments({postId: response.post.id})\n                }\n            });\n\n        } else {\n\n            TaskResource.get({slug: $stateParams.slug}, function (task) {\n                $rootScope.loading = false;\n                //$rootScope.pageTitle = task.name;\n                onTaskLoad(task);\n\n                $scope.loadDoers();\n            });\n        }\n\n        $scope.loadDoers = function() {\n            TaskResource.getDoers({slug: $scope.task.slug}, function (result) {\n                $scope.doers = result;\n            });\n        };\n\n        $scope.likeDoer = function($event, doer) {\n            preventDefault($event);\n\n            doer.likeClicked = true;\n            doer.pivot.liked = doer.pivot.liked ? false : true;\n\n            if (doer.pivot.liked) {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) + 1;\n                ToDoResource.likeDoer({toDoId: doer.pivot.id});\n            } else {\n                doer.pivot.likeCount = parseInt(doer.pivot.likeCount) - 1;\n                ToDoResource.unlikeDoer({toDoId: doer.pivot.id});\n            }\n\n            doer.likeCount = doer.pivot.likeCount;\n        };\n\n        $scope.goToTask = function($event, task) {\n            /*preventDefault($event);\n            $scope.post = null;\n            onTaskLoad(task);*/\n        };\n\n        // TODO: paginate posts\n\n        $scope.setPostsOrder = function(order) {\n            $scope.postsOrder = order;\n        };\n\n        $scope.showSubmissionForm = function() {\n            ModalService.showModal({\n                templateUrl: 'views/modals/submission-form.html',\n                controller: 'SubmissionFormController',\n                inputs: {\n                    task: $scope.task,\n                }\n            }).then(function(modal) {\n\n                modal.close.then(function (post) {\n                    if (post) {\n                        $scope.posts.posts.unshift(post);\n                    }\n                });\n\n            });\n\n        };\n\n        $scope.showPostForm = function(type) {\n            ModalService.showModal({\n                templateUrl: 'views/modals/post-form.html',\n                controller: 'PostFormController',\n                inputs: {\n                    task: $scope.task,\n                    postType: type\n                }\n            }).then(function(modal) {\n\n                modal.close.then(function (post) {\n                    if (post) {\n                        $scope.posts.posts.unshift(post);\n                    }\n                });\n\n            });\n\n        };\n\n        $scope.addToDo = function () {\n            console.log('addToDo');\n            ToDoResource.save(\n                {username: $rootScope.currentUser.username},\n                {taskId: $scope.task.id},\n                function (result) {\n                    alertSuccess('Added to To Do List');\n                    $scope.isOnToDoList = true;\n                    $scope.loadDoers();\n                },\n                function (result) {\n                    alertError(result.data.message);\n                }\n            );\n        };\n\n        $scope.removeToDo = function () {\n            ToDoResource.delete(\n                {username: $rootScope.currentUser.username},\n                {taskId: $scope.task.id},\n                function (result) {\n                    alertSuccess('Removed from To Do List');\n                    $scope.isOnToDoList = false;\n                    $scope.loadDoers();\n                },\n                function (result) {\n                    alertError(result.data.message);\n                }\n            );\n        };\n\n        $scope.submissionFormData = {\n            loading: false,\n            text: '',\n            image: ''\n        };\n\n        $scope.addSubmission = function () {\n            $scope.submissionFormData.loading = true;\n            SubmissionResource.save(\n                {\n                    taskId: $scope.task.id,\n                    text: $scope.submissionFormData.text,\n                    image: $scope.submissionFormData.image\n                },\n                function (response) {\n\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            );\n        };\n\n        /**\n         * Comments\n         */\n\n        $scope.commentFormVisible = false;\n        $scope.showCommentForm = function($event, replyToComment) {\n            preventDefault($event);\n\n            $scope.commentFormVisible = true;\n\n            if (replyToComment) {\n                $scope.commentFormData.replyTo = replyToComment;\n                // Move comment form to reply hole\n                $('.comment[data-commentid=' + replyToComment.id + '] > .replies').prepend($('#comment-form-include'));\n            } else {\n                $scope.commentFormData.replyTo = null;\n                // Move comment form to top level hole\n                $('#comment-form-container').prepend($('#comment-form-include'));\n            }\n\n        };\n\n        $scope.hideCommentForm = function (clear) {\n            if (clear) {\n                $scope.commentFormData.comment = '';\n            }\n            $scope.commentFormVisible = false;\n            $('#comment-form-container').prepend($('#comment-form-include'));\n        };\n\n        $scope.loadCommentReplies = function ($event, comment) {\n            preventDefault($event);\n            CommentResource.getCommentReplies(\n                {\n                    'commentId': comment.id\n                },\n                function (response) {\n                    comment.replies = response.comments\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            )\n        };\n\n        $scope.commentFormData = {\n            loading: false,\n            replyTo: null,\n            comment: ''\n        };\n\n        $scope.addComment = function () {\n\n            //CKEDITOR.instances['comment-text'].fire('change');\n            $scope.commentFormData.loading = true;\n\n            if ($scope.commentFormData.replyTo) {\n\n                CommentResource.saveReply(\n                    {\n                        commentId: $scope.commentFormData.replyTo.id,\n                        //postId: $scope.post.id,\n                        comment: $scope.commentFormData.comment,\n                    },\n                    function (response) {\n                        if (!$scope.commentFormData.replyTo.replies) {\n                            $scope.commentFormData.replyTo.replies = [];\n                        }\n                        $scope.commentFormData.replyTo.replies.unshift(response.comment);\n                        $scope.commentFormData.replyTo.replyCount += 1;\n                        $scope.hideCommentForm(true);\n                    },\n                    function (response) {\n                        alertError(response.data.message);\n                    }\n                );\n\n            } else {\n\n                CommentResource.save(\n                    {\n                        postId: $scope.post.id,\n                        comment: $scope.commentFormData.comment,\n                    },\n                    function (response) {\n                        $scope.comments.comments.unshift(response.comment);\n                        $scope.hideCommentForm(true);\n                    },\n                    function (response) {\n                        alertError(response.data.message);\n                    }\n                );\n\n            }\n\n        };\n    }\n);\n","app.controller(\n    'ForgotController',\n    function ($scope, $state, $stateParams, UserResource) {\n\n        $scope.forgotFormData = {\n            loading: false,\n            email: '',\n            errors: {}\n        };\n\n        $scope.success = false;\n\n        $scope.submit = function () {\n\n            $scope.forgotFormData.loading = true;\n\n            UserResource.forgot(\n                {},\n                {email: $scope.forgotFormData.email},\n                function (response) {\n                    $scope.forgotFormData.loading = false;\n                    $scope.success = true;\n                },\n                function (response) {\n                    $scope.forgotFormData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('email')\n                        )\n                    ) {\n                        $scope.forgotFormData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            );\n\n            return false;\n        };\n    }\n);\n","app.controller(\n    'LoginController',\n    function ($scope, $state, $stateParams, AuthService) {\n\n        $scope.loginFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            errors: {}\n        };\n\n        $scope.login = function () {\n\n            $scope.loginFormData.loading = true;\n\n            AuthService\n                .login($scope.loginFormData.username, $scope.loginFormData.password)\n                .then(\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    $state.go('home');\n                },\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    $scope.sortLoginErrors(response);\n                }\n            );\n\n            return false;\n        };\n\n        $scope.sortLoginErrors = function (response) {\n            if (\n                response.messages\n                &&\n                (\n                    response.messages.hasOwnProperty('username')\n                    ||\n                    response.messages.hasOwnProperty('password')\n                )\n            ) {\n                $scope.loginFormData.errors = response.messages;\n            } else {\n\n                $scope.loginFormData.errors = {\n                    general: response.message\n                };\n            }\n        };\n\n        if ($stateParams.loginFormData) {\n            $scope.loginFormData = $stateParams.loginFormData;\n        }\n\n        if ($stateParams.response) {\n            $scope.sortLoginErrors($stateParams.response);\n        }\n    }\n);\n","app.controller(\n    'ResetController',\n    function ($scope, $state, $stateParams, UserResource) {\n\n        $scope.resetFormData = {\n            loading: false,\n            token: $stateParams.token,\n            password: '',\n            confirmPassword: '',\n            errors: {}\n        };\n\n        $scope.success = false;\n\n        $scope.submit = function () {\n\n            if ($scope.resetFormData.password != $scope.resetFormData.confirmPassword) {\n                $scope.resetFormData.errors = {\n                    confirmPassword: ['Passwords do not match.']\n                };\n                return false;\n            }\n\n            $scope.resetFormData.loading = true;\n\n            UserResource.reset(\n                {},\n                {\n                    token: $scope.resetFormData.token,\n                    password: $scope.resetFormData.password\n                },\n                function (response) {\n                    $scope.resetFormData.loading = false;\n                    $scope.success = true;\n                },\n                function (response) {\n                    $scope.resetFormData.loading = false;\n\n                    if (\n                        response.data.messages\n                        &&\n                        (\n                            response.data.messages.hasOwnProperty('password')\n                        )\n                    ) {\n                        $scope.resetFormData.errors = response.data.messages;\n                    } else {\n\n                        alertError(response.data.message);\n                    }\n\n                }\n            );\n\n            return false;\n        };\n    }\n);\n","app.controller(\n    'SignupController',\n    function ($scope, $state, AuthService, UserResource) {\n\n        $scope.signupFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            email: '',\n            errors: {}\n        };\n\n        $scope.signup = function () {\n            if ($scope.signupFormData.loading) {\n                return false;\n            }\n            $scope.signupFormData.errors = {};\n            $scope.signupFormData.loading = true;\n\n            UserResource.save({\n                username: $scope.signupFormData.username,\n                password: $scope.signupFormData.password,\n                email: $scope.signupFormData.email,\n            }, function (response) {\n\n                AuthService\n                    .login($scope.signupFormData.username, $scope.signupFormData.password)\n                    .then(\n                    function (response) {\n                        $scope.signupFormData.loading = false;\n                        $state.go('home');\n                    },\n                    function (response) {\n                        $scope.signupFormData.loading = false;\n                        $scope.signupFormData.errors = {\n                            general: response.message\n                        };\n                    }\n                );\n\n            }, function (response) {\n                $scope.signupFormData.loading = false;\n\n                response = response.data;\n                if (\n                    response.messages\n                    &&\n                    (\n                        response.messages.hasOwnProperty('username')\n                        ||\n                        response.messages.hasOwnProperty('password')\n                        ||\n                        response.messages.hasOwnProperty('email')\n                    )\n                ) {\n                    $scope.signupFormData.errors = response.messages;\n                } else {\n\n                    $scope.signupFormData.errors = {\n                        general: response.message\n                    };\n                }\n            });\n        };\n    }\n);\n","app.controller(\n    'PostFormController',\n    function ($scope, PostResource, task, postType, close) {\n\n        $scope.task = task;\n        $scope.postType = postType ? postType : 'tip';\n        $scope.close = close;\n\n        $scope.formData = {\n            title: '',\n            text: '',\n        };\n\n        $scope.setPostType = function($event, postType) {\n            preventDefault($event);\n\n            $scope.postType = postType === $scope.postType ? '' : postType;\n        };\n\n        $scope.submit = function () {\n            PostResource.saveTaskPost(\n                {\n                    taskSlug: $scope.task.slug,\n                },\n                {\n                    title: $scope.formData.title,\n                    text: $scope.formData.text,\n                    type: $scope.postType\n                },\n                function (response) {\n                    console.log(response);\n                    alertSuccess(\"Post saved\");\n                    close(response.post);\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            );\n        };\n\n    }\n);\n","app.controller(\n    'SubmissionFormController',\n    function ($scope, SubmissionResource, task, close, $timeout, AuthService) {\n\n        $scope.task = task;\n        $scope.close = close;\n\n        $scope.stage = 1;\n        $scope.nextEnabled = false;\n\n        $scope.formData = {\n            imageIds: [],\n            title: '',\n            text: '',\n            private: 0,\n            cost: 2,\n            time: 3,\n            rating:5\n        };\n\n        function getImageIds() {\n            var ids = [];\n            var files = dropzone.getFilesWithStatus('success');\n            for (var i = 0; i < files.length; i++) {\n                var file = files[i];\n                var response = JSON.parse(file.xhr.response);\n                if (response && response.hasOwnProperty('image')) {\n                    ids.push(response.image.id);\n                }\n            }\n            return ids;\n        }\n\n        var dropzone;\n        $timeout(function() {\n            dropzone = new Dropzone(\"#post-file\", {\n                acceptedFiles: \"image/*\",\n                addRemoveLinks: true,\n                url: '/api/images?sessionToken=' + AuthService.getSessionToken(),\n                clickable: '.dropzone-btn',\n                thumbnailWidth: 96,\n            });\n\n            dropzone.on('sending', function(){\n                $scope.nextEnabled = false;\n                $scope.$apply();\n            });\n\n            dropzone.on('complete', function(){\n                console.log('getFilesWithStatus', dropzone.getFilesWithStatus('success'));\n                $scope.nextEnabled = dropzone.getFilesWithStatus('success').length > 0;\n                $scope.$apply();\n            });\n\n            dropzone.on('removedfile', function(){\n                $scope.nextEnabled = dropzone.getFilesWithStatus('success').length > 0;\n                $scope.$apply();\n            });\n\n        }, 10);\n\n        $scope.toStage = function (stage) {\n            //if (stage > $scope.stage) {\n            //    return false;\n            //}\n            $scope.stage = stage;\n        };\n\n        $scope.nextStage = function () {\n\n            switch ($scope.stage) {\n                case 1:\n                    dropzone.processQueue();\n                    $scope.formData.imageIds = getImageIds();\n                    break;\n\n                case 2:\n\n                    break;\n            }\n\n            $scope.stage++;\n        };\n\n        $scope.setPrivate = function($event, val) {\n            preventDefault($event);\n\n            $scope.formData.private = val;\n        };\n\n        $scope.submit = function () {\n\n            SubmissionResource.save(\n                {\n                    taskSlug: $scope.task.slug,\n                },\n                $scope.formData,\n                function (response) {\n                    console.log(response);\n                    alertSuccess(\"Submission saved\");\n                    close(response.post);\n                },\n                function (response) {\n                    alertError(response.data.message);\n                }\n            );\n\n        };\n\n    }\n);\n","app.controller(\n    'CommentFormController',\n    function ($scope, $rootScope, $state, $stateParams, CommentResource) {\n\n        console.log('commentformcontroller', $scope);\n\n        $scope.task = $scope.$parent.task;\n\n\n\n    }\n);\n","app.controller(\n    'CommentsController',\n    function ($scope, $state, CommentResource) {\n\n        $scope.likeComment = function($event, comment) {\n            preventDefault($event);\n\n            comment.liked = comment.liked ? false : true;\n            comment.likeClicked = true;\n\n            if (comment.liked) {\n                CommentResource.likeComment({commentId: comment.id});\n                comment.likeCount = parseInt(comment.likeCount) + 1;\n            } else {\n                CommentResource.unlikeComment({commentId: comment.id});\n                comment.likeCount = parseInt(comment.likeCount) - 1;\n            }\n        };\n\n    }\n);\n","app.controller(\n    'HeaderController',\n    function ($scope, $state, ModalService, AuthService) {\n\n        $scope.loginFormData = {\n            loading: false,\n            username: '',\n            password: '',\n            errors: {}\n        };\n\n        $scope.login = function () {\n\n            $scope.loginFormData.loading = true;\n            console.log($scope);\n\n            AuthService\n                .login($scope.loginFormData.username, $scope.loginFormData.password)\n                .then(\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                },\n                function (response) {\n                    $scope.loginFormData.loading = false;\n                    console.log('passing to login', {loginFormData: $scope.loginFormData, response: response});\n                    $state.go('login', {loginFormData: $scope.loginFormData, response: response});\n                }\n            );\n\n            return false;\n        };\n\n        $scope.logout = function () {\n            AuthService.logout();\n        };\n\n        $scope.back = function () {\n            window.history.go(-1);\n        }\n    }\n);\n","app.controller(\n    'PostsController',\n    function ($scope, $state, PostResource) {\n\n        console.log('PostsController', $scope);\n\n        $scope.likePost = function($event, post) {\n            preventDefault($event);\n\n            post.liked = post.liked ? false : true;\n            post.likeClicked = true;\n\n            if (post.liked) {\n                PostResource.likePost({id: post.id});\n                post.likeCount = parseInt(post.likeCount) + 1;\n            } else {\n                PostResource.unlikePost({id: post.id});\n                post.likeCount = parseInt(post.likeCount) - 1;\n            }\n        };\n\n        $scope.goToPost = function($event, post) {\n            /*try {\n                if ($scope.$parent.$parent.hasOwnProperty('post')) {\n                    preventDefault($event);\n                    $scope.$parent.$parent.post = post;\n                }\n            } catch (e) {\n                console.log(e);\n            }*/\n        };\n\n    }\n);\n","app.controller(\n    'UserProfileController',\n    function ($scope, $rootScope, $state, $stateParams, AuthService, UserResource, ToDoResource) {\n\n        $rootScope.loading = true;\n        $rootScope.pageTitle = $stateParams.username;\n\n        $scope.username = $stateParams.username;\n\n        $scope.user = null;\n        $scope.stickers = null;\n        $scope.todo = null;\n        $scope.posts = null;\n        UserResource.get(\n            {username: $scope.username},\n            function(user) {\n                $scope.user = user;\n\n                $scope.stickers = UserResource.getStickers({username: $scope.username});\n                $scope.posts = UserResource.getPosts({username: $scope.username});\n\n                ToDoResource.query({username: $scope.username},\n                    function (result) {\n                        $scope.todo = result.tasks\n                    }\n                );\n\n            }\n        );\n    }\n);\n","app.controller(\n    'UserStickersController',\n    function ($scope, $rootScope, $state, $stateParams, UserResource) {\n\n        $rootScope.loading = true;\n        $rootScope.pageTitle = $stateParams.username;\n\n        $scope.user = null;\n        $scope.username = $stateParams.username;\n        $scope.stickers = [];\n\n        UserResource.getStickers({username: $scope.username},\n            function (result) {\n                $scope.user = result.user,\n                    $scope.stickers = result.stickers\n            }\n        );\n    }\n);\n","app.controller(\n    'UserSubmissionsController',\n    function ($scope, $rootScope, $state, $stateParams, UserResource) {\n\n        $rootScope.loading = true;\n        $rootScope.pageTitle = $stateParams.username;\n\n        $scope.submissions = [];\n        $scope.user = null;\n        $scope.username = $stateParams.username;\n\n        UserResource.getSubmissions({username: $scope.username},\n            function (result) {\n                $scope.user = result.user;\n                $scope.submissions = result.submissions;\n            }\n        );\n    }\n);\n","app.controller(\n    'UserToDoController',\n    function ($scope, $rootScope, $state, $stateParams, UserResource, ToDoResource) {\n\n        $rootScope.loading = true;\n        $rootScope.pageTitle = $stateParams.username;\n\n        $scope.tasks = [];\n        $scope.user = null;\n        $scope.username = $stateParams.username;\n\n        ToDoResource.query({username: $scope.username},\n            function (result) {\n                $scope.user = result.user,\n                    $scope.tasks = result.tasks\n            }\n        );\n    }\n);\n","app.directive('avatar', function factory() {\n    return {\n        scope: {\n            img: '='\n        },\n        template: function($scope) {\n            return '<img ng-if=\"img\" class=\"user-image\" ng-src=\"{{img.thumbUrl}}\" /><span ng-if=\"!img\" class=\"user-image default-user-image\"></span>';\n        }\n    };\n});\n","(function (angular, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['angular', 'ckeditor'], function (angular) {\n            return factory(angular);\n        });\n    } else {\n        return factory(angular);\n    }\n}(angular || null, function (angular) {\n\n    var app = angular.module('ngCkeditor', []);\n    var $defer, loaded = false;\n\n    app.run(['$q', '$timeout', function ($q, $timeout) {\n        $defer = $q.defer();\n\n        if (angular.isUndefined(CKEDITOR)) {\n            throw new Error('CKEDITOR not found');\n        }\n\n        CKEDITOR.disableAutoInline = true;\n\n        function checkLoaded() {\n            if (CKEDITOR.status == 'loaded') {\n\n                var localPlugins = [\n                    'uploadimage',\n                    'uploadwidget',\n                    'widget',\n                    'filetools',\n                    'notificationaggregator',\n                    'lineutils',\n                    'notification'\n                ];\n                for (var i = 0; i < localPlugins.length; i++) {\n                    CKEDITOR.plugins.addExternal(localPlugins[i],\n                        '/assets/bower_components/ckeditor/plugins/' + localPlugins[i] + '/');\n                }\n                CKEDITOR.plugins.addExternal('markdown', '/assets/bower_components/ckeditor-markdown-plugin/markdown/');\n                CKEDITOR.plugins.addExternal('imagebutton', '/assets/bower_components/ckeditor-image-button/');\n\n                loaded = true;\n                $defer.resolve();\n            } else {\n                checkLoaded();\n            }\n        }\n\n        CKEDITOR.on('loaded', checkLoaded);\n\n        /**\n         * Make link dialog nicer\n         */\n        CKEDITOR.on('dialogDefinition', function (e) {\n            // NOTE: this is an instance of CKEDITOR.dialog.definitionObject\n            var dd = e.data.definition;\n\n            if (e.data.name === 'link') {\n                dd.minHeight = 30;\n\n                // remove the unwanted tabs\n                dd.removeContents('advanced');\n                dd.removeContents('target');\n                dd.removeContents('upload');\n\n                // remove all elements from the 'info' tab\n                var tabInfo = dd.getContents('info');\n                while (tabInfo.elements.length > 0) {\n                    tabInfo.remove(tabInfo.elements[0].id);\n                }\n\n                // add a simple URL text field\n                tabInfo.add({\n                    type: 'text',\n                    id: 'urlNew',\n                    label: 'URL',\n                    setup: function (data) {\n                        var value = '';\n                        if (data.url) {\n                            if (data.url.protocol) {\n                                value += data.url.protocol;\n                            }\n                            if (data.url.url) {\n                                value += data.url.url;\n                            }\n                        } else if (data.email && data.email.address) {\n                            value = 'mailto:' + data.email.address;\n                        }\n                        this.setValue(value);\n                    },\n                    commit: function (data) {\n                        data.url = {protocol: '', url: this.getValue()};\n                    }\n                });\n            }\n        });\n\n        $timeout(checkLoaded, 100);\n    }]);\n\n    app.directive('ckeditor', ['$timeout', '$q', function ($timeout, $q) {\n        'use strict';\n\n        return {\n            restrict: 'AC',\n            require: ['ngModel', '^?form'],\n            scope: false,\n            link: function (scope, element, attrs, ctrls) {\n                var ngModel = ctrls[0];\n                var form = ctrls[1] || null;\n                var EMPTY_HTML = '<p></p>',\n                    isTextarea = element[0].tagName.toLowerCase() == 'textarea',\n                    data = [],\n                    isReady = false;\n\n                if (!isTextarea) {\n                    element.attr('contenteditable', true);\n                }\n\n                var onLoad = function () {\n                    var options = {\n                        contentsCss: [\n                            'https://fonts.googleapis.com/css?family=Roboto+Slab|Roboto:300|Rancho',\n                            '/assets/build/' + assetVersion + '/css/stickable.min.css',\n                        ],\n                        extraPlugins: 'uploadimage,markdown,imagebutton', //uploadimage,markdown', //simpleuploads',\n                        disableObjectResizing: true,\n                        linkShowAdvancedTab: false,\n                        linkShowTargetTab: false,\n                        selectMultiple: true,\n                        imageUploadUrl: '/api/images',\n                        removePlugins: 'elementspath,magicline,contextmenu,liststyle,tabletools',\n                        resize_enabled: false,\n                        height: 300,\n                        width: '100%',\n                        toolbar: [\n                            {items: ['Bold', 'Italic', 'Strike', 'Underline']},\n                            {items: ['BulletedList', 'NumberedList']},\n                            {items: ['Link', 'Image', 'imagebutton']},\n                            {items: ['Markdown']}\n                        ],\n                        disableNativeSpellChecker: false,\n                        uiColor: '#FAFAFA',\n                    };\n                    if (attrs.ckeditor) {\n                        options = angular.extend(options, scope[attrs.ckeditor]);\n                    }\n\n                    var instance = (isTextarea)\n                            ? CKEDITOR.replace(element[0], options)\n                            : CKEDITOR.inline(element[0], options),\n                        configLoaderDef = $q.defer();\n\n                    element.bind('$destroy', function () {\n                        console.log('destroy');\n\n                        instance.removeAllListeners();\n                        CKEDITOR.remove(instance);\n\n                        /*instance.destroy(\n                            false //If the instance is replacing a DOM element, this parameter indicates whether or not to update the element with the instance contents.\n                        );*/\n                    });\n\n                    var setModelData = function (setPristine) {\n                        var data = instance.getData();\n                        data = data ? toMarkdown(data) : null;\n\n                        $timeout(function () { // for key up event\n                            (setPristine !== true || data != ngModel.$viewValue) && ngModel.$setViewValue(data);\n                            (setPristine === true && form) && form.$setPristine();\n                        }, 0);\n                    };\n\n                    var onUpdateModelData = function (setPristine) {\n                        if (!data.length) {\n                            return;\n                        }\n\n                        var item = data.pop() || EMPTY_HTML;\n                        isReady = false;\n                        instance.setData(item, function () {\n                            setModelData(setPristine);\n                            isReady = true;\n                        });\n                    };\n\n                    //instance.on('pasteState',   setModelData);\n                    instance.on('change', setModelData);\n                    instance.on('blur', setModelData);\n                    //instance.on('key', setModelData); // for source view\n\n                    instance.on('instanceReady', function () {\n                        scope.$broadcast(\"ckeditor.ready\");\n                        scope.$apply(function () {\n                            onUpdateModelData(true);\n                        });\n\n                        instance.document.on(\"keyup\", setModelData);\n                    });\n\n                    instance.on('customConfigLoaded', function () {\n                        configLoaderDef.resolve();\n                    });\n\n                    ngModel.$render = function () {\n                        data.push(ngModel.$viewValue);\n                        if (isReady) {\n                            onUpdateModelData();\n                        }\n                    };\n                };\n\n                if (CKEDITOR.status == 'loaded') {\n                    loaded = true;\n                }\n\n                if (loaded) {\n                    onLoad();\n                } else {\n                    $defer.promise.then(onLoad);\n                }\n            }\n        };\n    }]);\n\n    return app;\n}));\n","/**\n * An AngularJS directive for Dropzone.js, http://www.dropzonejs.com/\n *\n * Usage:\n *\n * <div ng-app=\"app\" ng-controller=\"SomeCtrl\">\n *   <button dropzone=\"dropzoneConfig\">\n *     Drag and drop files here or click to upload\n *   </button>\n * </div>\n */\n\napp.directive('dropzone', function () {\n  return function (scope, element, attrs) {\n    var config, dropzone;\n\n    config = scope[attrs.dropzone];\n\n    // create a Dropzone for the element with the given options\n    dropzone = new Dropzone(element[0], config.options);\n\n    // bind the given event handlers\n    angular.forEach(config.eventHandlers, function (handler, event) {\n      dropzone.on(event, handler);\n    });\n  };\n});\n","(function() {\n    \"use strict\";\n\n    angular.module('masonry', ['ng']).directive('masonry', function($timeout) {\n        return {\n            restrict: 'AC',\n            link: function(scope, elem, attrs) {\n                var container = elem[0];\n                var options = angular.extend({\n                    itemSelector: '.item'\n                }, angular.fromJson(attrs.masonry));\n\n                var masonry = scope.masonry = new Masonry(container, options);\n\n                var debounceTimeout = 0;\n                scope.update = function() {\n                    if (debounceTimeout) {\n                        $timeout.cancel(debounceTimeout);\n                    }\n                    debounceTimeout = $timeout(function() {\n                        debounceTimeout = 0;\n\n                        masonry.reloadItems();\n                        masonry.layout();\n                        elem.find('*[masonry-image]').css('visibility', 'visible');\n                    }, 120);\n                };\n\n                scope.removeBrick = function() {\n                    $timeout(function() {\n                        masonry.reloadItems();\n                        masonry.layout();\n                   }, 500);\n                };\n\n                scope.appendBricks = function(ele) {\n                    masonry.appended(ele);\n                };\n\n                scope.$on('masonry.layout', function() {\n                    masonry.layout();\n                });\n\n                scope.update();\n            }\n        };\n    }).directive('masonryImage', function() {\n        return {\n            restrict: 'AC',\n            link: function(scope, elem) {\n                elem.css('visibility', 'hidden');\n                var master = elem.closest('*[masonry]').scope(),\n                    update = master.update,\n                    removeBrick = master.removeBrick,\n                    appendBricks = master.appendBricks;\n                if (update) {\n                    imagesLoaded( elem.get(0), update);\n                    elem.ready(update);\n                }\n                if (appendBricks) {\n                    imagesLoaded( elem.get(0), appendBricks(elem));\n                }\n                scope.$on('$destroy', function() {\n                    if (removeBrick) {\n                        removeBrick();\n                    }\n                });\n            }\n        };\n    });\n})();\n","app.directive('notifications', function () {\n    return {\n        templateUrl: 'views/directives/notifications.html',\n        replace: true,\n        controller: function ($scope, $state) {\n\n            $scope.goTo = function ($event, notification) {\n                preventDefault($event);\n\n                switch (notification.destination.type) {\n                    case 'comment':\n                        $state.go('post', {\n                            slug: notification.destination.post.slug,\n                            postSlug: notification.destination.post.slug,\n                            commentId: notification.commentId\n                        });\n                        break;\n\n                    case 'post':\n                        $state.go('post', {\n                            slug: notification.destination.task.slug,\n                            postSlug: notification.destination.post.slug\n                        });\n                        break;\n\n                    case 'task':\n                        $state.go('task', {slug: notification.destination.task.slug});\n                        break;\n\n                    case 'sticker':\n                        $state.go('sticker', {slug: notification.destination.sticker.slug});\n                        break;\n                }\n            };\n        }\n    }\n});\n","app.directive('rating', function factory() {\n    return {\n        restrict: 'C',\n        controller: function($scope) {\n            $scope.setValue = function(val) {\n                $scope.model = val;\n            }\n        },\n        scope: {\n            model: '@',\n            values: '='\n        },\n        template: function () {\n            var t = '';\n            for (var i = 5; i > 0; i--) {\n                t += '<li ng-class=\"{\\'active\\': model === ' + i + '}\" ng-click=\"setValue(' + i + ')\">{{ values['+(i-1)+'] }}</li>';\n            }\n            console.log(t);\n            return t;\n        }\n    };\n});\n","app.directive('stickerProgress', function factory() {\n    return {\n        restrict: 'C',\n        scope: {\n            progress: '='\n        },\n        templateUrl: 'views/directives/sticker-progress.html'\n    };\n});\n","app.directive('sticker', function factory() {\n    return {\n        restrict: 'C',\n        link: function ($scope, element) {\n            $scope.$watch(\"img\", function (newValue, oldValue) {\n                if (newValue) {\n                    console.log('img', newValue);\n                    Sticker.init(element[0]);\n                    element.find('.sticker-img').css('background-image', 'url(' + $scope.img + ')');\n                }\n            });\n        },\n        scope: {\n            img: '@'\n        }\n    };\n});\n","app.directive('userList', function factory() {\n    return {\n        restrict: 'C',\n        scope: {\n            data: '=',\n            like: '='\n        },\n        templateUrl: 'views/directives/user-list.html'\n    };\n});\n","'use strict';\n\nangular.module('markdown', [])\n    .filter(\n        'markdown',\n        function () {\n            return function (text) {\n\n                console.log('text', text);\n                console.log('output', marked(text || ''));\n\n                return marked(text || '');\n            };\n        }\n    );\n","app.filter('plural', function () {\n    return function (word, count) {\n        // TODO: localization. Also breaks for some English like 'category'\n        return count === 1 ? word : word + 's';\n    }\n});\n","/**\n * Shuffles the items in an array.\n * Source: http://stackoverflow.com/a/10142256/710630\n *\n * @returns {Array}\n */\nArray.prototype.shuffle = function () {\n    var i = this.length, j, temp;\n    if (i === 0) {\n        return this;\n    }\n    while (--i) {\n        j = Math.floor(Math.random() * ( i + 1 ));\n        temp = this[i];\n        this[i] = this[j];\n        this[j] = temp;\n    }\n    return this;\n};\n","/**\n * Source: http://stackoverflow.com/a/1026087/710630\n * @returns {string}\n */\nString.prototype.capitalizeFirstLetter = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1).toLowerCase();\n};\n","app.factory(\n    'CategoryResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'categories/:slug',\n            {\n                slug: '@slug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.category;\n                    }\n                },\n\n                query: {\n                    cache: true,\n                    isArray: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.categories;\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'CommentResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'comments/:commentId',\n            {\n                commentId: '@commentId',\n                postId: '@postId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                save: {\n                    method: 'POST',\n                    url: apiUrl + 'posts/:postId/comments',\n                },\n\n                saveReply: {\n                    method: 'POST',\n                    url: apiUrl + 'comments/:commentId/replies',\n                },\n\n                getPostsComments: {\n                    method: 'GET',\n                    url: apiUrl + 'posts/:postId/comments',\n                    //isArray: true\n                },\n\n                getCommentReplies: {\n                    method: 'GET',\n                    url: apiUrl + 'comments/:commentId/replies',\n                    //isArray: true\n                },\n\n                getLikes: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method:'GET'\n                },\n\n                likeComment: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method:'POST'\n                },\n\n                unlikeComment: {\n                    url: apiUrl + 'comments/:commentId/likes',\n                    method:'DELETE'\n                }\n\n            }\n        );\n    }\n);\n","app.factory(\n    'PostResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'posts/:id',\n            {\n                id: '@id',\n                postSlug: '@postSlug',\n                taskSlug: '@taskSlug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                /**\n                 * Get recent submission posts (for homepage)\n                 */\n                query: {\n\n                },\n\n                getTaskPosts: {\n                  method: 'GET',\n                    url: apiUrl + 'tasks/:taskSlug/posts',\n                },\n\n                saveTaskPost: {\n                    method: 'POST',\n                    url: apiUrl + 'tasks/:taskSlug/posts',\n                },\n\n                /**\n                 * Get a single post\n                 */\n                get: {\n                    url: apiUrl + 'posts/:postSlug',\n                    cache: true,\n                    /*transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.post;\n                    }*/\n                },\n\n                likePost: {\n                    url: apiUrl + 'posts/:id/likes',\n                    method:'POST'\n                },\n\n                unlikePost: {\n                    url: apiUrl + 'posts/:id/likes',\n                    method:'DELETE'\n                }\n\n\n            }\n        );\n    }\n);\n","app.factory(\n    'SessionResource',\n    function ($resource) {\n        return $resource(\n            apiUrl + 'sessions',\n            {\n                sessionToken: '@sessionToken',\n            },\n            {\n                get: {\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.session;\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'StickerResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'stickers/:slug',\n            {\n                slug: '@slug',\n                earntId: '@earntId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    //cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.sticker;\n                    }\n                },\n\n                getDoers: {\n                    method: 'GET',\n                    url: apiUrl + 'stickers/:slug/doers'\n                },\n\n                getEarners: {\n                    method: 'GET',\n                    url: apiUrl + 'stickers/:slug/earners'\n                },\n\n                likeEarner: {\n                    method: 'POST',\n                    url: apiUrl + 'stickers/:slug/earners/:earntId/likes'\n                },\n\n                unlikeEarner: {\n                    method: 'DELETE',\n                    url: apiUrl + 'stickers/:slug/earners/:earntId/likes'\n                }\n\n            }\n        );\n    }\n);\n","app.factory(\n    'SubmissionResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'submissions/:submissionId',\n            {\n                submissionId: '@submissionId',\n                taskSlug: '@taskSlug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                save: {\n                    method: 'POST',\n                    url: apiUrl + 'tasks/:taskSlug/submissions'\n                },\n            }\n        );\n    }\n);\n","app.factory(\n    'TaskResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'tasks/:slug',\n            {\n                slug: '@slug',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    cache: true,\n                    transformResponse: function (data) {\n                        data = angular.fromJson(data);\n                        return data.task;\n                    }\n                },\n\n                getDoers: {\n                    method: 'GET',\n                    url: apiUrl + 'tasks/:slug/doers'\n                },\n            }\n        );\n    }\n);\n","app.factory(\n    'ToDoResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users/:username/todo',\n            {\n                username: '@username',\n                slug: '@slug',\n                taskId: '@taskId',\n                toDoId: '@toDoId',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    method: 'GET',\n                    /*transformResponse: function(data) {\n                     var data = angular.fromJson(data);\n                     return data.user;\n                     }*/\n                },\n\n                delete: {\n                    method: 'DELETE',\n                    url: apiUrl + 'users/:username/todo/:taskId'\n                },\n\n                getLikes: {\n                    method: 'GET',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                },\n\n                likeDoer: {\n                    method: 'POST',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                },\n\n                unlikeDoer: {\n                    method: 'DELETE',\n                    url: apiUrl + 'todo/:toDoId/likes'\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'UserNotificationsResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users/:username/notifications/:id',\n            {\n                username: '@username',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                query: {\n                    method: 'GET',\n                    isArray: true,\n                    transformResponse: function (data) {\n                        var data = angular.fromJson(data);\n                        return data.notifications\n                    }\n                }\n            }\n        );\n    }\n);\n","app.factory(\n    'UserResource',\n    function ($resource, AuthService) {\n        return $resource(\n            apiUrl + 'users',\n            {\n                username: '@username',\n                sessionToken: function () {\n                    return AuthService.getSessionToken() || null;\n                }\n            },\n            {\n                get: {\n                    url: apiUrl + 'users/:username',\n                    cache: true,\n                    transformResponse: function (data) {\n                        var data = angular.fromJson(data);\n                        return data.user;\n                    }\n                },\n\n                update: {\n                    method: 'PUT',\n                    url: apiUrl + 'users/:username'\n                },\n\n                save: {\n                    method: 'POST',\n                },\n\n                forgot: {\n                    method: 'POST',\n                    url: apiUrl + 'users/forgot'\n                },\n\n                reset: {\n                    method: 'POST',\n                    url: apiUrl + 'users/reset'\n                },\n\n                getStickers: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/stickers'\n                },\n\n                getPosts: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/posts'\n                },\n\n                getSubmissions: {\n                    method: 'GET',\n                    url: apiUrl + 'users/:username/submissions'\n                }\n            }\n        );\n    }\n);\n","app.service(\n    'AuthService',\n    function (localStorageService, SessionResource, $q, $rootScope) {\n\n        var session = null;\n        var sessionToken = null;\n\n        return {\n\n            checkSession: function () {\n                var self = this;\n\n                if (sessionToken = localStorageService.get('sessionToken')) {\n                    SessionResource.get(\n                        {sessionToken: sessionToken},\n                        function (session) {\n                            self.onLogin(session, sessionToken);\n                        },\n                        function (response) {\n                            if (response.status === 400) {\n                                self.onLogout();\n                            } else {\n                                alertError(\"There was an error logging in to Stickable. Please refresh to try again.\");\n                            }\n                        }\n                    );\n                } else {\n                    self.onLogout();\n                }\n            },\n\n            /**\n             * @param username\n             * @param password\n             * @returns $q\n             */\n            login: function (username, password) {\n                var self = this;\n\n                return $q(function (resolve, reject) {\n\n                    SessionResource.save({\n                        username: username,\n                        password: password\n                    }, function (response) {\n\n                        self.onLogin(response.session, response.sessionToken);\n\n                        // Resolve promise (sends back user)\n                        resolve(response.session.user);\n\n                    }, function (response) {\n                        reject(response.data);\n                    });\n\n                });\n            },\n\n            onLogin: function (newSession, newSessionKey) {\n\n                session = newSession;\n                sessionToken = newSessionKey;\n                localStorageService.set('sessionToken', newSessionKey);\n\n                console.log('onLogin', newSession);\n\n                // Tell everybody we're logged in\n                $rootScope.$broadcast('login', {user: newSession.user});\n            },\n\n            logout: function () {\n                var self = this;\n\n                SessionResource.delete({\n                    sessionToken: sessionToken\n                });\n\n                self.onLogout();\n\n            },\n\n            onLogout: function () {\n\n                session = false;\n                sessionToken = false;\n                localStorageService.remove('sessionToken');\n\n                // Tell everybody we're logged in\n                $rootScope.$broadcast('logout');\n\n            },\n\n            getSessionToken: function () {\n                return sessionToken;\n            },\n\n            getUser: function () {\n                if (session === null) {\n                    return null;\n                }\n\n                return session && session.user ? session.user : false;\n            }\n        };\n    }\n);\n","app.service(\n    'ProgressService',\n    function () {\n\n        return {\n            /**\n             *\n             * @param {Object} sticker\n             */\n            getProgress: function (sticker) {\n\n                var progress = {\n                    completed: 0,\n                    completedIds: [],\n                    pending: 0,\n                    pendingIds: [],\n                    rejected: 0,\n                    rejectedIds: [],\n                    remaining: 0,\n                    percent: 0\n                };\n\n                progress.completed = sticker.progress.completed.length;\n\n                for (var i = 0; i < sticker.progress.completed.length; i++) {\n                    progress.completedIds.push(sticker.progress.completed[i].id);\n                }\n\n                for (var i = 0; i < sticker.progress.pending.length; i++) {\n                    progress.pendingIds.push(sticker.progress.pending[i].id);\n                }\n\n                for (var i = 0; i < sticker.progress.rejected.length; i++) {\n                    progress.rejectedIds.push(sticker.progress.rejected[i].id);\n                }\n\n                progress.pending = sticker.progress.pending.length;\n                progress.rejected = sticker.progress.rejected.length;\n\n                var required = sticker.requiredTasks;\n                if (!required) {\n                    required = sticker.tasks.length;\n                }\n\n                progress.remaining = Math.max(0, required - progress.completed);\n\n                progress.percent = Math.ceil(Math.min(progress.completed, required) / required * 100);\n\n                return progress;\n            }\n        }\n    }\n);\n"]}