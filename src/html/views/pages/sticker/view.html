<div class="content">
    <div class="splash sticker-splash">
        <div class="container">
            <div class="row">

                <div class="col-lg-6 text-shadow">

                    <span class="sticker" img="{{ sticker.design.imageUrl }}"></span>

                    <div class="titlecrumbs sticker-title">
                        <h3><a href="/category/{{ sticker.category.slug }}"><i class="fa fa-folder"></i> {{
                            sticker.category.name }} Category</a></h3>

                        <h1>{{ sticker.name }}</h1>
                    </div>

                    <div class="alert alert-success clear text-center" ng-if="sticker.hasCompleted">
                        <p><i class="fa fa-trophy"></i> Congratulations, you've earnt this sticker!</p>
                        <p><a class="btn btn-success" href="/user/{{currentUser.username}}/stickers">See it in your Sticker Book</a></p>
                    </div>

                    <p class="sticker-desc" ng-bind-html="sticker.description | markdown"></p>

                    <ul class="sticker-info">
                        <li ng-if="sticker.creator">
                            <i class="fa fa-user"></i> Sticker designed by
                            <a href="/user/{{ sticker.creator.url }}">{{ sticker.creator.username }}</a>
                        </li>
                    </ul>
                </div>

                <div class="col-lg-6">

                    <ul class="task-list">

                        <li class="header">
                            <h3>
                                Complete {{ (sticker.requiredTasks ? sticker.requiredTasks : 'all') }}
                                of these tasks to earn the sticker:</h3>
                        </li>

                        <li class="ng-hide" ng-show="sticker.isOnToDoList">
                           <span class="sticker-progress" progress="progress"></span>
                        </li>


                        <li ng-repeat="task in sticker.tasks" class="task" ng-class="{
                            'completed': task.hasCompleted,
                            }">
                            <a href="/task/{{ task.slug }}">

                                <span ng-if="progress && progress.pendingIds.indexOf(task.id) !== -1" class="label label-warning">Submitted</span>
                                <span ng-if="progress && progress.rejectedIds.indexOf(task.id) !== -1" class="label label-danger">Rejected</span>
                                <span ng-if="task.hasCompleted" class="label label-success">Completed</span>

                                <i class="fa" ng-class="{'fa-circle': !task.hasCompleted, 'fa-check-circle': task.hasCompleted}"></i>{{ task.name }}
                            </a>
                        </li>

                        <li class="header" ng-hide="sticker.isOnToDoList">
                            <h3>Want this sticker?</h3>
                        </li>
                        <li ng-hide="sticker.isOnToDoList">
                            <span>
                                <a class="btn btn-primary btn-block btn-labeled" ng-click="addToDo()">
                                    <span class="btn-label"><i class="fa fa-plus-circle"></i></span>
                                    Add To To-Do List
                                </a>
                            </span>
                        </li>

                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>

                </div>

            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">

            <div class="col-lg-6">

                <h2><i class="fa fa-trophy"></i> Who's Got It</h2>
                <div class="user-list" data="earners" like="likeEarner"></div>

                <h2><i class="fa fa-users"></i> Working On It</h2>
                <div class="user-list" data="doers" like="likeDoer"></div>

            </div>

            <div class="col-lg-6">

                <h2>More {{ sticker.category.name }} Stickers</h2>

                <ul class="sticker-list small-sticker-list row">

                    <li class="col-xs-4 col-sm-3 col-lg-4"
                        ng-repeat="catSticker in sticker.category.stickers"
                        ng-if="catSticker.id != sticker.id">
                        <a href="/sticker/{{ catSticker.slug }}">
                            <span class="sticker" img="{{ catSticker.design.imageUrl }}"></span>
                            <br/>{{ catSticker.name }}
                        </a>
                    </li>
                </ul>

            </div>

        </div>
    </div>
</div>
